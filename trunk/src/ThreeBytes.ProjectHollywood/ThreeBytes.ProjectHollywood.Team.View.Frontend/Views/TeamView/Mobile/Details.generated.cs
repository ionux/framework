#pragma warning disable 1591
//------------------------------------------------------------------------------
// <auto-generated>
//     This code was generated by a tool.
//     Runtime Version:4.0.30319.261
//
//     Changes to this file may cause incorrect behavior and will be lost if
//     the code is regenerated.
// </auto-generated>
//------------------------------------------------------------------------------

namespace ThreeBytes.ProjectHollywood.Team.View.Frontend.Views.TeamView.Mobile
{
    using System;
    using System.Collections.Generic;
    using System.Globalization;
    using System.IO;
    using System.Linq;
    using System.Net;
    using System.Text;
    using System.Web;
    using System.Web.Helpers;
    using System.Web.Mvc;
    using System.Web.Mvc.Ajax;
    using System.Web.Mvc.Html;
    using System.Web.Routing;
    using System.Web.Security;
    using System.Web.UI;
    using System.Web.WebPages;
    using ThreeBytes.Core.Extensions.Mvc;
    using ThreeBytes.Core.Security.Concrete;
    using ThreeBytes.ProjectHollywood.Team.View.Resources;
    
    [System.CodeDom.Compiler.GeneratedCodeAttribute("RazorGenerator", "1.2.0.0")]
    [System.Web.WebPages.PageVirtualPathAttribute("~/Views/TeamView/Mobile/Details.cshtml")]
    public class Details : System.Web.Mvc.WebViewPage<ThreeBytes.ProjectHollywood.Team.View.Entities.TeamViewEmployee>
    {
        public Details()
        {
        }
        public override void Execute()
        {

WriteLiteral(@"
<div id=""team-employee-details-page"" data-role=""page"">
    <div data-role=""header"">
        <h1><span data-bind=""fadeInText:FirstName""></span> <span data-bind=""fadeInText: LastName""></span></h1>
        <a href=""#navigation"" data-icon=""grid"" data-rel=""dialog"" data-transition=""flow"" class=""ui-btn-right"">Menu</a>
    </div>

    <div data-role=""content"">
        <div class=""row"">
            <div class=""span12"">
                <ul data-role=""listview"" data-inset=""true"" class=""ui-listview ui-listview-inset ui-corner-all ui-shadow"">
				    <li class=""ui-li ui-li-static ui-body-c ui-corner-top"">");


            
            #line 13 "..\..\Views\TeamView\Mobile\Details.cshtml"
                                                          Write(Resources.JobTitle);

            
            #line default
            #line hidden
WriteLiteral(": <span data-bind=\"fadeInText:JobTitle\"></span></li>\r\n\t\t\t\t    <li class=\"ui-li ui" +
"-li-static ui-body-c ui-corner-bottom\">");


            
            #line 14 "..\..\Views\TeamView\Mobile\Details.cshtml"
                                                             Write(Resources.Summary);

            
            #line default
            #line hidden
WriteLiteral(@": <span data-bind=""fadeInText:Summary""></span></li>
			    </ul>
            </div>
        </div>
        <div class=""row"">
            <div class=""span12"">
                <a href=""#"" data-bind=""click: takeMeBack"" data-role=""button"" data-theme=""b"" data-icon=""back"">
                    <span class=""ui-btn-text"">Take me back</span>
                </a>
            </div>
        </div>
    </div>
    <div data-role=""footer"">
        <h4>Designed and built by <a href=""http://www.threebytes.co.uk"" target=""_blank"">Three Bytes</a>.</h4>
    </div>
</div>

");


            
            #line 31 "..\..\Views\TeamView\Mobile\Details.cshtml"
   
  using (Html.BeginScriptContext())
  {
    Html.AddScriptBlock(@"
        var team_employee_details = {};

        (function (index) {

            var hub = jQuery.connection.teamViewHub;

            team_employee_details = index;

            index.Id = ko.observable();
            index.ItemId = ko.observable();
            index.FirstName = ko.observable();
            index.LastName = ko.observable();
            index.JobTitle = ko.observable();
            index.Summary = ko.observable();
            index.History = ko.observableArray();

            index.takeMeBack = function() {
                jQuery(document).trigger('teamHost');
            };

            hub.handleRenamedTeamEmployeeEventMessage = function(id, newFirstName, newLastName) {
                if (index.ItemId() != id)
                    return;

                ko.bindingHandlers.fadeInText.highlight = true;

                if (index.FirstName() != newFirstName)
                    index.FirstName(newFirstName);

                if (index.LastName() != newLastName)
                    index.LastName(newLastName);

                ko.bindingHandlers.fadeInText.highlight = false;
            };

            hub.handleRenamedTeamEmployeeJobTitleEventMessage = function(id, newJobTitle) {
                if (index.ItemId() != id)
                    return;

                if (index.JobTitle() == newJobTitle)
                    return;

                ko.bindingHandlers.fadeInText.highlight = true;
                index.JobTitle(newJobTitle);
                ko.bindingHandlers.fadeInText.highlight = false;
            };

            hub.handleUpdatedTeamEmployeeSummaryEventMessage = function(id, newSummary) {
                if (index.ItemId() != id)
                    return;

                if (index.Summary() == newSummary)
                    return;
                    
                ko.bindingHandlers.fadeInText.highlight = true;
                index.Summary(newSummary);
                ko.bindingHandlers.fadeInText.highlight = false;
            };

            jQuery(document).bind('teamEmployeeDetails', function (event, employee) {
                jQuery.ajax({
                    url: '/Team/GetDetails/' + employee.Id(),
                    type: 'GET',
                    dataType: 'json',
                    beforeSend: function () { jQuery.mobile.showPageLoadingMsg(); },
                    success: function(data) {
                        index.Id(data.Id);
                        index.ItemId(data.ItemId);
                        index.FirstName(data.FirstName);
                        index.LastName(data.LastName);
                        index.JobTitle(data.JobTitle);
                        index.Summary(data.Summary);
                        index.History(data.History);

                        jQuery.mobile.hidePageLoadingMsg();
                        jQuery.mobile.changePage('#team-employee-details-page', {
	                        transition: 'flow',
	                        reverse: false,
	                        changeHash: false
                        });
                    },
                    complete: function() { jQuery.mobile.hidePageLoadingMsg(); }
                });
            });

            jQuery(function () {
                ko.applyBindings(index, jQuery('#team-employee-details-page')[0]);
            });
        } (team_employee_details));");
  }

            
            #line default
            #line hidden

        }
    }
}
#pragma warning restore 1591
