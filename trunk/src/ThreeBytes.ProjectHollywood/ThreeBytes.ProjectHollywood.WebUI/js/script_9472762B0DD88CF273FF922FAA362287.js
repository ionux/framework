function GetDate(n){if(n!=null){var t=eval(n.replace(/\/Date\((\d+)\)\//gi,"new Date($1)"));return dateFormat(t,"dd/mm/yyyy HH:MM:ss")}return"Not Set"}function GetDotNetDate(n){if(n!=null){var t=eval(n.replace(/\/Date\((\d+)\)\//gi,"new Date($1)"));return dateFormat(t,"mm/dd/yyyy HH:MM:ss")}return"Not Set"}function EscapeDotNet(n){var t=escape(n),i;t=t.replace(/\+/g,"%2B"),i=t;do t=i,i=t.replace("/","%2F");while(t!=i);return t=i}function isNullOrEmpty(n){return n==undefined||n.replace(/\s/g,"")==""||!n||0===n.length?!0:!1}function BindValidationsToForm(n,t){jQuery.each(n.Errors,function(n,i){jQuery("input[name='"+i.PropertyName+"']",t).next("span").empty()}),jQuery.each(n.Errors,function(n,i){jQuery("[name='"+i.PropertyName+"']",t).parent().parent().addClass("error"),jQuery("[name='"+i.PropertyName+"']",t).parent().parent().addClass("error"),jQuery("[name='"+i.PropertyName+"']",t).addClass("error"),jQuery("[name='"+i.PropertyName+"']",t).next("span").removeClass("field-validation-valid").addClass("help-inline"),jQuery("[name='"+i.PropertyName+"']",t).next("span").append('<span for="'+i.PropertyName+'" generated="true">'+i.ErrorMessage+"</span>")})}var dateFormat,SWFUpload;window.log=function(){log.history=log.history||[],log.history.push(arguments),this.console&&console.log(Array.prototype.slice.call(arguments))},function(){function g(n,t){t.src?jQuery.ajax({url:t.src,async:!1,dataType:"script"}):jQuery.globalEval(t.text||t.textContent||t.innerHTML||""),t.parentNode&&t.parentNode.removeChild(t)}function r(){return+new Date}function t(n,t){return n[0]&&parseInt(jQuery.curCSS(n[0],t,!0),10)||0}function l(){if(!s){if(s=!0,document.addEventListener&&!jQuery.browser.opera&&document.addEventListener("DOMContentLoaded",jQuery.ready,!1),jQuery.browser.msie&&window==top&&function(){if(!jQuery.isReady){try{document.documentElement.doScroll("left")}catch(n){setTimeout(arguments.callee,0);return}jQuery.ready()}}(),jQuery.browser.opera&&document.addEventListener("DOMContentLoaded",function(){if(!jQuery.isReady){for(var n=0;n<document.styleSheets.length;n++)if(document.styleSheets[n].disabled){setTimeout(arguments.callee,0);return}jQuery.ready()}},!1),jQuery.browser.safari){var t;(function(){if(!jQuery.isReady){if(document.readyState!="loaded"&&document.readyState!="complete"){setTimeout(arguments.callee,0);return}if(t===n&&(t=jQuery("style, link[rel=stylesheet]").length),document.styleSheets.length!=t){setTimeout(arguments.callee,0);return}jQuery.ready()}})()}jQuery.event.add(window,"load",jQuery.ready)}}var p=window.jQuery,w=window.$,jQuery=window.jQuery=window.$=function(n,t){return new jQuery.fn.init(n,t)},y=/^[^<]*(<(.|\s)+>)[^>]*$|^#(\w+)$/,c=/^.[^:#\[\.]*$/,n,userAgent,f,s,h,a,u;jQuery.fn=jQuery.prototype={init:function(n,t){var i,r;if(n=n||document,n.nodeType)return this[0]=n,this.length=1,this;if(typeof n=="string")if(i=y.exec(n),i&&(i[1]||!t))if(i[1])n=jQuery.clean([i[1]],t);else{if(r=document.getElementById(i[3]),r)return r.id!=i[3]?jQuery().find(n):jQuery(r);n=[]}else return jQuery(t).find(n);else if(jQuery.isFunction(n))return jQuery(document)[jQuery.fn.ready?"ready":"load"](n);return this.setArray(jQuery.makeArray(n))},jquery:"1.2.6",size:function(){return this.length},length:0,get:function(t){return t==n?jQuery.makeArray(this):this[t]},pushStack:function(n){var t=jQuery(n);return t.prevObject=this,t},setArray:function(n){return this.length=0,Array.prototype.push.apply(this,n),this},each:function(n,t){return jQuery.each(this,n,t)},index:function(n){var t=-1;return jQuery.inArray(n&&n.jquery?n[0]:n,this)},attr:function(t,i,r){var u=t;if(t.constructor==String){if(i===n)return this[0]&&jQuery[r||"attr"](this[0],t);u={},u[t]=i}return this.each(function(n){for(t in u)jQuery.attr(r?this.style:this,t,jQuery.prop(this,u[t],r,n,t))})},css:function(t,i){return(t=="width"||t=="height")&&parseFloat(i)<0&&(i=n),this.attr(t,i,"curCSS")},text:function(n){if(typeof n!="object"&&n!=null)return this.empty().append((this[0]&&this[0].ownerDocument||document).createTextNode(n));var t="";return jQuery.each(n||this,function(){jQuery.each(this.childNodes,function(){this.nodeType!=8&&(t+=this.nodeType!=1?this.nodeValue:jQuery.fn.text([this]))})}),t},wrapAll:function(n){return this[0]&&jQuery(n,this[0].ownerDocument).clone().insertBefore(this[0]).map(function(){for(var n=this;n.firstChild;)n=n.firstChild;return n}).append(this),this},wrapInner:function(n){return this.each(function(){jQuery(this).contents().wrapAll(n)})},wrap:function(n){return this.each(function(){jQuery(this).wrapAll(n)})},append:function(){return this.domManip(arguments,!0,!1,function(n){this.nodeType==1&&this.appendChild(n)})},prepend:function(){return this.domManip(arguments,!0,!0,function(n){this.nodeType==1&&this.insertBefore(n,this.firstChild)})},before:function(){return this.domManip(arguments,!1,!1,function(n){this.parentNode.insertBefore(n,this)})},after:function(){return this.domManip(arguments,!1,!0,function(n){this.parentNode.insertBefore(n,this.nextSibling)})},end:function(){return this.prevObject||jQuery([])},find:function(n){var t=jQuery.map(this,function(t){return jQuery.find(n,t)});return this.pushStack(/[^+>] [^+>]/.test(n)||n.indexOf("..")>-1?jQuery.unique(t):t)},clone:function(t){var r=this.map(function(){if(jQuery.browser.msie&&!jQuery.isXMLDoc(this)){var t=this.cloneNode(!0),n=document.createElement("div");return n.appendChild(t),jQuery.clean([n.innerHTML])[0]}return this.cloneNode(!0)}),u=r.find("*").andSelf().each(function(){this[i]!=n&&(this[i]=null)});return t===!0&&this.find("*").andSelf().each(function(n){var i,t,r;if(this.nodeType!=3){i=jQuery.data(this,"events");for(t in i)for(r in i[t])jQuery.event.add(u[n],t,i[t][r],i[t][r].data)}}),r},filter:function(n){return this.pushStack(jQuery.isFunction(n)&&jQuery.grep(this,function(t,i){return n.call(t,i)})||jQuery.multiFilter(n,this))},not:function(t){if(t.constructor==String){if(c.test(t))return this.pushStack(jQuery.multiFilter(t,this,!0));t=jQuery.multiFilter(t,this)}var i=t.length&&t[t.length-1]!==n&&!t.nodeType;return this.filter(function(){return i?jQuery.inArray(this,t)<0:this!=t})},add:function(n){return this.pushStack(jQuery.unique(jQuery.merge(this.get(),typeof n=="string"?jQuery(n):jQuery.makeArray(n))))},is:function(n){return!!n&&jQuery.multiFilter(n,this).length>0},hasClass:function(n){return this.is("."+n)},val:function(t){var r,u,s,i;if(t==n){if(this.length){if(r=this[0],jQuery.nodeName(r,"select")){var e=r.selectedIndex,h=[],o=r.options,f=r.type=="select-one";if(e<0)return null;for(u=f?e:0,s=f?e+1:o.length;u<s;u++)if(i=o[u],i.selected){if(t=jQuery.browser.msie&&!i.attributes.value.specified?i.text:i.value,f)return t;h.push(t)}return h}return(this[0].value||"").replace(/\r/g,"")}return n}return t.constructor==Number&&(t+=""),this.each(function(){if(this.nodeType==1)if(t.constructor==Array&&/radio|checkbox/.test(this.type))this.checked=jQuery.inArray(this.value,t)>=0||jQuery.inArray(this.name,t)>=0;else if(jQuery.nodeName(this,"select")){var n=jQuery.makeArray(t);jQuery("option",this).each(function(){this.selected=jQuery.inArray(this.value,n)>=0||jQuery.inArray(this.text,n)>=0}),n.length||(this.selectedIndex=-1)}else this.value=t})},html:function(t){return t==n?this[0]?this[0].innerHTML:null:this.empty().append(t)},replaceWith:function(n){return this.after(n).remove()},eq:function(n){return this.slice(n,n+1)},slice:function(){return this.pushStack(Array.prototype.slice.apply(this,arguments))},map:function(n){return this.pushStack(jQuery.map(this,function(t,i){return n.call(t,i,t)}))},andSelf:function(){return this.add(this.prevObject)},data:function(t,i){var r=t.split("."),u;return r[1]=r[1]?"."+r[1]:"",i===n?(u=this.triggerHandler("getData"+r[1]+"!",[r[0]]),u===n&&this.length&&(u=jQuery.data(this[0],t)),u===n&&r[1]?this.data(r[0]):u):this.trigger("setData"+r[1]+"!",[r[0],i]).each(function(){jQuery.data(this,t,i)})},removeData:function(n){return this.each(function(){jQuery.removeData(this,n)})},domManip:function(n,t,i,r){var f=this.length>1,u;return this.each(function(){var o,e;u||(u=jQuery.clean(n,this.ownerDocument),i&&u.reverse()),o=this,t&&jQuery.nodeName(this,"table")&&jQuery.nodeName(u[0],"tr")&&(o=this.getElementsByTagName("tbody")[0]||this.appendChild(this.ownerDocument.createElement("tbody"))),e=jQuery([]),jQuery.each(u,function(){var n=f?jQuery(this).clone(!0)[0]:this;jQuery.nodeName(n,"script")?e=e.add(n):(n.nodeType==1&&(e=e.add(jQuery("script",n).remove())),r.call(o,n))}),e.each(g)})}},jQuery.fn.init.prototype=jQuery.fn,jQuery.extend=jQuery.fn.extend=function(){var t=arguments[0]||{},r=1,o=arguments.length,f=!1,e,u,s,i;for(t.constructor==Boolean&&(f=t,t=arguments[1]||{},r=2),typeof t!="object"&&typeof t!="function"&&(t={}),o==r&&(t=this,--r);r<o;r++)if((e=arguments[r])!=null)for(u in e)(s=t[u],i=e[u],t!==i)&&(f&&i&&typeof i=="object"&&!i.nodeType?t[u]=jQuery.extend(f,s||(i.length!=null?[]:{}),i):i!==n&&(t[u]=i));return t};var i="jQuery"+r(),k=0,v={},d=/z-?index|font-?weight|opacity|zoom|line-?height/i,o=document.defaultView||{};jQuery.extend({noConflict:function(n){return window.$=w,n&&(window.jQuery=p),jQuery},isFunction:function(n){return!!n&&typeof n!="string"&&!n.nodeName&&n.constructor!=Array&&/^[\s[]?function/.test(n+"")},isXMLDoc:function(n){return n.documentElement&&!n.body||n.tagName&&n.ownerDocument&&!n.ownerDocument.body},globalEval:function(n){if(n=jQuery.trim(n),n){var i=document.getElementsByTagName("head")[0]||document.documentElement,t=document.createElement("script");t.type="text/javascript",jQuery.browser.msie?t.text=n:t.appendChild(document.createTextNode(n)),i.insertBefore(t,i.firstChild),i.removeChild(t)}},nodeName:function(n,t){return n.nodeName&&n.nodeName.toUpperCase()==t.toUpperCase()},cache:{},data:function(t,r,u){t=t==window?v:t;var f=t[i];return f||(f=t[i]=++k),r&&!jQuery.cache[f]&&(jQuery.cache[f]={}),u!==n&&(jQuery.cache[f][r]=u),r?jQuery.cache[f][r]:f},removeData:function(n,t){n=n==window?v:n;var r=n[i];if(t){if(jQuery.cache[r]){delete jQuery.cache[r][t],t="";for(t in jQuery.cache[r])break;t||jQuery.removeData(n)}}else{try{delete n[i]}catch(u){n.removeAttribute&&n.removeAttribute(i)}delete jQuery.cache[r]}},each:function(t,i,r){var u,f=0,o=t.length,e;if(r){if(o==n){for(u in t)if(i.apply(t[u],r)===!1)break}else for(;f<o;)if(i.apply(t[f++],r)===!1)break}else if(o==n){for(u in t)if(i.call(t[u],u,t[u])===!1)break}else for(e=t[0];f<o&&i.call(e,f,e)!==!1;e=t[++f]);return t},prop:function(n,t,i,r,u){return jQuery.isFunction(t)&&(t=t.call(n,r)),t&&t.constructor==Number&&i=="curCSS"&&!d.test(u)?t+"px":t},className:{add:function(n,t){jQuery.each((t||"").split(/\s+/),function(t,i){n.nodeType!=1||jQuery.className.has(n.className,i)||(n.className+=(n.className?" ":"")+i)})},remove:function(t,i){t.nodeType==1&&(t.className=i!=n?jQuery.grep(t.className.split(/\s+/),function(n){return!jQuery.className.has(i,n)}).join(" "):"")},has:function(n,t){return jQuery.inArray(t,(n.className||n).toString().split(/\s+/))>-1}},swap:function(n,t,i){var u={},r;for(r in t)u[r]=n.style[r],n.style[r]=t[r];i.call(n);for(r in t)n.style[r]=u[r]},css:function(n,t,i){if(t=="width"||t=="height"){var r,f={position:"absolute",visibility:"hidden",display:"block"},e=t=="width"?["Left","Right"]:["Top","Bottom"];function u(){r=t=="width"?n.offsetWidth:n.offsetHeight;var u=0,i=0;jQuery.each(e,function(){u+=parseFloat(jQuery.curCSS(n,"padding"+this,!0))||0,i+=parseFloat(jQuery.curCSS(n,"border"+this+"Width",!0))||0}),r-=Math.round(u+i)}return jQuery(n).is(":visible")?u():jQuery.swap(n,f,u),Math.max(0,r)}return jQuery.curCSS(n,t,i)},curCSS:function(n,t,i){function a(n){if(!jQuery.browser.safari)return!1;var t=o.getComputedStyle(n,null);return!t||t.getPropertyValue("color")==""}var r,e=n.style,p,l,w,v,y;if(t=="opacity"&&jQuery.browser.msie)return r=jQuery.attr(e,"opacity"),r==""?"1":r;if(jQuery.browser.opera&&t=="display"&&(p=e.outline,e.outline="0 solid black",e.outline=p),t.match(/float/i)&&(t=f),!i&&e&&e[t])r=e[t];else if(o.getComputedStyle){if(t.match(/float/i)&&(t="float"),t=t.replace(/([A-Z])/g,"-$1").toLowerCase(),l=o.getComputedStyle(n,null),l&&!a(n))r=l.getPropertyValue(t);else{for(var c=[],s=[],h=n,u=0;h&&a(h);h=h.parentNode)s.unshift(h);for(;u<s.length;u++)a(s[u])&&(c[u]=s[u].style.display,s[u].style.display="block");for(r=t=="display"&&c[s.length-1]!=null?"none":l&&l.getPropertyValue(t)||"",u=0;u<c.length;u++)c[u]!=null&&(s[u].style.display=c[u])}t=="opacity"&&r==""&&(r="1")}else n.currentStyle&&(w=t.replace(/\-(\w)/g,function(n,t){return t.toUpperCase()}),r=n.currentStyle[t]||n.currentStyle[w],!/^\d+(px)?$/i.test(r)&&/^\d/.test(r)&&(v=e.left,y=n.runtimeStyle.left,n.runtimeStyle.left=n.currentStyle.left,e.left=r||0,r=e.pixelLeft+"px",e.left=v,n.runtimeStyle.left=y));return r},clean:function(t,i){var r=[];return i=i||document,typeof i.createElement=="undefined"&&(i=i.ownerDocument||i[0]&&i[0].ownerDocument||document),jQuery.each(t,function(t,u){var s,o;if(u){if(u.constructor==Number&&(u+=""),typeof u=="string"){u=u.replace(/(<(\w+)[^>]*?)\/>/g,function(n,t,i){return i.match(/^(abbr|br|col|img|input|link|meta|param|hr|area|embed)$/i)?n:t+"></"+i+">"});var f=jQuery.trim(u).toLowerCase(),e=i.createElement("div"),h=!f.indexOf("<opt")&&[1,"<select multiple='multiple'>","</select>"]||!f.indexOf("<leg")&&[1,"<fieldset>","</fieldset>"]||f.match(/^<(thead|tbody|tfoot|colg|cap)/)&&[1,"<table>","</table>"]||!f.indexOf("<tr")&&[2,"<table><tbody>","</tbody></table>"]||(!f.indexOf("<td")||!f.indexOf("<th"))&&[3,"<table><tbody><tr>","</tr></tbody></table>"]||!f.indexOf("<col")&&[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"]||jQuery.browser.msie&&[1,"div<div>","</div>"]||[0,"",""];for(e.innerHTML=h[1]+u+h[2];h[0]--;)e=e.lastChild;if(jQuery.browser.msie){for(s=!f.indexOf("<table")&&f.indexOf("<tbody")<0?e.firstChild&&e.firstChild.childNodes:h[1]=="<table>"&&f.indexOf("<tbody")<0?e.childNodes:[],o=s.length-1;o>=0;--o)jQuery.nodeName(s[o],"tbody")&&!s[o].childNodes.length&&s[o].parentNode.removeChild(s[o]);/^\s/.test(u)&&e.insertBefore(i.createTextNode(u.match(/^\s*/)[0]),e.firstChild)}u=jQuery.makeArray(e.childNodes)}(u.length!==0||jQuery.nodeName(u,"form")||jQuery.nodeName(u,"select"))&&(u[0]==n||jQuery.nodeName(u,"form")||u.options?r.push(u):r=jQuery.merge(r,u))}}),r},attr:function(t,i,r){var o,e;if(!t||t.nodeType==3||t.nodeType==8)return n;var f=!jQuery.isXMLDoc(t),u=r!==n,s=jQuery.browser.msie;if(i=f&&jQuery.props[i]||i,t.tagName){if(o=/href|src|style/.test(i),i=="selected"&&jQuery.browser.safari&&t.parentNode.selectedIndex,i in t&&f&&!o){if(u){if(i=="type"&&jQuery.nodeName(t,"input")&&t.parentNode)throw"type property can't be changed";t[i]=r}return jQuery.nodeName(t,"form")&&t.getAttributeNode(i)?t.getAttributeNode(i).nodeValue:t[i]}return s&&f&&i=="style"?jQuery.attr(t.style,"cssText",r):(u&&t.setAttribute(i,""+r),e=s&&f&&o?t.getAttribute(i,2):t.getAttribute(i),e===null?n:e)}return s&&i=="opacity"?(u&&(t.zoom=1,t.filter=(t.filter||"").replace(/alpha\([^)]*\)/,"")+(parseInt(r)+""=="NaN"?"":"alpha(opacity="+r*100+")")),t.filter&&t.filter.indexOf("opacity=")>=0?parseFloat(t.filter.match(/opacity=([^)]*)/)[1])/100+"":""):(i=i.replace(/-([a-z])/ig,function(n,t){return t.toUpperCase()}),u&&(t[i]=r),t[i])},trim:function(n){return(n||"").replace(/^\s+|\s+$/g,"")},makeArray:function(n){var i=[],t;if(n!=null)if(t=n.length,t==null||n.split||n.setInterval||n.call)i[0]=n;else while(t)i[--t]=n[t];return i},inArray:function(n,t){for(var i=0,r=t.length;i<r;i++)if(t[i]===n)return i;return-1},merge:function(n,t){var u=0,i,r=n.length;if(jQuery.browser.msie)while(i=t[u++])i.nodeType!=8&&(n[r++]=i);else while(i=t[u++])n[r++]=i;return n},unique:function(n){var i=[],f={},t,u,r;try{for(t=0,u=n.length;t<u;t++)r=jQuery.data(n[t]),f[r]||(f[r]=!0,i.push(n[t]))}catch(e){i=n}return i},grep:function(n,t,i){for(var f=[],r=0,u=n.length;r<u;r++)!i!=!t(n[r],r)&&f.push(n[r]);return f},map:function(n,t){for(var r=[],u,i=0,f=n.length;i<f;i++)u=t(n[i],i),u!=null&&(r[r.length]=u);return r.concat.apply([],r)}}),userAgent=navigator.userAgent.toLowerCase(),jQuery.browser={version:(userAgent.match(/.+(?:rv|it|ra|ie)[\/: ]([\d.]+)/)||[])[1],safari:/webkit/.test(userAgent),opera:/opera/.test(userAgent),msie:/msie/.test(userAgent)&&!/opera/.test(userAgent),mozilla:/mozilla/.test(userAgent)&&!/(compatible|webkit)/.test(userAgent)},f=jQuery.browser.msie?"styleFloat":"cssFloat",jQuery.extend({boxModel:!jQuery.browser.msie||document.compatMode=="CSS1Compat",props:{"for":"htmlFor","class":"className",float:f,cssFloat:f,styleFloat:f,readonly:"readOnly",maxlength:"maxLength",cellspacing:"cellSpacing"}}),jQuery.each({parent:function(n){return n.parentNode},parents:function(n){return jQuery.dir(n,"parentNode")},next:function(n){return jQuery.nth(n,2,"nextSibling")},prev:function(n){return jQuery.nth(n,2,"previousSibling")},nextAll:function(n){return jQuery.dir(n,"nextSibling")},prevAll:function(n){return jQuery.dir(n,"previousSibling")},siblings:function(n){return jQuery.sibling(n.parentNode.firstChild,n)},children:function(n){return jQuery.sibling(n.firstChild)},contents:function(n){return jQuery.nodeName(n,"iframe")?n.contentDocument||n.contentWindow.document:jQuery.makeArray(n.childNodes)}},function(n,t){jQuery.fn[n]=function(n){var i=jQuery.map(this,t);return n&&typeof n=="string"&&(i=jQuery.multiFilter(n,i)),this.pushStack(jQuery.unique(i))}}),jQuery.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(n,t){jQuery.fn[n]=function(){var n=arguments;return this.each(function(){for(var i=0,r=n.length;i<r;i++)jQuery(n[i])[t](this)})}}),jQuery.each({removeAttr:function(n){jQuery.attr(this,n,""),this.nodeType==1&&this.removeAttribute(n)},addClass:function(n){jQuery.className.add(this,n)},removeClass:function(n){jQuery.className.remove(this,n)},toggleClass:function(n){jQuery.className[jQuery.className.has(this,n)?"remove":"add"](this,n)},remove:function(n){(!n||jQuery.filter(n,[this]).r.length)&&(jQuery("*",this).add(this).each(function(){jQuery.event.remove(this),jQuery.removeData(this)}),this.parentNode&&this.parentNode.removeChild(this))},empty:function(){for(jQuery(">*",this).remove();this.firstChild;)this.removeChild(this.firstChild)}},function(n,t){jQuery.fn[n]=function(){return this.each(t,arguments)}}),jQuery.each(["Height","Width"],function(t,i){var r=i.toLowerCase();jQuery.fn[r]=function(t){return this[0]==window?jQuery.browser.opera&&document.body["client"+i]||jQuery.browser.safari&&window["inner"+i]||document.compatMode=="CSS1Compat"&&document.documentElement["client"+i]||document.body["client"+i]:this[0]==document?Math.max(Math.max(document.body["scroll"+i],document.documentElement["scroll"+i]),Math.max(document.body["offset"+i],document.documentElement["offset"+i])):t==n?this.length?jQuery.css(this[0],r):null:this.css(r,t.constructor==String?t:t+"px")}});var e=jQuery.browser.safari&&parseInt(jQuery.browser.version)<417?"(?:[\\w*_-]|\\\\.)":"(?:[\\wĨ-￿*_-]|\\\\.)",tt=new RegExp("^>\\s*("+e+"+)"),nt=new RegExp("^("+e+"+)(#)("+e+"+)"),b=new RegExp("^([#.]?)("+e+"*)");jQuery.extend({expr:{"":function(n,t,i){return i[2]=="*"||jQuery.nodeName(n,i[2])},"#":function(n,t,i){return n.getAttribute("id")==i[2]},":":{lt:function(n,t,i){return t<i[3]-0},gt:function(n,t,i){return t>i[3]-0},nth:function(n,t,i){return i[3]-0==t},eq:function(n,t,i){return i[3]-0==t},first:function(n,t){return t==0},last:function(n,t,i,r){return t==r.length-1},even:function(n,t){return t%2==0},odd:function(n,t){return t%2},"first-child":function(n){return n.parentNode.getElementsByTagName("*")[0]==n},"last-child":function(n){return jQuery.nth(n.parentNode.lastChild,1,"previousSibling")==n},"only-child":function(n){return!jQuery.nth(n.parentNode.lastChild,2,"previousSibling")},parent:function(n){return n.firstChild},empty:function(n){return!n.firstChild},contains:function(n,t,i){return(n.textContent||n.innerText||jQuery(n).text()||"").indexOf(i[3])>=0},visible:function(n){return"hidden"!=n.type&&jQuery.css(n,"display")!="none"&&jQuery.css(n,"visibility")!="hidden"},hidden:function(n){return"hidden"==n.type||jQuery.css(n,"display")=="none"||jQuery.css(n,"visibility")=="hidden"},enabled:function(n){return!n.disabled},disabled:function(n){return n.disabled},checked:function(n){return n.checked},selected:function(n){return n.selected||jQuery.attr(n,"selected")},text:function(n){return"text"==n.type},radio:function(n){return"radio"==n.type},checkbox:function(n){return"checkbox"==n.type},file:function(n){return"file"==n.type},password:function(n){return"password"==n.type},submit:function(n){return"submit"==n.type},image:function(n){return"image"==n.type},reset:function(n){return"reset"==n.type},button:function(n){return"button"==n.type||jQuery.nodeName(n,"button")},input:function(n){return/input|select|textarea|button/i.test(n.nodeName)},has:function(n,t,i){return jQuery.find(i[3],n).length},header:function(n){return/h\d/i.test(n.nodeName)},animated:function(n){return jQuery.grep(jQuery.timers,function(t){return n==t.elem}).length}}},parse:[/^(\[) *@?([\w-]+) *([!*$^~=]*) *('?"?)(.*?)\4 *\]/,/^(:)([\w-]+)\("?'?(.*?(\(.*?\))?[^(]*?)"?'?\)/,new RegExp("^([:.#]*)("+e+"+)")],multiFilter:function(n,t,i){for(var f,u=[],r;n&&n!=f;)f=n,r=jQuery.filter(n,t,i),n=r.t.replace(/^\s*,\s*/,""),u=i?t=r.r:jQuery.merge(u,r.r);return u},find:function(n,t){var r,c,rt,h,u,s,d,a,ut,o,g,y,i,l,e,p,w,f,it;if(typeof n!="string")return[n];if(t&&t.nodeType!=1&&t.nodeType!=9)return[];for(t=t||document,r=[t],c=[];n&&rt!=n;){u=[],rt=n,n=jQuery.trim(n);var k=!1,v=tt,i=v.exec(n);if(i){for(h=i[1].toUpperCase(),f=0;r[f];f++)for(s=r[f].firstChild;s;s=s.nextSibling)s.nodeType==1&&(h=="*"||s.nodeName.toUpperCase()==h)&&u.push(s);if(r=u,n=n.replace(v,""),n.indexOf(" ")==0)continue;k=!0}else if(v=/^([>+~])\s*(\w*)/i,(i=v.exec(n))!=null){for(u=[],d={},h=i[2].toUpperCase(),i=i[1],a=0,ut=r.length;a<ut;a++)for(o=i=="~"||i=="+"?r[a].nextSibling:r[a].firstChild;o;o=o.nextSibling)if(o.nodeType==1){if(g=jQuery.data(o),i=="~"&&d[g])break;if(h&&o.nodeName.toUpperCase()!=h||(i=="~"&&(d[g]=!0),u.push(o)),i=="+")break}r=u,n=jQuery.trim(n.replace(v,"")),k=!0}if(n&&!k)if(n.indexOf(",")){if(y=nt,i=y.exec(n),i?i=[0,i[2],i[3],i[1]]:(y=b,i=y.exec(n)),i[2]=i[2].replace(/\\/g,""),l=r[r.length-1],i[1]=="#"&&l&&l.getElementById&&!jQuery.isXMLDoc(l))e=l.getElementById(i[2]),(jQuery.browser.msie||jQuery.browser.opera)&&e&&typeof e.id=="string"&&e.id!=i[2]&&(e=jQuery('[@id="'+i[2]+'"]',l)[0]),r=u=e&&(!i[3]||jQuery.nodeName(e,i[3]))?[e]:[];else{for(f=0;r[f];f++)p=i[1]=="#"&&i[3]?i[3]:i[1]!=""||i[0]==""?"*":i[2],p=="*"&&r[f].nodeName.toLowerCase()=="object"&&(p="param"),u=jQuery.merge(u,r[f].getElementsByTagName(p));if(i[1]=="."&&(u=jQuery.classFilter(u,i[2])),i[1]=="#"){for(w=[],f=0;u[f];f++)if(u[f].getAttribute("id")==i[2]){w=[u[f]];break}u=w}r=u}n=n.replace(y,"")}else t==r[0]&&r.shift(),c=jQuery.merge(c,r),u=r=[t],n=" "+n.substr(1,n.length);n&&(it=jQuery.filter(n,u),r=u=it.r,n=jQuery.trim(it.t))}return n&&(r=[]),r&&t==r[0]&&r.shift(),c=jQuery.merge(c,r)},classFilter:function(n,t,i){var f,r,u;for(t=" "+t+" ",f=[],r=0;n[r];r++)u=(" "+n[r].className+" ").indexOf(t)>=0,(!i&&u||i&&!u)&&f.push(n[r]);return f},filter:function(n,t,i){for(var h,b,r,a,e,v,f,u,p,tt,s,y,o;n&&n!=h;){for(h=n,b=jQuery.parse,u=0;b[u];u++)if(r=b[u].exec(n),r){n=n.substring(r[0].length),r[2]=r[2].replace(/\\/g,"");break}if(!r)break;if(r[1]==":"&&r[2]=="not")t=c.test(r[3])?jQuery.filter(r[3],t,!0).r:jQuery(t).not(r[3]);else if(r[1]==".")t=jQuery.classFilter(t,r[2],i);else if(r[1]=="["){for(a=[],e=r[3],u=0,p=t.length;u<p;u++)v=t[u],f=v[jQuery.props[r[2]]||r[2]],(f==null||/href|src|selected/.test(r[2]))&&(f=jQuery.attr(v,r[2])||""),(e==""&&!!f||e=="="&&f==r[5]||e=="!="&&f!=r[5]||e=="^="&&f&&!f.indexOf(r[5])||e=="$="&&f.substr(f.length-r[5].length)==r[5]||(e=="*="||e=="~=")&&f.indexOf(r[5])>=0)^i&&a.push(v);t=a}else if(r[1]==":"&&r[2]=="nth-child"){var g={},a=[],k=/(-?)(\d*)n((?:\+|-)?\d*)/.exec(r[3]=="even"&&"2n"||r[3]=="odd"&&"2n+1"||!/\D/.test(r[3])&&"0n+"+r[3]||r[3]),w=k[1]+(k[2]||1)-0,h=k[3]-0;for(u=0,p=t.length;u<p;u++){var l=t[u],nt=l.parentNode,d=jQuery.data(nt);if(!g[d]){for(tt=1,s=nt.firstChild;s;s=s.nextSibling)s.nodeType==1&&(s.nodeIndex=tt++);g[d]=!0}y=!1,w==0?l.nodeIndex==h&&(y=!0):(l.nodeIndex-h)%w==0&&(l.nodeIndex-h)/w>=0&&(y=!0),y^i&&a.push(l)}t=a}else o=jQuery.expr[r[1]],typeof o=="object"&&(o=o[r[2]]),typeof o=="string"&&(o=eval("false||function(a,i){return "+o+";}")),t=jQuery.grep(t,function(n,i){return o(n,i,r,t)},i)}return{r:t,t:n}},dir:function(n,t){for(var r=[],i=n[t];i&&i!=document;)i.nodeType==1&&r.push(i),i=i[t];return r},nth:function(n,t,i){t=t||1;for(var u=0;n;n=n[i])if(n.nodeType==1&&++u==t)break;return n},sibling:function(n,t){for(var i=[];n;n=n.nextSibling)n.nodeType==1&&n!=t&&i.push(n);return i}}),jQuery.event={add:function(t,i,r,u){var e,o,f;t.nodeType!=3&&t.nodeType!=8&&(jQuery.browser.msie&&t.setInterval&&(t=window),r.guid||(r.guid=this.guid++),u!=n&&(e=r,r=this.proxy(e,function(){return e.apply(this,arguments)}),r.data=u),o=jQuery.data(t,"events")||jQuery.data(t,"events",{}),f=jQuery.data(t,"handle")||jQuery.data(t,"handle",function(){if(typeof jQuery!="undefined"&&!jQuery.event.triggered)return jQuery.event.handle.apply(arguments.callee.elem,arguments)}),f.elem=t,jQuery.each(i.split(/\s+/),function(n,i){var e=i.split("."),u;i=e[0],r.type=e[1],u=o[i],u||(u=o[i]={},jQuery.event.special[i]&&jQuery.event.special[i].setup.call(t)!==!1||(t.addEventListener?t.addEventListener(i,f,!1):t.attachEvent&&t.attachEvent("on"+i,f))),u[r.guid]=r,jQuery.event.global[i]=!0}),t=null)},guid:1,global:{},remove:function(t,i,r){var u,f,s,o,e;if(t.nodeType!=3&&t.nodeType!=8&&(u=jQuery.data(t,"events"),u)){if(i==n||typeof i=="string"&&i.charAt(0)==".")for(o in u)this.remove(t,o+(i||""));else i.type&&(r=i.handler,i=i.type),jQuery.each(i.split(/\s+/),function(n,i){var e=i.split(".");if(i=e[0],u[i]){if(r)delete u[i][r.guid];else for(r in u[i])e[1]&&u[i][r].type!=e[1]||delete u[i][r];for(f in u[i])break;f||(jQuery.event.special[i]&&jQuery.event.special[i].teardown.call(t)!==!1||(t.removeEventListener?t.removeEventListener(i,jQuery.data(t,"handle"),!1):t.detachEvent&&t.detachEvent("on"+i,jQuery.data(t,"handle"))),f=null,delete u[i])}});for(f in u)break;f||(e=jQuery.data(t,"handle"),e&&(e.elem=null),jQuery.removeData(t,"events"),jQuery.removeData(t,"handle"))}},trigger:function(t,u,f,e,o){var v,s,a,h,c,l;if(u=jQuery.makeArray(u),t.indexOf("!")>=0&&(t=t.slice(0,-1),v=!0),f){if(f.nodeType==3||f.nodeType==8)return n;if(h=jQuery.isFunction(f[t]||null),c=!u[0]||!u[0].preventDefault,c&&(u.unshift({type:t,target:f,preventDefault:function(){},stopPropagation:function(){},timeStamp:r()}),u[0][i]=!0),u[0].type=t,v&&(u[0].exclusive=!0),l=jQuery.data(f,"handle"),l&&(s=l.apply(f,u)),(!h||jQuery.nodeName(f,"a")&&t=="click")&&f["on"+t]&&f["on"+t].apply(f,u)===!1&&(s=!1),c&&u.shift(),o&&jQuery.isFunction(o)&&(a=o.apply(f,s==null?u:u.concat(s)),a!==n&&(s=a)),h&&e!==!1&&s!==!1&&!(jQuery.nodeName(f,"a")&&t=="click")){this.triggered=!0;try{f[t]()}catch(y){}}this.triggered=!1}else this.global[t]&&jQuery("*").add([window,document]).trigger(t,u);return s},handle:function(n){var f,u,t,e,r,o,i;n=arguments[0]=jQuery.event.fix(n||window.event),t=n.type.split("."),n.type=t[0],t=t[1],e=!t&&!n.exclusive,r=(jQuery.data(this,"events")||{})[n.type];for(o in r)i=r[o],(e||i.type==t)&&(n.handler=i,n.data=i.data,u=i.apply(this,arguments),f!==!1&&(f=u),u===!1&&(n.preventDefault(),n.stopPropagation()));return f},fix:function(n){var t,o,f,u,e;if(n[i]==!0)return n;for(t=n,n={originalEvent:t},o="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode metaKey newValue originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target timeStamp toElement type view wheelDelta which".split(" "),f=o.length;f;f--)n[o[f]]=t[o[f]];return n[i]=!0,n.preventDefault=function(){t.preventDefault&&t.preventDefault(),t.returnValue=!1},n.stopPropagation=function(){t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0},n.timeStamp=n.timeStamp||r(),n.target||(n.target=n.srcElement||document),n.target.nodeType==3&&(n.target=n.target.parentNode),!n.relatedTarget&&n.fromElement&&(n.relatedTarget=n.fromElement==n.target?n.toElement:n.fromElement),n.pageX==null&&n.clientX!=null&&(u=document.documentElement,e=document.body,n.pageX=n.clientX+(u&&u.scrollLeft||e&&e.scrollLeft||0)-(u.clientLeft||0),n.pageY=n.clientY+(u&&u.scrollTop||e&&e.scrollTop||0)-(u.clientTop||0)),!n.which&&(n.charCode||n.charCode===0?n.charCode:n.keyCode)&&(n.which=n.charCode||n.keyCode),!n.metaKey&&n.ctrlKey&&(n.metaKey=n.ctrlKey),!n.which&&n.button&&(n.which=n.button&1?1:n.button&2?3:n.button&4?2:0),n},proxy:function(n,t){return t.guid=n.guid=n.guid||t.guid||this.guid++,t},special:{ready:{setup:function(){l();return},teardown:function(){return}},mouseenter:{setup:function(){return jQuery.browser.msie?!1:(jQuery(this).bind("mouseover",jQuery.event.special.mouseenter.handler),!0)},teardown:function(){return jQuery.browser.msie?!1:(jQuery(this).unbind("mouseover",jQuery.event.special.mouseenter.handler),!0)},handler:function(n){return h(n,this)?!0:(n.type="mouseenter",jQuery.event.handle.apply(this,arguments))}},mouseleave:{setup:function(){return jQuery.browser.msie?!1:(jQuery(this).bind("mouseout",jQuery.event.special.mouseleave.handler),!0)},teardown:function(){return jQuery.browser.msie?!1:(jQuery(this).unbind("mouseout",jQuery.event.special.mouseleave.handler),!0)},handler:function(n){return h(n,this)?!0:(n.type="mouseleave",jQuery.event.handle.apply(this,arguments))}}}},jQuery.fn.extend({bind:function(n,t,i){return n=="unload"?this.one(n,t,i):this.each(function(){jQuery.event.add(this,n,i||t,i&&t)})},one:function(n,t,i){var r=jQuery.event.proxy(i||t,function(n){return jQuery(this).unbind(n,r),(i||t).apply(this,arguments)});return this.each(function(){jQuery.event.add(this,n,r,i&&t)})},unbind:function(n,t){return this.each(function(){jQuery.event.remove(this,n,t)})},trigger:function(n,t,i){return this.each(function(){jQuery.event.trigger(n,t,this,!0,i)})},triggerHandler:function(n,t,i){return this[0]&&jQuery.event.trigger(n,t,this[0],!1,i)},toggle:function(n){for(var i=arguments,t=1;t<i.length;)jQuery.event.proxy(n,i[t++]);return this.click(jQuery.event.proxy(n,function(n){return this.lastToggle=(this.lastToggle||0)%t,n.preventDefault(),i[this.lastToggle++].apply(this,arguments)||!1}))},hover:function(n,t){return this.bind("mouseenter",n).bind("mouseleave",t)},ready:function(n){return l(),jQuery.isReady?n.call(document,jQuery):jQuery.readyList.push(function(){return n.call(this,jQuery)}),this}}),jQuery.extend({isReady:!1,readyList:[],ready:function(){jQuery.isReady||(jQuery.isReady=!0,jQuery.readyList&&(jQuery.each(jQuery.readyList,function(){this.call(document)}),jQuery.readyList=null),jQuery(document).triggerHandler("ready"))}}),s=!1,jQuery.each("blur,focus,load,resize,scroll,unload,click,dblclick,mousedown,mouseup,mousemove,mouseover,mouseout,change,select,submit,keydown,keypress,keyup,error".split(","),function(n,t){jQuery.fn[t]=function(n){return n?this.bind(t,n):this.trigger(t)}}),h=function(n,t){for(var i=n.relatedTarget;i&&i!=t;)try{i=i.parentNode}catch(r){i=t}return i==t},jQuery(window).bind("unload",function(){jQuery("*").add(document).unbind()}),jQuery.fn.extend({_load:jQuery.fn.load,load:function(n,t,i){var r,e,f,u;return typeof n!="string"?this._load(n):(r=n.indexOf(" "),r>=0&&(e=n.slice(r,n.length),n=n.slice(0,r)),i=i||function(){},f="GET",t&&(jQuery.isFunction(t)?(i=t,t=null):(t=jQuery.param(t),f="POST")),u=this,jQuery.ajax({url:n,type:f,dataType:"html",data:t,complete:function(n,t){(t=="success"||t=="notmodified")&&u.html(e?jQuery("<div/>").append(n.responseText.replace(/<script(.|\s)*?\/script>/g,"")).find(e):n.responseText),u.each(i,[n.responseText,t,n])}}),this)},serialize:function(){return jQuery.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return jQuery.nodeName(this,"form")?jQuery.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||/select|textarea/i.test(this.nodeName)||/text|hidden|password/i.test(this.type))}).map(function(n,t){var i=jQuery(this).val();return i==null?null:i.constructor==Array?jQuery.map(i,function(n){return{name:t.name,value:n}}):{name:t.name,value:i}}).get()}}),jQuery.each("ajaxStart,ajaxStop,ajaxComplete,ajaxError,ajaxSuccess,ajaxSend".split(","),function(n,t){jQuery.fn[t]=function(n){return this.bind(t,n)}}),a=r(),jQuery.extend({get:function(n,t,i,r){return jQuery.isFunction(t)&&(i=t,t=null),jQuery.ajax({type:"GET",url:n,data:t,success:i,dataType:r})},getScript:function(n,t){return jQuery.get(n,null,t,"script")},getJSON:function(n,t,i){return jQuery.get(n,t,i,"json")},post:function(n,t,i,r){return jQuery.isFunction(t)&&(i=t,t={}),jQuery.ajax({type:"POST",url:n,data:t,success:i,dataType:r})},ajaxSetup:function(n){jQuery.extend(jQuery.ajaxSettings,n)},ajaxSettings:{url:location.href,global:!0,type:"GET",timeout:0,contentType:"application/x-www-form-urlencoded",processData:!0,async:!0,data:null,username:null,password:null,accepts:{xml:"application/xml, text/xml",html:"text/html",script:"text/javascript, application/javascript",json:"application/json, text/javascript",text:"text/plain",_default:"*/*"}},lastModified:{},ajax:function(t){function p(){t.success&&t.success(w,s),t.global&&jQuery.event.trigger("ajaxSuccess",[i,t])}function y(){t.complete&&t.complete(i,s),t.global&&jQuery.event.trigger("ajaxComplete",[i,t]),t.global&&!--jQuery.active&&jQuery.event.trigger("ajaxStop")}var f,o,s,w,e,g,b,k,h,u,d,c,i,l,v;if(t=jQuery.extend(!0,t,jQuery.extend(!0,{},jQuery.ajaxSettings,t)),o=/=\?(&|$)/g,e=t.type.toUpperCase(),t.data&&t.processData&&typeof t.data!="string"&&(t.data=jQuery.param(t.data)),t.dataType=="jsonp"&&(e=="GET"?t.url.match(o)||(t.url+=(t.url.match(/\?/)?"&":"?")+(t.jsonp||"callback")+"=?"):t.data&&t.data.match(o)||(t.data=(t.data?t.data+"&":"")+(t.jsonp||"callback")+"=?"),t.dataType="json"),t.dataType=="json"&&(t.data&&t.data.match(o)||t.url.match(o))&&(f="jsonp"+a++,t.data&&(t.data=(t.data+"").replace(o,"="+f+"$1")),t.url=t.url.replace(o,"="+f+"$1"),t.dataType="script",window[f]=function(t){w=t,p(),y(),window[f]=n;try{delete window[f]}catch(i){}h&&h.removeChild(u)}),t.dataType=="script"&&t.cache==null&&(t.cache=!1),t.cache===!1&&e=="GET"&&(g=r(),b=t.url.replace(/(\?|&)_=.*?(&|$)/,"$1_="+g+"$2"),t.url=b+(b==t.url?(t.url.match(/\?/)?"&":"?")+"_="+g:"")),t.data&&e=="GET"&&(t.url+=(t.url.match(/\?/)?"&":"?")+t.data,t.data=null),t.global&&!jQuery.active++&&jQuery.event.trigger("ajaxStart"),k=/^(?:\w+:)?\/\/([^\/?#]+)/,t.dataType=="script"&&e=="GET"&&k.test(t.url)&&k.exec(t.url)[1]!=location.host)return h=document.getElementsByTagName("head")[0],u=document.createElement("script"),u.src=t.url,t.scriptCharset&&(u.charset=t.scriptCharset),f||(d=!1,u.onload=u.onreadystatechange=function(){d||this.readyState&&this.readyState!="loaded"&&this.readyState!="complete"||(d=!0,p(),y(),h.removeChild(u))}),h.appendChild(u),n;c=!1,i=window.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest,t.username?i.open(e,t.url,t.async,t.username,t.password):i.open(e,t.url,t.async);try{t.data&&i.setRequestHeader("Content-Type",t.contentType),t.ifModified&&i.setRequestHeader("If-Modified-Since",jQuery.lastModified[t.url]||"Thu, 01 Jan 1970 00:00:00 GMT"),i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.setRequestHeader("Accept",t.dataType&&t.accepts[t.dataType]?t.accepts[t.dataType]+", */*":t.accepts._default)}catch(nt){}if(t.beforeSend&&t.beforeSend(i,t)===!1)return t.global&&jQuery.active--,i.abort(),!1;t.global&&jQuery.event.trigger("ajaxSend",[i,t]),l=function(n){if(!c&&i&&(i.readyState==4||n=="timeout")){if(c=!0,v&&(clearInterval(v),v=null),s=n=="timeout"&&"timeout"||!jQuery.httpSuccess(i)&&"error"||t.ifModified&&jQuery.httpNotModified(i,t.url)&&"notmodified"||"success",s=="success")try{w=jQuery.httpData(i,t.dataType,t.dataFilter)}catch(u){s="parsererror"}if(s=="success"){var r;try{r=i.getResponseHeader("Last-Modified")}catch(u){}t.ifModified&&r&&(jQuery.lastModified[t.url]=r),f||p()}else jQuery.handleError(t,i,s);y(),t.async&&(i=null)}},t.async&&(v=setInterval(l,13),t.timeout>0&&setTimeout(function(){i&&(i.abort(),c||l("timeout"))},t.timeout));try{i.send(t.data)}catch(nt){jQuery.handleError(t,i,null,nt)}return t.async||l(),i},handleError:function(n,t,i,r){n.error&&n.error(t,i,r),n.global&&jQuery.event.trigger("ajaxError",[t,n,r])},active:0,httpSuccess:function(t){try{return!t.status&&location.protocol=="file:"||t.status>=200&&t.status<300||t.status==304||t.status==1223||jQuery.browser.safari&&t.status==n}catch(i){}return!1},httpNotModified:function(t,i){try{var r=t.getResponseHeader("Last-Modified");return t.status==304||r==jQuery.lastModified[i]||jQuery.browser.safari&&t.status==n}catch(u){}return!1},httpData:function(n,t,i){var u=n.getResponseHeader("content-type"),f=t=="xml"||!t&&u&&u.indexOf("xml")>=0,r=f?n.responseXML:n.responseText;if(f&&r.documentElement.tagName=="parsererror")throw"parsererror";return i&&(r=i(r,t)),t=="script"&&jQuery.globalEval(r),t=="json"&&(r=eval("("+r+")")),r},param:function(n){var i=[],t;if(n.constructor==Array||n.jquery)jQuery.each(n,function(){i.push(encodeURIComponent(this.name)+"="+encodeURIComponent(this.value))});else for(t in n)n[t]&&n[t].constructor==Array?jQuery.each(n[t],function(){i.push(encodeURIComponent(t)+"="+encodeURIComponent(this))}):i.push(encodeURIComponent(t)+"="+encodeURIComponent(jQuery.isFunction(n[t])?n[t]():n[t]));return i.join("&").replace(/%20/g,"+")}}),jQuery.fn.extend({show:function(n,t){return n?this.animate({height:"show",width:"show",opacity:"show"},n,t):this.filter(":hidden").each(function(){if(this.style.display=this.oldblock||"",jQuery.css(this,"display")=="none"){var n=jQuery("<"+this.tagName+" />").appendTo("body");this.style.display=n.css("display"),this.style.display=="none"&&(this.style.display="block"),n.remove()}}).end()},hide:function(n,t){return n?this.animate({height:"hide",width:"hide",opacity:"hide"},n,t):this.filter(":visible").each(function(){this.oldblock=this.oldblock||jQuery.css(this,"display"),this.style.display="none"}).end()},_toggle:jQuery.fn.toggle,toggle:function(n,t){return jQuery.isFunction(n)&&jQuery.isFunction(t)?this._toggle.apply(this,arguments):n?this.animate({height:"toggle",width:"toggle",opacity:"toggle"},n,t):this.each(function(){jQuery(this)[jQuery(this).is(":hidden")?"show":"hide"]()})},slideDown:function(n,t){return this.animate({height:"show"},n,t)},slideUp:function(n,t){return this.animate({height:"hide"},n,t)},slideToggle:function(n,t){return this.animate({height:"toggle"},n,t)},fadeIn:function(n,t){return this.animate({opacity:"show"},n,t)},fadeOut:function(n,t){return this.animate({opacity:"hide"},n,t)},fadeTo:function(n,t,i){return this.animate({opacity:t},n,i)},animate:function(n,t,i,r){var u=jQuery.speed(t,i,r);return this[u.queue===!1?"each":"queue"](function(){if(this.nodeType!=1)return!1;var t=jQuery.extend({},u),i,f=jQuery(this).is(":hidden"),r=this;for(i in n){if(n[i]=="hide"&&f||n[i]=="show"&&!f)return t.complete.call(this);(i=="height"||i=="width")&&(t.display=jQuery.css(this,"display"),t.overflow=this.style.overflow)}return t.overflow!=null&&(this.style.overflow="hidden"),t.curAnim=jQuery.extend({},n),jQuery.each(n,function(i,u){var c=new jQuery.fx(r,t,i),s,e,o,h;/toggle|show|hide/.test(u)?c[u=="toggle"?f?"show":"hide":u](n):(s=u.toString().match(/^([+-]=)?([\d+-.]+)(.*)$/),e=c.cur(!0)||0,s?(o=parseFloat(s[2]),h=s[3]||"px",h!="px"&&(r.style[i]=(o||1)+h,e=(o||1)/c.cur(!0)*e,r.style[i]=e+h),s[1]&&(o=(s[1]=="-="?-1:1)*o+e),c.custom(e,o,h)):c.custom(e,u,""))}),!0})},queue:function(n,t){return((jQuery.isFunction(n)||n&&n.constructor==Array)&&(t=n,n="fx"),!n||typeof n=="string"&&!t)?u(this[0],n):this.each(function(){t.constructor==Array?u(this,n,t):(u(this,n).push(t),u(this,n).length==1&&t.call(this))})},stop:function(n,t){var i=jQuery.timers;return n&&this.queue([]),this.each(function(){for(var n=i.length-1;n>=0;n--)i[n].elem==this&&(t&&i[n](!0),i.splice(n,1))}),t||this.dequeue(),this}}),u=function(n,t,i){if(n){t=t||"fx";var r=jQuery.data(n,t+"queue");(!r||i)&&(r=jQuery.data(n,t+"queue",jQuery.makeArray(i)))}return r},jQuery.fn.dequeue=function(n){return n=n||"fx",this.each(function(){var t=u(this,n);t.shift(),t.length&&t[0].call(this)})},jQuery.extend({speed:function(n,t,i){var r=n&&n.constructor==Object?n:{complete:i||!i&&t||jQuery.isFunction(n)&&n,duration:n,easing:i&&t||t&&t.constructor!=Function&&t};return r.duration=(r.duration&&r.duration.constructor==Number?r.duration:jQuery.fx.speeds[r.duration])||jQuery.fx.speeds.def,r.old=r.complete,r.complete=function(){r.queue!==!1&&jQuery(this).dequeue(),jQuery.isFunction(r.old)&&r.old.call(this)},r},easing:{linear:function(n,t,i,r){return i+r*n},swing:function(n,t,i,r){return(-Math.cos(n*Math.PI)/2+.5)*r+i}},timers:[],timerId:null,fx:function(n,t,i){this.options=t,this.elem=n,this.prop=i,t.orig||(t.orig={})}}),jQuery.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this),(jQuery.fx.step[this.prop]||jQuery.fx.step._default)(this),(this.prop=="height"||this.prop=="width")&&(this.elem.style.display="block")},cur:function(n){if(this.elem[this.prop]!=null&&this.elem.style[this.prop]==null)return this.elem[this.prop];var t=parseFloat(jQuery.css(this.elem,this.prop,n));return t&&t>-1e4?t:parseFloat(jQuery.curCSS(this.elem,this.prop))||0},custom:function(n,t,i){function u(n){return f.step(n)}this.startTime=r(),this.start=n,this.end=t,this.unit=i||this.unit||"px",this.now=this.start,this.pos=this.state=0,this.update();var f=this;u.elem=this.elem,jQuery.timers.push(u),jQuery.timerId==null&&(jQuery.timerId=setInterval(function(){for(var t=jQuery.timers,n=0;n<t.length;n++)t[n]()||t.splice(n--,1);t.length||(clearInterval(jQuery.timerId),jQuery.timerId=null)},13))},show:function(){this.options.orig[this.prop]=jQuery.attr(this.elem.style,this.prop),this.options.show=!0,this.custom(0,this.cur()),(this.prop=="width"||this.prop=="height")&&(this.elem.style[this.prop]="1px"),jQuery(this.elem).show()},hide:function(){this.options.orig[this.prop]=jQuery.attr(this.elem.style,this.prop),this.options.hide=!0,this.custom(this.cur(),0)},step:function(n){var f=r(),t,e,i,u;if(n||f>this.options.duration+this.startTime){this.now=this.end,this.pos=this.state=1,this.update(),this.options.curAnim[this.prop]=!0,t=!0;for(e in this.options.curAnim)this.options.curAnim[e]!==!0&&(t=!1);if(t&&(this.options.display!=null&&(this.elem.style.overflow=this.options.overflow,this.elem.style.display=this.options.display,jQuery.css(this.elem,"display")=="none"&&(this.elem.style.display="block")),this.options.hide&&(this.elem.style.display="none"),this.options.hide||this.options.show))for(i in this.options.curAnim)jQuery.attr(this.elem.style,i,this.options.orig[i]);return t&&this.options.complete.call(this.elem),!1}return u=f-this.startTime,this.state=u/this.options.duration,this.pos=jQuery.easing[this.options.easing||(jQuery.easing.swing?"swing":"linear")](this.state,u,0,1,this.options.duration),this.now=this.start+(this.end-this.start)*this.pos,this.update(),!0}},jQuery.extend(jQuery.fx,{speeds:{slow:600,fast:200,def:400},step:{scrollLeft:function(n){n.elem.scrollLeft=n.now},scrollTop:function(n){n.elem.scrollTop=n.now},opacity:function(n){jQuery.attr(n.elem.style,"opacity",n.now)},_default:function(n){n.elem.style[n.prop]=n.now+n.unit}}}),jQuery.fn.offset=function(){function border(n){add(jQuery.curCSS(n,"borderLeftWidth",!0),jQuery.curCSS(n,"borderTopWidth",!0))}function add(n,t){left+=parseInt(n,10)||0,top+=parseInt(t,10)||0}var left=0,top=0,elem=this[0],results,box;if(elem)with(jQuery.browser){var parent=elem.parentNode,offsetChild=elem,offsetParent=elem.offsetParent,doc=elem.ownerDocument,safari2=safari&&parseInt(version)<522&&!/adobeair/i.test(userAgent),css=jQuery.curCSS,fixed=css(elem,"position")=="fixed";if(elem.getBoundingClientRect)box=elem.getBoundingClientRect(),add(box.left+Math.max(doc.documentElement.scrollLeft,doc.body.scrollLeft),box.top+Math.max(doc.documentElement.scrollTop,doc.body.scrollTop)),add(-doc.documentElement.clientLeft,-doc.documentElement.clientTop);else{for(add(elem.offsetLeft,elem.offsetTop);offsetParent;)add(offsetParent.offsetLeft,offsetParent.offsetTop),(mozilla&&!/^t(able|d|h)$/i.test(offsetParent.tagName)||safari&&!safari2)&&border(offsetParent),fixed||css(offsetParent,"position")!="fixed"||(fixed=!0),offsetChild=/^body$/i.test(offsetParent.tagName)?offsetChild:offsetParent,offsetParent=offsetParent.offsetParent;while(parent&&parent.tagName&&!/^body|html$/i.test(parent.tagName))/^inline|table.*$/i.test(css(parent,"display"))||add(-parent.scrollLeft,-parent.scrollTop),mozilla&&css(parent,"overflow")!="visible"&&border(parent),parent=parent.parentNode;(safari2&&(fixed||css(offsetChild,"position")=="absolute")||mozilla&&css(offsetChild,"position")!="absolute")&&add(-doc.body.offsetLeft,-doc.body.offsetTop),fixed&&add(Math.max(doc.documentElement.scrollLeft,doc.body.scrollLeft),Math.max(doc.documentElement.scrollTop,doc.body.scrollTop))}results={top:top,left:left}}return results},jQuery.fn.extend({position:function(){var f=0,e=0,u;if(this[0]){var n=this.offsetParent(),i=this.offset(),r=/^body|html$/i.test(n[0].tagName)?{top:0,left:0}:n.offset();i.top-=t(this,"marginTop"),i.left-=t(this,"marginLeft"),r.top+=t(n,"borderTopWidth"),r.left+=t(n,"borderLeftWidth"),u={top:i.top-r.top,left:i.left-r.left}}return u},offsetParent:function(){for(var n=this[0].offsetParent;n&&!/^body|html$/i.test(n.tagName)&&jQuery.css(n,"position")=="static";)n=n.offsetParent;return jQuery(n)}}),jQuery.each(["Left","Top"],function(t,i){var r="scroll"+i;jQuery.fn[r]=function(i){if(this[0])return i!=n?this.each(function(){this==window||this==document?window.scrollTo(t?jQuery(window).scrollLeft():i,t?i:jQuery(window).scrollTop()):this[r]=i}):this[0]==window||this[0]==document?self[t?"pageYOffset":"pageXOffset"]||jQuery.boxModel&&document.documentElement[r]||document.body[r]:this[0][r]}}),jQuery.each(["Height","Width"],function(n,i){var u=n?"Left":"Top",r=n?"Right":"Bottom";jQuery.fn["inner"+i]=function(){return this[i.toLowerCase()]()+t(this,"padding"+u)+t(this,"padding"+r)},jQuery.fn["outer"+i]=function(n){return this["inner"+i]()+t(this,"border"+u+"Width")+t(this,"border"+r+"Width")+(n?t(this,"margin"+u)+t(this,"margin"+r):0)}})}(),jQuery.effects||function(n,t){function r(t){return!t||typeof t=="number"||n.fx.speeds[t]?!0:typeof t=="string"&&!n.effects[t]?!0:!1}function i(t,i,r,u){return typeof t=="object"&&(u=i,r=null,i=t,t=i.effect),n.isFunction(i)&&(u=i,r=null,i={}),(typeof i=="number"||n.fx.speeds[i])&&(u=r,r=i,i={}),n.isFunction(r)&&(u=r,r=null),i=i||{},r=r||i.duration,r=n.fx.off?0:typeof r=="number"?r:r in n.fx.speeds?n.fx.speeds[r]:n.fx.speeds._default,u=u||i.complete,[t,i,r,u]}function c(n,t){var r={_:0},i;for(i in t)n[i]!=t[i]&&(r[i]=t[i]);return r}function s(t){var i,r;for(i in t)r=t[i],(r==null||n.isFunction(r)||i in h||/scrollbar/.test(i)||!/color/i.test(i)&&isNaN(parseFloat(r)))&&delete t[i];return t}function o(){var n=document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle,r={},t,u,i;if(n&&n.length&&n[0]&&n[n[0]])for(i=n.length;i--;)t=n[i],typeof n[t]=="string"&&(u=t.replace(/\-(\w)/g,function(n,t){return t.toUpperCase()}),r[u]=n[t]);else for(t in n)typeof n[t]=="string"&&(r[t]=n[t]);return r}function l(t,i){var r;do{if(r=n.curCSS(t,i),r!=""&&r!="transparent"||n.nodeName(t,"body"))break;i="backgroundColor"}while(t=t.parentNode);return u(r)}function u(t){var i;return t&&t.constructor==Array&&t.length==3?t:(i=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(t))?[parseInt(i[1],10),parseInt(i[2],10),parseInt(i[3],10)]:(i=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(t))?[parseFloat(i[1])*2.55,parseFloat(i[2])*2.55,parseFloat(i[3])*2.55]:(i=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(t))?[parseInt(i[1],16),parseInt(i[2],16),parseInt(i[3],16)]:(i=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(t))?[parseInt(i[1]+i[1],16),parseInt(i[2]+i[2],16),parseInt(i[3]+i[3],16)]:(i=/rgba\(0, 0, 0, 0\)/.exec(t))?f.transparent:f[n.trim(t).toLowerCase()]}n.effects={},n.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","borderColor","color","outlineColor"],function(t,i){n.fx.step[i]=function(n){n.colorInit||(n.start=l(n.elem,i),n.end=u(n.end),n.colorInit=!0),n.elem.style[i]="rgb("+Math.max(Math.min(parseInt(n.pos*(n.end[0]-n.start[0])+n.start[0],10),255),0)+","+Math.max(Math.min(parseInt(n.pos*(n.end[1]-n.start[1])+n.start[1],10),255),0)+","+Math.max(Math.min(parseInt(n.pos*(n.end[2]-n.start[2])+n.start[2],10),255),0)+")"}});var f={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]},e=["add","remove","toggle"],h={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};n.effects.animateClass=function(t,i,r,u){return n.isFunction(r)&&(u=r,r=null),this.queue(function(){var f=n(this),l=f.attr("style")||" ",v=s(o.call(this)),h,a=f.attr("class");n.each(e,function(n,i){t[i]&&f[i+"Class"](t[i])}),h=s(o.call(this)),f.attr("class",a),f.animate(c(v,h),{queue:!1,duration:i,easing:r,complete:function(){n.each(e,function(n,i){t[i]&&f[i+"Class"](t[i])}),typeof f.attr("style")=="object"?(f.attr("style").cssText="",f.attr("style").cssText=l):f.attr("style",l),u&&u.apply(this,arguments),n.dequeue(this)}})})},n.fn.extend({_addClass:n.fn.addClass,addClass:function(t,i,r,u){return i?n.effects.animateClass.apply(this,[{add:t},i,r,u]):this._addClass(t)},_removeClass:n.fn.removeClass,removeClass:function(t,i,r,u){return i?n.effects.animateClass.apply(this,[{remove:t},i,r,u]):this._removeClass(t)},_toggleClass:n.fn.toggleClass,toggleClass:function(i,r,u,f,e){return typeof r=="boolean"||r===t?u?n.effects.animateClass.apply(this,[r?{add:i}:{remove:i},u,f,e]):this._toggleClass(i,r):n.effects.animateClass.apply(this,[{toggle:i},r,u,f])},switchClass:function(t,i,r,u,f){return n.effects.animateClass.apply(this,[{add:i,remove:t},r,u,f])}}),n.extend(n.effects,{version:"1.8.18",save:function(n,t){for(var i=0;i<t.length;i++)t[i]!==null&&n.data("ec.storage."+t[i],n[0].style[t[i]])},restore:function(n,t){for(var i=0;i<t.length;i++)t[i]!==null&&n.css(t[i],n.data("ec.storage."+t[i]))},setMode:function(n,t){return t=="toggle"&&(t=n.is(":hidden")?"show":"hide"),t},getBaseline:function(n,t){var r,i;switch(n[0]){case"top":r=0;break;case"middle":r=.5;break;case"bottom":r=1;break;default:r=n[0]/t.height}switch(n[1]){case"left":i=0;break;case"center":i=.5;break;case"right":i=1;break;default:i=n[1]/t.width}return{x:i,y:r}},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var i={width:t.outerWidth(!0),height:t.outerHeight(!0),float:t.css("float")},r=n("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),u=document.activeElement;return t.wrap(r),(t[0]===u||n.contains(t[0],u))&&n(u).focus(),r=t.parent(),t.css("position")=="static"?(r.css({position:"relative"}),t.css({position:"relative"})):(n.extend(i,{position:t.css("position"),zIndex:t.css("z-index")}),n.each(["top","left","bottom","right"],function(n,r){i[r]=t.css(r),isNaN(parseInt(i[r],10))&&(i[r]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),r.css(i).show()},removeWrapper:function(t){var r,i=document.activeElement;return t.parent().is(".ui-effects-wrapper")?(r=t.parent().replaceWith(t),(t[0]===i||n.contains(t[0],i))&&n(i).focus(),r):t},setTransition:function(t,i,r,u){return u=u||{},n.each(i,function(n,i){unit=t.cssUnit(i),unit[0]>0&&(u[i]=unit[0]*r+unit[1])}),u}}),n.fn.extend({effect:function(t){var o=i.apply(this,arguments),e={options:o[1],duration:o[2],callback:o[3]},h=e.options.mode,s=n.effects[t];return n.fx.off||!s?h?this[h](e.duration,e.callback):this.each(function(){e.callback&&e.callback.call(this)}):s.call(this,e)},_show:n.fn.show,show:function(n){if(r(n))return this._show.apply(this,arguments);var t=i.apply(this,arguments);return t[1].mode="show",this.effect.apply(this,t)},_hide:n.fn.hide,hide:function(n){if(r(n))return this._hide.apply(this,arguments);var t=i.apply(this,arguments);return t[1].mode="hide",this.effect.apply(this,t)},__toggle:n.fn.toggle,toggle:function(t){if(r(t)||typeof t=="boolean"||n.isFunction(t))return this.__toggle.apply(this,arguments);var u=i.apply(this,arguments);return u[1].mode="toggle",this.effect.apply(this,u)},cssUnit:function(t){var r=this.css(t),i=[];return n.each(["em","px","%","pt"],function(n,t){r.indexOf(t)>0&&(i=[parseFloat(r),t])}),i}}),n.easing.jswing=n.easing.swing,n.extend(n.easing,{def:"easeOutQuad",swing:function(t,i,r,u,f){return n.easing[n.easing.def](t,i,r,u,f)},easeInQuad:function(n,t,i,r,u){return r*(t/=u)*t+i},easeOutQuad:function(n,t,i,r,u){return-r*(t/=u)*(t-2)+i},easeInOutQuad:function(n,t,i,r,u){return(t/=u/2)<1?r/2*t*t+i:-r/2*(--t*(t-2)-1)+i},easeInCubic:function(n,t,i,r,u){return r*(t/=u)*t*t+i},easeOutCubic:function(n,t,i,r,u){return r*((t=t/u-1)*t*t+1)+i},easeInOutCubic:function(n,t,i,r,u){return(t/=u/2)<1?r/2*t*t*t+i:r/2*((t-=2)*t*t+2)+i},easeInQuart:function(n,t,i,r,u){return r*(t/=u)*t*t*t+i},easeOutQuart:function(n,t,i,r,u){return-r*((t=t/u-1)*t*t*t-1)+i},easeInOutQuart:function(n,t,i,r,u){return(t/=u/2)<1?r/2*t*t*t*t+i:-r/2*((t-=2)*t*t*t-2)+i},easeInQuint:function(n,t,i,r,u){return r*(t/=u)*t*t*t*t+i},easeOutQuint:function(n,t,i,r,u){return r*((t=t/u-1)*t*t*t*t+1)+i},easeInOutQuint:function(n,t,i,r,u){return(t/=u/2)<1?r/2*t*t*t*t*t+i:r/2*((t-=2)*t*t*t*t+2)+i},easeInSine:function(n,t,i,r,u){return-r*Math.cos(t/u*(Math.PI/2))+r+i},easeOutSine:function(n,t,i,r,u){return r*Math.sin(t/u*(Math.PI/2))+i},easeInOutSine:function(n,t,i,r,u){return-r/2*(Math.cos(Math.PI*t/u)-1)+i},easeInExpo:function(n,t,i,r,u){return t==0?i:r*Math.pow(2,10*(t/u-1))+i},easeOutExpo:function(n,t,i,r,u){return t==u?i+r:r*(-Math.pow(2,-10*t/u)+1)+i},easeInOutExpo:function(n,t,i,r,u){return t==0?i:t==u?i+r:(t/=u/2)<1?r/2*Math.pow(2,10*(t-1))+i:r/2*(-Math.pow(2,-10*--t)+2)+i},easeInCirc:function(n,t,i,r,u){return-r*(Math.sqrt(1-(t/=u)*t)-1)+i},easeOutCirc:function(n,t,i,r,u){return r*Math.sqrt(1-(t=t/u-1)*t)+i},easeInOutCirc:function(n,t,i,r,u){return(t/=u/2)<1?-r/2*(Math.sqrt(1-t*t)-1)+i:r/2*(Math.sqrt(1-(t-=2)*t)+1)+i},easeInElastic:function(n,t,i,r,u){var o=1.70158,f=0,e=r;return t==0?i:(t/=u)==1?i+r:(f||(f=u*.3),e<Math.abs(r)?(e=r,o=f/4):o=f/(2*Math.PI)*Math.asin(r/e),-(e*Math.pow(2,10*(t-=1))*Math.sin((t*u-o)*2*Math.PI/f))+i)},easeOutElastic:function(n,t,i,r,u){var o=1.70158,f=0,e=r;return t==0?i:(t/=u)==1?i+r:(f||(f=u*.3),e<Math.abs(r)?(e=r,o=f/4):o=f/(2*Math.PI)*Math.asin(r/e),e*Math.pow(2,-10*t)*Math.sin((t*u-o)*2*Math.PI/f)+r+i)},easeInOutElastic:function(n,t,i,r,u){var o=1.70158,f=0,e=r;return t==0?i:(t/=u/2)==2?i+r:(f||(f=u*.3*1.5),e<Math.abs(r)?(e=r,o=f/4):o=f/(2*Math.PI)*Math.asin(r/e),t<1)?-.5*e*Math.pow(2,10*(t-=1))*Math.sin((t*u-o)*2*Math.PI/f)+i:e*Math.pow(2,-10*(t-=1))*Math.sin((t*u-o)*2*Math.PI/f)*.5+r+i},easeInBack:function(n,i,r,u,f,e){return e==t&&(e=1.70158),u*(i/=f)*i*((e+1)*i-e)+r},easeOutBack:function(n,i,r,u,f,e){return e==t&&(e=1.70158),u*((i=i/f-1)*i*((e+1)*i+e)+1)+r},easeInOutBack:function(n,i,r,u,f,e){return(e==t&&(e=1.70158),(i/=f/2)<1)?u/2*i*i*(((e*=1.525)+1)*i-e)+r:u/2*((i-=2)*i*(((e*=1.525)+1)*i+e)+2)+r},easeInBounce:function(t,i,r,u,f){return u-n.easing.easeOutBounce(t,f-i,0,u,f)+r},easeOutBounce:function(n,t,i,r,u){return(t/=u)<1/2.75?r*7.5625*t*t+i:t<2/2.75?r*(7.5625*(t-=1.5/2.75)*t+.75)+i:t<2.5/2.75?r*(7.5625*(t-=2.25/2.75)*t+.9375)+i:r*(7.5625*(t-=2.625/2.75)*t+.984375)+i},easeInOutBounce:function(t,i,r,u,f){return i<f/2?n.easing.easeInBounce(t,i*2,0,u,f)*.5+r:n.easing.easeOutBounce(t,i*2-f,0,u,f)*.5+u*.5+r}})}(jQuery),function(n){n.effects.highlight=function(t){return this.queue(function(){var i=n(this),f=["backgroundImage","backgroundColor","opacity"],r=n.effects.setMode(i,t.options.mode||"show"),u={backgroundColor:i.css("backgroundColor")};r=="hide"&&(u.opacity=0),n.effects.save(i,f),i.show().css({backgroundImage:"none",backgroundColor:t.options.color||"#ffff99"}).animate(u,{queue:!1,duration:t.duration,easing:t.options.easing,complete:function(){r=="hide"&&i.hide(),n.effects.restore(i,f),r=="show"&&!n.support.opacity&&this.style.removeAttribute("filter"),t.callback&&t.callback.apply(this,arguments),i.dequeue()}})})}}(jQuery);
/*!
* jQuery Templates Plugin 1.0.0pre
* http://github.com/jquery/jquery-tmpl
* Requires jQuery 1.4.2
*
* Copyright Software Freedom Conservancy, Inc.
* Dual licensed under the MIT or GPL Version 2 licenses.
* http://jquery.org/license
*/
(function(n){function e(t,r,u,e){var o={data:e||e===0||e===!1?e:r?r.data:{},_wrap:r?r._wrap:null,tmpl:null,parent:r||null,nodes:[],calls:rt,nest:tt,wrap:d,html:nt,update:g};return t&&n.extend(o,t,{nodes:[],parent:r}),u&&(o.tmpl=u,o._ctnt=o._ctnt||o.tmpl(n,o),o.key=++f,(a.length?c:i)[f]=o),o}function s(t,i,r){var f,e=r?n.map(r,function(n){return typeof n=="string"?t.key?n.replace(/(<\w+)(?=[\s>])(?![^>]*_tmplitem)([^>]*)/g,"$1 "+u+'="'+t.key+'" $2'):n:s(n,t,n._ctnt)}):t;return i?e:(e=e.join(""),e.replace(/^\s*([^<\s][^<]*)?(<[\w\W]+>)([^>]*[^>\s])?\s*$/,function(t,i,r,u){f=n(r).get(),v(f),i&&(f=l(i).concat(f)),u&&(f=f.concat(l(u)))}),f?f:l(e))}function l(t){var i=document.createElement("div");return i.innerHTML=t,n.makeArray(i.childNodes)}function w(t){return new Function("jQuery","$item","var $=jQuery,call,__=[],$data=$item.data;with($data){__.push('"+n.trim(t).replace(/([\\'])/g,"\\$1").replace(/[\r\t\n]/g," ").replace(/\$\{([^\}]*)\}/g,"{{= $1}}").replace(/\{\{(\/?)(\w+|.)(?:\(((?:[^\}]|\}(?!\}))*?)?\))?(?:\s+(.*?)?)?(\(((?:[^\}]|\}(?!\}))*?)\))?\s*\}\}/g,function(t,i,r,u,f,e,s){var l=n.tmpl.tag[r],a,h,c;if(!l)throw"Unknown template tag: "+r;return a=l._default||[],e&&!/\w$/.test(f)&&(f+=e,e=""),f?(f=o(f),s=s?","+o(s)+")":e?")":"",h=e?f.indexOf(".")>-1?f+o(e):"("+f+").call($item"+s:f,c=e?h:"(typeof("+f+")==='function'?("+f+").call($item):("+f+"))"):c=h=a.$1||"null",u=o(u),"');"+l[i?"close":"open"].split("$notnull_1").join(f?"typeof("+f+")!=='undefined' && ("+f+")!=null":"true").split("$1a").join(c).split("$1").join(h).split("$2").join(u||a.$2||"")+"__.push('"})+"');}return __;")}function y(t,i){t._wrap=s(t,!0,n.isArray(i)?i:[k.test(i)?i:n(i).html()]).join("")}function o(n){return n?n.replace(/\\'/g,"'").replace(/\\\\/g,"\\"):null}function it(n){var t=document.createElement("div");return t.appendChild(n.cloneNode(!0)),t.innerHTML}function v(t){function a(t){function a(n){n=n+y,o=p[n]=p[n]||e(o,i[o.parent.key+y]||o.parent)}var v,s=t,h,o,l;if(l=t.getAttribute(u)){while(s.parentNode&&(s=s.parentNode).nodeType===1&&!(v=s.getAttribute(u)));v!==l&&(s=s.parentNode?s.nodeType===11?0:s.getAttribute(u)||0:0,(o=i[l])||(o=c[l],o=e(o,i[s]||c[s]),o.key=++f,i[f]=o),r&&a(l)),t.removeAttribute(u)}else r&&(o=n.data(t,"tmplItem"))&&(a(o.key),i[o.key]=o,s=n.data(t.parentNode,"tmplItem"),s=s?s.key:0);if(o){for(h=o;h&&h.key!=s;)h.nodes.push(t),h=h.parent;delete o._ctnt,delete o._wrap,n.data(t,"tmplItem",o)}}for(var y="_"+r,h,l,p={},o,s=0,v=t.length;s<v;s++)if((h=t[s]).nodeType===1){for(l=h.getElementsByTagName("*"),o=l.length-1;o>=0;o--)a(l[o]);a(h)}}function rt(n,t,i,r){if(!n)return a.pop();a.push({_:n,tmpl:t,item:this,data:i,options:r})}function tt(t,i,r){return n.tmpl(n.template(t),i,r,this)}function d(t,i){var r=t.options||{};return r.wrapped=i,n.tmpl(n.template(t.tmpl),t.data,r,t.item)}function nt(t,i){var r=this._wrap;return n.map(n(n.isArray(r)?r.join(""):r).filter(t||"*"),function(n){return i?n.innerText||n.textContent:n.outerHTML||it(n)})}function g(){var t=this.nodes;n.tmpl(null,null,null,this).insertBefore(t[0]),n(t).remove()}var p=n.fn.domManip,u="_tmplitem",k=/^[^<]*(<[\w\W]+>)[^>]*$|\{\{\! /,i={},c={},h,b={key:0,data:{}},f=0,r=0,a=[];n.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,u){n.fn[t]=function(f){var o=[],s=n(f),l,e,a,v,c=this.length===1&&this[0].parentNode;if(h=i||{},c&&c.nodeType===11&&c.childNodes.length===1&&s.length===1)s[u](this[0]),o=this;else{for(e=0,a=s.length;e<a;e++)r=e,l=(e>0?this.clone(!0):this).get(),n(s[e])[u](l),o=o.concat(l);r=0,o=this.pushStack(o,t,s.selector)}return v=h,h=null,n.tmpl.complete(v),o}}),n.fn.extend({tmpl:function(t,i,r){return n.tmpl(this[0],t,i,r)},tmplItem:function(){return n.tmplItem(this[0])},template:function(t){return n.template(t,this[0])},domManip:function(t,u,f){if(t[0]&&n.isArray(t[0])){for(var c=n.makeArray(arguments),l=t[0],a=l.length,o=0,s;o<a&&!(s=n.data(l[o++],"tmplItem")););s&&r&&(c[2]=function(t){n.tmpl.afterManip(this,t,f)}),p.apply(this,c)}else p.apply(this,arguments);return r=0,h||n.tmpl.complete(i),this}}),n.extend({tmpl:function(t,r,u,f){var o,h=!f;if(h)f=b,t=n.template[t]||n.template(null,t),c={};else if(!t)return t=f.tmpl,i[f.key]=f,f.nodes=[],f.wrapped&&y(f,f.wrapped),n(s(f,null,f.tmpl(n,f)));return t?(typeof r=="function"&&(r=r.call(f||{})),u&&u.wrapped&&y(u,u.wrapped),o=n.isArray(r)?n.map(r,function(n){return n?e(u,f,t,n):null}):[e(u,f,t,r)],h?n(s(f,null,o)):o):[]},tmplItem:function(t){var i;for(t instanceof n&&(t=t[0]);t&&t.nodeType===1&&!(i=n.data(t,"tmplItem"))&&(t=t.parentNode););return i||b},template:function(t,i){return i?(typeof i=="string"?i=w(i):i instanceof n&&(i=i[0]||{}),i.nodeType&&(i=n.data(i,"tmpl")||n.data(i,"tmpl",w(i.innerHTML))),typeof t=="string"?n.template[t]=i:i):t?typeof t!="string"?n.template(null,t):n.template[t]||n.template(null,k.test(t)?t:n(t)):null},encode:function(n){return(""+n).split("<").join("&lt;").split(">").join("&gt;").split('"').join("&#34;").split("'").join("&#39;")}}),n.extend(n.tmpl,{tag:{tmpl:{_default:{$2:"null"},open:"if($notnull_1){__=__.concat($item.nest($1,$2));}"},wrap:{_default:{$2:"null"},open:"$item.calls(__,$1,$2);__=[];",close:"call=$item.calls();__=call._.concat($item.wrap(call,__));"},each:{_default:{$2:"$index, $value"},open:"if($notnull_1){$.each($1a,function($2){with(this){",close:"}});}"},"if":{open:"if(($notnull_1) && $1a){",close:"}"},"else":{_default:{$1:"true"},open:"}else if(($notnull_1) && $1a){"},html:{open:"if($notnull_1){__.push($1a);}"},"=":{_default:{$1:"$data"},open:"if($notnull_1){__.push($.encode($1a));}"},"!":{open:""}},complete:function(){i={}},afterManip:function(t,i,u){var f=i.nodeType===11?n.makeArray(i.childNodes):i.nodeType===1?[i]:[];u.call(t,i),v(f),r++}})})(jQuery),function(n){var h={common:{type:"line",lineColor:"#00f",fillColor:"#cdf",defaultPixelsPerValue:3,width:"auto",height:"auto",composite:!1,tagValuesAttribute:"values",tagOptionsPrefix:"spark",enableTagOptions:!1},line:{spotColor:"#f80",spotRadius:1.5,minSpotColor:"#f80",maxSpotColor:"#f80",lineWidth:1,normalRangeMin:undefined,normalRangeMax:undefined,normalRangeColor:"#ccc",drawNormalOnTop:!1,chartRangeMin:undefined,chartRangeMax:undefined,chartRangeMinX:undefined,chartRangeMaxX:undefined},bar:{barColor:"#00f",negBarColor:"#f44",zeroColor:undefined,nullColor:undefined,zeroAxis:undefined,barWidth:4,barSpacing:1,chartRangeMax:undefined,chartRangeMin:undefined,chartRangeClip:!1,colorMap:undefined},tristate:{barWidth:4,barSpacing:1,posBarColor:"#6f6",negBarColor:"#f44",zeroBarColor:"#999",colorMap:{}},discrete:{lineHeight:"auto",thresholdColor:undefined,thresholdValue:0,chartRangeMax:undefined,chartRangeMin:undefined,chartRangeClip:!1},bullet:{targetColor:"red",targetWidth:3,performanceColor:"blue",rangeColors:["#D3DAFE","#A8B6FF","#7F94FF"],base:undefined},pie:{sliceColors:["#f00","#0f0","#00f"]},box:{raw:!1,boxLineColor:"black",boxFillColor:"#cdf",whiskerColor:"black",outlierLineColor:"#333",outlierFillColor:"white",medianColor:"red",showOutliers:!0,outlierIQR:1.5,spotRadius:1.5,target:undefined,targetColor:"#4a2",chartRangeMax:undefined,chartRangeMin:undefined}},i,e,o,t,r,f,u,s;n.fn.simpledraw=function(t,i,r){return r&&this[0].VCanvas?this[0].VCanvas:(t===undefined&&(t=n(this).innerWidth()),i===undefined&&(i=n(this).innerHeight()),n.browser.hasCanvas?new e(t,i,this):n.browser.msie?new o(t,i,this):!1)},t=[],n.fn.sparkline=function(i,r){return this.each(function(){var u=new n.fn.sparkline.options(this,r),f=function(){var f,o,e,t,r;i==="html"||i===undefined?(t=this.getAttribute(u.get("tagValuesAttribute")),(t===undefined||t===null)&&(t=n(this).html()),f=t.replace(/(^\s*<!--)|(-->\s*$)|\s+/g,"").split(",")):f=i,o=u.get("width")=="auto"?f.length*u.get("defaultPixelsPerValue"):u.get("width"),u.get("height")=="auto"?u.get("composite")&&this.VCanvas||(r=document.createElement("span"),r.innerHTML="a",n(this).html(r),e=n(r).innerHeight(),n(r).remove()):e=u.get("height"),n.fn.sparkline[u.get("type")].call(this,f,u,o,e)};n(this).html()&&n(this).is(":hidden")||n.fn.jquery<"1.3.0"&&n(this).parents().is(":hidden")||!n(this).parents("body").length?t.push([this,f]):f.call(this)})},n.fn.sparkline.defaults=h,n.sparkline_display_visible=function(){for(var r,i=t.length-1;i>=0;i--)r=t[i][0],n(r).is(":visible")&&!n(r).parents().is(":hidden")&&(t[i][1].call(r),t.splice(i,1))},r={},f=function(n){switch(n){case"undefined":n=undefined;break;case"null":n=null;break;case"true":n=!0;break;case"false":n=!1;break;default:var t=parseFloat(n);n==t&&(n=t)}return n},n.fn.sparkline.options=function(t,i){var o,u,f,e;this.userOptions=i=i||{},this.tag=t,this.tagValCache={},u=n.fn.sparkline.defaults,f=u.common,this.tagOptionsPrefix=i.enableTagOptions&&(i.tagOptionsPrefix||f.tagOptionsPrefix),e=this.getTagSetting("type"),o=e===r?u[i.type||f.type]:u[e],this.mergedOptions=n.extend({},f,o,i)},n.fn.sparkline.options.prototype.getTagSetting=function(n){var t,i,o=this.tagOptionsPrefix,e,u;if(o===!1||o===undefined)return r;if(this.tagValCache.hasOwnProperty(n))t=this.tagValCache.key;else{if(t=this.tag.getAttribute(o+n),t===undefined||t===null)t=r;else if(t.substr(0,1)=="[")for(t=t.substr(1,t.length-2).split(","),i=t.length;i--;)t[i]=f(t[i].replace(/(^\s*)|(\s*$)/g,""));else if(t.substr(0,1)=="{")for(e=t.substr(1,t.length-2).split(","),t={},i=e.length;i--;)u=e[i].split(":",2),t[u[0].replace(/(^\s*)|(\s*$)/g,"")]=f(u[1].replace(/(^\s*)|(\s*$)/g,""));else t=f(t);this.tagValCache.key=t}return t},n.fn.sparkline.options.prototype.get=function(n){var t=this.getTagSetting(n);return t!==r?t:this.mergedOptions[n]},n.fn.sparkline.line=function(t,i,r,u){for(var a=[],c=[],it=[],v,ht,f=0;f<t.length;f++){var rt=t[f],pt=typeof t[f]=="string",bt=typeof t[f]=="object"&&t[f]instanceof Array,st=pt&&t[f].split(":");pt&&st.length==2?(a.push(Number(st[0])),c.push(Number(st[1])),it.push(Number(st[1]))):bt?(a.push(rt[0]),c.push(rt[1]),it.push(rt[1])):(a.push(f),t[f]===null||t[f]=="null"?c.push(null):(c.push(Number(rt)),it.push(Number(rt))))}i.get("xvalues")&&(a=i.get("xvalues"));var l=Math.max.apply(Math,it),yt=l,s=Math.min.apply(Math,it),vt=s,ot=Math.max.apply(Math,a),w=Math.min.apply(Math,a),ut=i.get("normalRangeMin"),et=i.get("normalRangeMax");ut!==undefined&&(ut<s&&(s=ut),et>l&&(l=et)),i.get("chartRangeMin")!==undefined&&(i.get("chartRangeClip")||i.get("chartRangeMin")<s)&&(s=i.get("chartRangeMin")),i.get("chartRangeMax")!==undefined&&(i.get("chartRangeClip")||i.get("chartRangeMax")>l)&&(l=i.get("chartRangeMax")),i.get("chartRangeMinX")!==undefined&&(i.get("chartRangeClipX")||i.get("chartRangeMinX")<w)&&(w=i.get("chartRangeMinX")),i.get("chartRangeMaxX")!==undefined&&(i.get("chartRangeClipX")||i.get("chartRangeMaxX")>ot)&&(ot=i.get("chartRangeMaxX"));var ft=ot-w==0?1:ot-w,nt=l-s==0?1:l-s,g=c.length-1;if(g<1){this.innerHTML="";return}if(v=n(this).simpledraw(r,u,i.get("composite")),v){var y=v.pixel_width,h=v.pixel_height,p=0,b=0,o=i.get("spotRadius");o&&(y<o*4||h<o*4)&&(o=0),o&&((i.get("minSpotColor")||i.get("spotColor")&&c[g]==s)&&(h-=Math.ceil(o)),(i.get("maxSpotColor")||i.get("spotColor")&&c[g]==l)&&(h-=Math.ceil(o),p+=Math.ceil(o)),(i.get("minSpotColor")||i.get("maxSpotColor")&&(c[0]==s||c[0]==l))&&(b+=Math.ceil(o),y-=Math.ceil(o)),(i.get("spotColor")||i.get("minSpotColor")||i.get("maxSpotColor")&&(c[g]==s||c[g]==l))&&(y-=Math.ceil(o))),h--,ht=function(){if(ut!==undefined){var t=p+Math.round(h-h*((et-s)/nt)),n=Math.round(h*(et-ut)/nt);v.drawRect(b,t,y,n,undefined,i.get("normalRangeColor"))}},i.get("drawNormalOnTop")||ht();var e=[],at=[e],d,k,wt=c.length;for(f=0;f<wt;f++)d=a[f],k=c[f],k===null?f&&c[f-1]!==null&&(e=[],at.push(e)):(k<s&&(k=s),k>l&&(k=l),e.length||e.push([b+Math.round((d-w)*(y/ft)),p+h]),e.push([b+Math.round((d-w)*(y/ft)),p+Math.round(h-h*((k-s)/nt))]));var ct=[],lt=[],tt=at.length;for(f=0;f<tt;f++)(e=at[f],e.length)&&(i.get("fillColor")&&(e.push([e[e.length-1][0],p+h-1]),lt.push(e.slice(0)),e.pop()),e.length>2&&(e[0]=[e[0][0],e[1][1]]),ct.push(e));for(tt=lt.length,f=0;f<tt;f++)v.drawShape(lt[f],undefined,i.get("fillColor"));for(i.get("drawNormalOnTop")&&ht(),tt=ct.length,f=0;f<tt;f++)v.drawShape(ct[f],i.get("lineColor"),undefined,i.get("lineWidth"));o&&i.get("spotColor")&&v.drawCircle(b+Math.round(a[a.length-1]*(y/ft)),p+Math.round(h-h*((c[g]-s)/nt)),o,undefined,i.get("spotColor")),l!=vt&&(o&&i.get("minSpotColor")&&(d=a[n.inArray(vt,c)],v.drawCircle(b+Math.round((d-w)*(y/ft)),p+Math.round(h-h*((vt-s)/nt)),o,undefined,i.get("minSpotColor"))),o&&i.get("maxSpotColor")&&(d=a[n.inArray(yt,c)],v.drawCircle(b+Math.round((d-w)*(y/ft)),p+Math.round(h-h*((yt-s)/nt)),o,undefined,i.get("maxSpotColor"))))}else this.innerHTML=""},n.fn.sparkline.bar=function(t,i,r,u){var b,e,d,l,f,c,w,v,a,k,s,h,p,g,y,o;for(r=t.length*i.get("barWidth")+(t.length-1)*i.get("barSpacing"),b=[],e=0,d=t.length;e<d;e++)t[e]=="null"||t[e]===null?t[e]=null:(t[e]=Number(t[e]),b.push(Number(t[e])));if(l=Math.max.apply(Math,b),f=Math.min.apply(Math,b),i.get("chartRangeMin")!==undefined&&(i.get("chartRangeClip")||i.get("chartRangeMin")<f)&&(f=i.get("chartRangeMin")),i.get("chartRangeMax")!==undefined&&(i.get("chartRangeClip")||i.get("chartRangeMax")>l)&&(l=i.get("chartRangeMax")),c=i.get("zeroAxis"),c===undefined&&(c=f<0),w=l-f==0?1:l-f,n.isArray(i.get("colorMap"))?(v=i.get("colorMap"),a=null):(v=null,a=i.get("colorMap")),k=n(this).simpledraw(r,u,i.get("composite")),k)for(h=k.pixel_height,p=f<0&&c?h-Math.round(h*(Math.abs(f)/w))-1:h-1,e=t.length;e--;){if(g=e*(i.get("barWidth")+i.get("barSpacing")),o=t[e],o===null)if(i.get("nullColor"))s=i.get("nullColor"),o=c&&f<0?0:f,u=1,y=c&&f<0?p:h-u;else continue;else if(o<f&&(o=f),o>l&&(o=l),s=o<0?i.get("negBarColor"):i.get("barColor"),c&&f<0?(u=Math.round(h*(Math.abs(o)/w))+1,y=o<0?p:p-u):(u=Math.round(h*((o-f)/w))+1,y=h-u),o===0&&i.get("zeroColor")!==undefined&&(s=i.get("zeroColor")),a&&a[o]?s=a[o]:v&&v.length>e&&(s=v[e]),s===null)continue;k.drawRect(g,y,i.get("barWidth")-1,u-1,s,s)}else this.innerHTML=""},n.fn.sparkline.tristate=function(t,i,r,u){var s,h,l,a,o,f,v,c,e;if(t=n.map(t,Number),r=t.length*i.get("barWidth")+(t.length-1)*i.get("barSpacing"),n.isArray(i.get("colorMap"))?(s=i.get("colorMap"),h=null):(s=null,h=i.get("colorMap")),l=n(this).simpledraw(r,u,i.get("composite")),l)for(a=l.pixel_height,o=Math.round(a/2),f=t.length;f--;)(v=f*(i.get("barWidth")+i.get("barSpacing")),t[f]<0?(c=o,u=o-1,e=i.get("negBarColor")):t[f]>0?(c=0,u=o-1,e=i.get("posBarColor")):(c=o-1,u=2,e=i.get("zeroBarColor")),h&&h[t[f]]?e=h[t[f]]:s&&s.length>f&&(e=s[f]),e!==null)&&l.drawRect(v,c,i.get("barWidth")-1,u-1,e,e);else this.innerHTML=""},n.fn.sparkline.discrete=function(t,i,r,u){var a,h,p,s,f,c,l;if(t=n.map(t,Number),r=i.get("width")=="auto"?t.length*2:r,a=Math.floor(r/t.length),h=n(this).simpledraw(r,u,i.get("composite")),h){var y=h.pixel_height,v=i.get("lineHeight")=="auto"?Math.round(y*.3):i.get("lineHeight"),w=y-v,e=Math.min.apply(Math,t),o=Math.max.apply(Math,t);for(i.get("chartRangeMin")!==undefined&&(i.get("chartRangeClip")||i.get("chartRangeMin")<e)&&(e=i.get("chartRangeMin")),i.get("chartRangeMax")!==undefined&&(i.get("chartRangeClip")||i.get("chartRangeMax")>o)&&(o=i.get("chartRangeMax")),p=o-e,s=t.length;s--;)f=t[s],f<e&&(f=e),f>o&&(f=o),c=s*a,l=Math.round(w-w*((f-e)/p)),h.drawLine(c,l,c,l+v,i.get("thresholdColor")&&f<i.get("thresholdValue")?i.get("thresholdColor"):i.get("lineColor"))}else this.innerHTML=""},n.fn.sparkline.bullet=function(t,i,r,u){var e,h,o,y,w,l,p,a;if(t=n.map(t,Number),r=i.get("width")=="auto"?"4.0em":r,e=n(this).simpledraw(r,u,i.get("composite")),e&&t.length>1){var c=e.pixel_width-Math.ceil(i.get("targetWidth")/2),s=e.pixel_height,f=Math.min.apply(Math,t),d=Math.max.apply(Math,t);for(f=i.get("base")===undefined?f<0?f:0:i.get("base"),h=d-f,o=2,y=t.length;o<y;o++)w=t[o],l=Math.round(c*((w-f)/h)),e.drawRect(0,0,l-1,s-1,i.get("rangeColors")[o-2],i.get("rangeColors")[o-2]);p=t[1],a=Math.round(c*((p-f)/h)),e.drawRect(0,Math.round(s*.3),a-1,Math.round(s*.4)-1,i.get("performanceColor"),i.get("performanceColor"));var g=t[0],k=Math.round(c*((g-f)/h)-i.get("targetWidth")/2),v=Math.round(s*.1),b=s-v*2;e.drawRect(k,v,i.get("targetWidth")-1,b-1,i.get("targetColor"),i.get("targetColor"))}else this.innerHTML=""},n.fn.sparkline.pie=function(t,i,r,u){var o,f,a,l,s;if(t=n.map(t,Number),r=i.get("width")=="auto"?u:r,o=n(this).simpledraw(r,u,i.get("composite")),o&&t.length>1){var v=o.pixel_width,p=o.pixel_height,h=Math.floor(Math.min(v,p)/2),c=0,e=0,y=2*Math.PI;for(f=t.length;f--;)c+=t[f];for(i.get("offset")&&(e+=2*Math.PI*(i.get("offset")/360)),a=t.length,f=0;f<a;f++)l=e,s=e,c>0&&(s=e+y*(t[f]/c)),o.drawPieSlice(h,h,h,l,s,undefined,i.get("sliceColors")[f%i.get("sliceColors").length]),e=s}},u=function(n,t){var r,i;return t==2?(r=Math.floor(n.length/2),n.length%2?n[r]:(n[r]+n[r+1])/2):(i=Math.floor(n.length/4),n.length%2?(n[i*t]+n[i*t+1])/2:n[i*t])},n.fn.sparkline.box=function(t,i,r,f){var k,e,nt,p,o,h,w;t=n.map(t,Number),r=i.get("width")=="auto"?"4.0em":r;var s=i.get("chartRangeMin")===undefined?Math.min.apply(Math,t):i.get("chartRangeMin"),it=i.get("chartRangeMax")===undefined?Math.max.apply(Math,t):i.get("chartRangeMax"),c=n(this).simpledraw(r,f,i.get("composite")),tt=t.length,l,d,v,b,y,a,g;if(c&&t.length>1){if(k=c.pixel_width,e=c.pixel_height,i.get("raw"))i.get("showOutliers")&&t.length>5?(d=t[0],l=t[1],v=t[2],b=t[3],y=t[4],a=t[5],g=t[6]):(l=t[0],v=t[1],b=t[2],y=t[3],a=t[4]);else if(t.sort(function(n,t){return n-t}),v=u(t,1),b=u(t,2),y=u(t,3),nt=y-v,i.get("showOutliers")){for(l=undefined,a=undefined,p=0;p<tt;p++)l===undefined&&t[p]>v-nt*i.get("outlierIQR")&&(l=t[p]),t[p]<y+nt*i.get("outlierIQR")&&(a=t[p]);d=t[0],g=t[tt-1]}else l=t[0],a=t[tt-1];o=k/(it-s+1),h=0,i.get("showOutliers")&&(h=Math.ceil(i.get("spotRadius")),k-=2*Math.ceil(i.get("spotRadius")),o=k/(it-s+1),d<l&&c.drawCircle((d-s)*o+h,e/2,i.get("spotRadius"),i.get("outlierLineColor"),i.get("outlierFillColor")),g>a&&c.drawCircle((g-s)*o+h,e/2,i.get("spotRadius"),i.get("outlierLineColor"),i.get("outlierFillColor"))),c.drawRect(Math.round((v-s)*o+h),Math.round(e*.1),Math.round((y-v)*o),Math.round(e*.8),i.get("boxLineColor"),i.get("boxFillColor")),c.drawLine(Math.round((l-s)*o+h),Math.round(e/2),Math.round((v-s)*o+h),Math.round(e/2),i.get("lineColor")),c.drawLine(Math.round((l-s)*o+h),Math.round(e/4),Math.round((l-s)*o+h),Math.round(e-e/4),i.get("whiskerColor")),c.drawLine(Math.round((a-s)*o+h),Math.round(e/2),Math.round((y-s)*o+h),Math.round(e/2),i.get("lineColor")),c.drawLine(Math.round((a-s)*o+h),Math.round(e/4),Math.round((a-s)*o+h),Math.round(e-e/4),i.get("whiskerColor")),c.drawLine(Math.round((b-s)*o+h),Math.round(e*.1),Math.round((b-s)*o+h),Math.round(e*.9),i.get("medianColor")),i.get("target")&&(w=Math.ceil(i.get("spotRadius")),c.drawLine(Math.round((i.get("target")-s)*o+h),Math.round(e/2-w),Math.round((i.get("target")-s)*o+h),Math.round(e/2+w),i.get("targetColor")),c.drawLine(Math.round((i.get("target")-s)*o+h-w),Math.round(e/2),Math.round((i.get("target")-s)*o+h+w),Math.round(e/2),i.get("targetColor")))}else this.innerHTML=""},n.browser.msie&&!document.namespaces.v&&document.namespaces.add("v","urn:schemas-microsoft-com:vml","#default#VML"),n.browser.hasCanvas===undefined&&(s=document.createElement("canvas"),n.browser.hasCanvas=s.getContext!==undefined),i=function(){},i.prototype={init:function(n,t,i){this.width=n,this.height=t,this.target=i,i[0]&&(i=i[0]),i.VCanvas=this},drawShape:function(){alert("drawShape not implemented")},drawLine:function(n,t,i,r,u,f){return this.drawShape([[n,t],[i,r]],u,f)},drawCircle:function(){alert("drawCircle not implemented")},drawPieSlice:function(){alert("drawPieSlice not implemented")},drawRect:function(){alert("drawRect not implemented")},getElement:function(){return this.canvas},_insert:function(t,i){n(i).html(t)}},e=function(n,t,i){return this.init(n,t,i)},e.prototype=n.extend(new i,{_super:i.prototype,init:function(t,i,r){this._super.init(t,i,r),this.canvas=document.createElement("canvas"),r[0]&&(r=r[0]),r.VCanvas=this,n(this.canvas).css({display:"inline-block",width:t,height:i,verticalAlign:"top"}),this._insert(this.canvas,r),this.pixel_height=n(this.canvas).height(),this.pixel_width=n(this.canvas).width(),this.canvas.width=this.pixel_width,this.canvas.height=this.pixel_height,n(this.canvas).css({width:this.pixel_width,height:this.pixel_height})},_getContext:function(n,t,i){var r=this.canvas.getContext("2d");return n!==undefined&&(r.strokeStyle=n),r.lineWidth=i===undefined?1:i,t!==undefined&&(r.fillStyle=t),r},drawShape:function(n,t,i,r){var f=this._getContext(t,i,r),u,e;for(f.beginPath(),f.moveTo(n[0][0]+.5,n[0][1]+.5),u=1,e=n.length;u<e;u++)f.lineTo(n[u][0]+.5,n[u][1]+.5);t!==undefined&&f.stroke(),i!==undefined&&f.fill()},drawCircle:function(n,t,i,r,u){var f=this._getContext(r,u);f.beginPath(),f.arc(n,t,i,0,2*Math.PI,!1),r!==undefined&&f.stroke(),u!==undefined&&f.fill()},drawPieSlice:function(n,t,i,r,u,f,e){var o=this._getContext(f,e);o.beginPath(),o.moveTo(n,t),o.arc(n,t,i,r,u,!1),o.lineTo(n,t),o.closePath(),f!==undefined&&o.stroke(),e&&o.fill()},drawRect:function(n,t,i,r,u,f){return this.drawShape([[n,t],[n+i,t],[n+i,t+r],[n,t+r],[n,t]],u,f)}}),o=function(n,t,i){return this.init(n,t,i)},o.prototype=n.extend(new i,{_super:i.prototype,init:function(t,i,r){this._super.init(t,i,r),r[0]&&(r=r[0]),r.VCanvas=this,this.canvas=document.createElement("span"),n(this.canvas).css({display:"inline-block",position:"relative",overflow:"hidden",width:t,height:i,margin:"0px",padding:"0px",verticalAlign:"top"}),this._insert(this.canvas,r),this.pixel_height=n(this.canvas).height(),this.pixel_width=n(this.canvas).width(),this.canvas.width=this.pixel_width,this.canvas.height=this.pixel_height;var u='<v:group coordorigin="0 0" coordsize="'+this.pixel_width+" "+this.pixel_height+'" style="position:absolute;top:0;left:0;width:'+this.pixel_width+"px;height="+this.pixel_height+'px;"></v:group>';this.canvas.insertAdjacentHTML("beforeEnd",u),this.group=n(this.canvas).children()[0]},drawShape:function(n,t,i,r){for(var f=[],e,u=0,o=n.length;u<o;u++)f[u]=""+n[u][0]+","+n[u][1];e=f.splice(0,1),r=r===undefined?1:r;var c=t===undefined?' stroked="false" ':' strokeWeight="'+r+'" strokeColor="'+t+'" ',l=i===undefined?' filled="false"':' fillColor="'+i+'" filled="true" ',s=f[0]==f[f.length-1]?"x ":"",h='<v:shape coordorigin="0 0" coordsize="'+this.pixel_width+" "+this.pixel_height+'" '+c+l+' style="position:absolute;left:0px;top:0px;height:'+this.pixel_height+"px;width:"+this.pixel_width+'px;padding:0px;margin:0px;"  path="m '+e+" l "+f.join(", ")+" "+s+'e"> </v:shape>';this.group.insertAdjacentHTML("beforeEnd",h)},drawCircle:function(n,t,i,r,u){n-=i+1,t-=i+1;var o=r===undefined?' stroked="false" ':' strokeWeight="1" strokeColor="'+r+'" ',e=u===undefined?' filled="false"':' fillColor="'+u+'" filled="true" ',f="<v:oval "+o+e+' style="position:absolute;top:'+t+"px; left:"+n+"px; width:"+i*2+"px; height:"+i*2+'px"></v:oval>';this.group.insertAdjacentHTML("beforeEnd",f)},drawPieSlice:function(n,t,i,r,u,f,e){if(r!=u){u-r==2*Math.PI&&(r=0,u=2*Math.PI);var h=n+Math.round(Math.cos(r)*i),c=t+Math.round(Math.sin(r)*i),o=n+Math.round(Math.cos(u)*i),s=t+Math.round(Math.sin(u)*i);if(h!=o||c!=s||!(u-r<Math.PI)){var v=[n-i,t-i,n+i,t+i,h,c,o,s],y=f===undefined?' stroked="false" ':' strokeWeight="1" strokeColor="'+f+'" ',l=e===undefined?' filled="false"':' fillColor="'+e+'" filled="true" ',a='<v:shape coordorigin="0 0" coordsize="'+this.pixel_width+" "+this.pixel_height+'" '+y+l+' style="position:absolute;left:0px;top:0px;height:'+this.pixel_height+"px;width:"+this.pixel_width+'px;padding:0px;margin:0px;"  path="m '+n+","+t+" wa "+v.join(", ")+' x e"> </v:shape>';this.group.insertAdjacentHTML("beforeEnd",a)}}},drawRect:function(n,t,i,r,u,f){return this.drawShape([[n,t],[n,t+r],[n+i,t+r],[n+i,t],[n,t]],u,f)}})}(jQuery),function(n){n.gritter={},n.gritter.options={position:"",class_name:"",fade_in_speed:"medium",fade_out_speed:1e3,time:6e3},n.gritter.add=function(n){try{return t.add(n||{})}catch(r){var i="Gritter Error: "+r;typeof console!="undefined"&&console.error?console.error(i,n):alert(i)}},n.gritter.remove=function(n,i){t.removeSpecific(n,i||{})},n.gritter.removeAll=function(n){t.stop(n||{})};var t={position:"",fade_in_speed:"",fade_out_speed:"",time:"",_custom_timer:0,_item_count:0,_is_setup:0,_tpl_close:'<div class="gritter-close"></div>',_tpl_item:'<div id="gritter-item-[[number]]" class="gritter-item-wrapper [[item_class]]" style="display:none"><div class="gritter-top"></div><div class="gritter-item">[[close]][[image]]<div class="[[class_name]]"><span class="gritter-title">[[username]]</span><p>[[text]]</p></div><div style="clear:both"></div></div><div class="gritter-bottom"></div></div>',_tpl_wrap:'<div id="gritter-notice-wrapper"></div>',add:function(i){var r,f,h,s,u;if(!i.title||!i.text)throw'You need to fill out the first 2 params: "title" and "text"';this._is_setup||this._runSetup();var v=i.title,y=i.text,e=i.image||"",o=i.sticky||!1,l=i.class_name||n.gritter.options.class_name,a=n.gritter.options.position,c=i.time||"";return(this._verifyWrapper(),this._item_count++,r=this._item_count,f=this._tpl_item,n(["before_open","after_open","before_close","after_close"]).each(function(u,f){t["_"+f+"_"+r]=n.isFunction(i[f])?i[f]:function(){}}),this._custom_timer=0,c&&(this._custom_timer=c),h=e!=""?'<img src="'+e+'" class="gritter-image" />':"",s=e!=""?"gritter-with-image":"gritter-without-image",f=this._str_replace(["[[username]]","[[text]]","[[close]]","[[image]]","[[number]]","[[class_name]]","[[item_class]]"],[v,y,this._tpl_close,h,this._item_count,s,l],f),this["_before_open_"+r]()===!1)?!1:(n("#gritter-notice-wrapper").addClass(a).append(f),u=n("#gritter-item-"+this._item_count),u.fadeIn(this.fade_in_speed,function(){t["_after_open_"+r](n(this))}),o||this._setFadeTimer(u,r),n(u).bind("mouseenter mouseleave",function(i){i.type=="mouseenter"?o||t._restoreItemIfFading(n(this),r):o||t._setFadeTimer(n(this),r),t._hoverState(n(this),i.type)}),n(u).find(".gritter-close").click(function(){t.removeSpecific(r,{},null,!0)}),r)},_countRemoveWrapper:function(t,i,r){i.remove(),this["_after_close_"+t](i,r),n(".gritter-item-wrapper").length==0&&n("#gritter-notice-wrapper").remove()},_fade:function(n,i,r,u){var r=r||{},e=typeof r.fade!="undefined"?r.fade:!0,o=r.speed||this.fade_out_speed,f=u;this["_before_close_"+i](n,f),u&&n.unbind("mouseenter mouseleave"),e?n.animate({opacity:0},o,function(){n.animate({height:0},300,function(){t._countRemoveWrapper(i,n,f)})}):this._countRemoveWrapper(i,n)},_hoverState:function(n,t){t=="mouseenter"?(n.addClass("hover"),n.find(".gritter-close").show()):(n.removeClass("hover"),n.find(".gritter-close").hide())},removeSpecific:function(t,i,r,u){if(!r)var r=n("#gritter-item-"+t);this._fade(r,t,i||{},u)},_restoreItemIfFading:function(n,t){clearTimeout(this["_int_id_"+t]),n.stop().css({opacity:"",height:""})},_runSetup:function(){for(opt in n.gritter.options)this[opt]=n.gritter.options[opt];this._is_setup=1},_setFadeTimer:function(n,i){var r=this._custom_timer?this._custom_timer:this.time;this["_int_id_"+i]=setTimeout(function(){t._fade(n,i)},r)},stop:function(t){var r=n.isFunction(t.before_close)?t.before_close:function(){},u=n.isFunction(t.after_close)?t.after_close:function(){},i=n("#gritter-notice-wrapper");r(i),i.fadeOut(function(){n(this).remove(),u()})},_str_replace:function(n,t,i,r){var f=0,e=0,s="",c="",l=0,a=0,h=[].concat(n),o=[].concat(t),u=i,y=o instanceof Array,v=u instanceof Array;for(u=[].concat(u),r&&(this.window[r]=0),f=0,l=u.length;f<l;f++)if(u[f]!=="")for(e=0,a=h.length;e<a;e++)s=u[f]+"",c=y?o[e]!==undefined?o[e]:"":o[0],u[f]=s.split(h[e]).join(c),r&&u[f]!==s&&(this.window[r]+=(s.length-u[f].length)/h[e].length);return v?u:u[0]},_verifyWrapper:function(){n("#gritter-notice-wrapper").length==0&&n("body").append(this._tpl_wrap)}}}(jQuery),function(n,t){"use strict";var f,e,i,r,u;if(typeof n!="function")throw"SignalR: jQuery not found. Please ensure jQuery is referenced before the SignalR.js file.";if(!t.JSON)throw"SignalR: No JSON parser found. Please ensure json2.js is referenced before the SignalR.js file if you need to support clients without native JSON parsing support, e.g. IE<8.";i={onStart:"onStart",onStarting:"onStarting",onSending:"onSending",onReceived:"onReceived",onError:"onError",onReconnect:"onReconnect",onDisconnect:"onDisconnect"},r=function(n,i){if(i!==!1){var r;typeof t.console!="undefined"&&(r="["+(new Date).toTimeString()+"] SignalR: "+n,t.console.debug?t.console.debug(r):t.console.log&&t.console.log(r))}},f=function(n,t,i){return new f.fn.init(n,t,i)},f.fn=f.prototype={init:function(n,t,i){this.url=n,this.qs=t,typeof i=="boolean"&&(this.logging=i)},logging:!1,reconnectDelay:2e3,start:function(r,u){var e=this,o={transport:"auto"},h,s=n.Deferred();return e.transport?(s.resolve(e),s):(n.type(r)==="function"?u=r:n.type(r)==="object"&&(n.extend(o,r),n.type(o.callback)==="function"&&(u=o.callback)),n(e).bind(i.onStart,function(){n.type(u)==="function"&&u.call(e),s.resolve(e)}),h=function(t,r){if(r=r||0,r>=t.length){e.transport||s.reject("SignalR: No transport could be initialized successfully. Try specifying a different transport or none at all for auto initialization.");return}var u=t[r],o=n.type(u)==="object"?u:f.transports[u];o.start(e,function(){e.transport=o,n(e).trigger(i.onStart)},function(){h(t,r+1)})},t.setTimeout(function(){n.ajax({global:!1,type:"POST",url:e.url+"/negotiate",data:{},dataType:"json",error:function(t){n(e).trigger(i.onError,[t]),s.reject("SignalR: Error during negotiation request: "+t)},success:function(t){if(e.appRelativeUrl=t.Url,e.id=t.ConnectionId,e.webSocketServerUrl=t.WebSocketServerUrl,!t.ProtocolVersion||t.ProtocolVersion!=="1.0"){n(e).trigger(i.onError,"SignalR: Incompatible protocol version."),s.reject("SignalR: Incompatible protocol version.");return}n(e).trigger(i.onStarting);var u=[],r=[];n.each(f.transports,function(n){if(n==="webSockets"&&!t.TryWebSockets)return!0;r.push(n)}),n.isArray(o.transport)?n.each(o.transport,function(){var t=this;(n.type(t)==="object"||n.type(t)==="string"&&n.inArray(""+t,r)>=0)&&u.push(n.type(t)==="string"?""+t:t)}):n.type(o.transport)==="object"||n.inArray(o.transport,r)>=0?u.push(o.transport):u=r,h(u)}})},0),s)},starting:function(t){var r=this,u=n(r);return u.bind(i.onStarting,function(){t.call(r),u.unbind(i.onStarting)}),r},send:function(n){var t=this;if(!t.transport)throw"SignalR: Connection must be started before data can be sent. Call .start() before .send()";return t.transport.send(t,n),t},sending:function(t){var r=this;return n(r).bind(i.onSending,function(){t.call(r)}),r},received:function(t){var r=this;return n(r).bind(i.onReceived,function(n,i){t.call(r,i)}),r},error:function(t){var r=this;return n(r).bind(i.onError,function(n,i){t.call(r,i)}),r},disconnected:function(t){var r=this;return n(r).bind(i.onDisconnect,function(){t.call(r)}),r},reconnected:function(t){var r=this;return n(r).bind(i.onReconnect,function(){t.call(r)}),r},stop:function(){var t=this;return t.transport&&(t.transport.stop(t),t.transport=null),delete t.messageId,delete t.groups,n(t).trigger(i.onDisconnect),t},log:r},f.fn.init.prototype=f.fn,u={addQs:function(t,i){return i.qs?typeof i.qs=="object"?t+"&"+n.param(i.qs):typeof i.qs=="string"?t+"&"+i.qs:t+"&"+escape(i.qs.toString()):t},getUrl:function(n,i,r){var u=n.url,f="transport="+i+"&connectionId="+t.escape(n.id);return n.data&&(f+="&connectionData="+t.escape(n.data)),r?(n.messageId&&(f+="&messageId="+n.messageId),n.groups&&(f+="&groups="+t.escape(JSON.stringify(n.groups)))):u=u+"/connect",u+="?"+f,u=this.addQs(u,n)},ajaxSend:function(r,u){var f=r.url+"/send?transport="+r.transport.name+"&connectionId="+t.escape(r.id);f=this.addQs(f,r),n.ajax({global:!1,type:"POST",url:f,dataType:"json",data:{data:u},success:function(t){t&&n(r).trigger(i.onReceived,[t])},error:function(t,u){u!=="abort"&&n(r).trigger(i.onError,[t])}})},processMessages:function(t,u){var f=n(t);if(u){if(u.Disconnect){r("Disconnect command received from server",t.logging),t.stop(),f.trigger(i.onDisconnect);return}u.Messages&&n.each(u.Messages,function(){try{f.trigger(i.onReceived,[this])}catch(u){r("Error raising received "+u,t.logging),n(t).trigger(i.onError,[u])}}),t.messageId=u.MessageId,t.groups=u.TransportData.Groups}},foreverFrame:{count:0,connections:{}}},f.transports={webSockets:{name:"webSockets",send:function(n,t){n.socket.send(t)},start:function(u,f,e){var o,h=!1,s;if(t.MozWebSocket&&(t.WebSocket=t.MozWebSocket),!t.WebSocket){e();return}u.socket||(u.webSocketServerUrl?o=u.webSocketServerUrl:(s=document.location.protocol==="https:"?"wss://":"ws://",o=s+document.location.host+u.appRelativeUrl),n(u).trigger(i.onSending),o+=u.data?"?connectionData="+u.data+"&transport=webSockets&connectionId="+u.id:"?transport=webSockets&connectionId="+u.id,u.socket=new t.WebSocket(o),u.socket.onopen=function(){h=!0,f&&f()},u.socket.onclose=function(t){h?typeof t.wasClean!="undefined"&&t.wasClean===!1&&n(u).trigger(i.onError):e&&e(),u.socket=null},u.socket.onmessage=function(f){var e=t.JSON.parse(f.data),o;e&&(o=n(u),e.Messages?n.each(e.Messages,function(){try{o.trigger(i.onReceived,[this])}catch(n){r("Error raising received "+n,u.logging)}}):o.trigger(i.onReceived,[e]))})},stop:function(n){n.socket!==null&&(n.socket.close(),n.socket=null)}},serverSentEvents:{name:"serverSentEvents",timeOut:3e3,start:function(f,e,o){var s=this,l=!1,c=n(f),h=!e,v,a;if(f.eventSource&&f.stop(),!t.EventSource){o&&o();return}c.trigger(i.onSending),v=u.getUrl(f,this.name,h);try{f.eventSource=new t.EventSource(v)}catch(y){r("EventSource failed trying to connect with error "+y.Message,f.logging),o?o():(c.trigger(i.onError,[y]),h&&(r("EventSource reconnecting",f.logging),s.reconnect(f)));return}a=t.setTimeout(function(){l===!1&&(r("EventSource timed out trying to connect",f.logging),o&&o(),h?(r("EventSource reconnecting",f.logging),s.reconnect(f)):s.stop(f))},s.timeOut),f.eventSource.addEventListener("open",function(){r("EventSource connected",f.logging),a&&t.clearTimeout(a),l===!1&&(l=!0,e&&e(),h&&c.trigger(i.onReconnect))},!1),f.eventSource.addEventListener("message",function(n){n.data!=="initialized"&&u.processMessages(f,t.JSON.parse(n.data))},!1),f.eventSource.addEventListener("error",function(n){if(!l){o&&o();return}r("EventSource readyState: "+f.eventSource.readyState,f.logging),n.eventPhase===t.EventSource.CLOSED?f.eventSource.readyState===t.EventSource.CONNECTING?(r("EventSource reconnecting due to the server connection ending",f.logging),s.reconnect(f)):(r("EventSource closed",f.logging),s.stop(f)):(r("EventSource error",f.logging),c.trigger(i.onError))},!1)},reconnect:function(n){var i=this;t.setTimeout(function(){i.stop(n),i.start(n)},n.reconnectDelay)},send:function(n,t){u.ajaxSend(n,t)},stop:function(n){n&&n.eventSource&&(n.eventSource.close(),n.eventSource=null,delete n.eventSource)}},foreverFrame:{name:"foreverFrame",timeOut:3e3,start:function(f,e,o){var h=this,l=u.foreverFrame.count+=1,c,a,s=n("<iframe data-signalr-connection-id='"+f.id+"' style='position:absolute;width:0;height:0;visibility:hidden;'></iframe>");if(t.EventSource){o&&o();return}n(f).trigger(i.onSending),c=u.getUrl(f,this.name),c+="&frameId="+l,s.prop("src",c),u.foreverFrame.connections[l]=f,s.bind("readystatechange",function(){n.inArray(this.readyState,["loaded","complete"])>=0&&(r("Forever frame iframe readyState changed to "+this.readyState+", reconnecting",f.logging),h.reconnect(f))}),f.frame=s[0],f.frameId=l,e&&(f.onSuccess=e),n("body").append(s),a=t.setTimeout(function(){f.onSuccess&&(h.stop(f),o&&o())},h.timeOut)},reconnect:function(n){var i=this;t.setTimeout(function(){var r=n.frame,t=u.getUrl(n,i.name,!0)+"&frameId="+n.frameId;r.src=t},n.reconnectDelay)},send:function(n,t){u.ajaxSend(n,t)},receive:u.processMessages,stop:function(t){t.frame&&(t.frame.stop?t.frame.stop():t.frame.document&&t.frame.document.execCommand&&t.frame.document.execCommand("Stop"),n(t.frame).remove(),delete u.foreverFrame.connections[t.frameId],t.frame=null,t.frameId=null,delete t.frame,delete t.frameId)},getConnection:function(n){return u.foreverFrame.connections[n]},started:function(t){t.onSuccess?(t.onSuccess(),t.onSuccess=null,delete t.onSuccess):n(t).trigger(i.onReconnect)}},longPolling:{name:"longPolling",reconnectDelay:3e3,start:function(r,f){var o=this;r.pollXhr&&r.stop(),r.messageId=null,t.setTimeout(function(){(function e(f,s){n(f).trigger(i.onSending);var a=f.messageId,l=a===null,v=u.getUrl(f,o.name,!l),c=null,h=!1;f.pollXhr=n.ajax({global:!1,type:"GET",url:v,dataType:"json",success:function(r){var c=0,o=!1;s===!0&&h===!1&&(n(f).trigger(i.onReconnect),h=!0),u.processMessages(f,r),r&&n.type(r.TransportData.LongPollDelay)==="number"&&(c=r.TransportData.LongPollDelay),r&&r.TimedOut&&(o=r.TimedOut),c>0?t.setTimeout(function(){e(f,o)},c):e(f,o)},error:function(u,o){o!=="abort"&&(c&&clearTimeout(c),n(f).trigger(i.onError,[u]),t.setTimeout(function(){e(f,!0)},r.reconnectDelay))}}),s===!0&&(c=t.setTimeout(function(){h===!1&&(n(f).trigger(i.onReconnect),h=!0)},o.reconnectDelay))})(r),t.setTimeout(f,150)},250)},send:function(n,t){u.ajaxSend(n,t)},stop:function(n){n.pollXhr&&(n.pollXhr.abort(),n.pollXhr=null,delete n.pollXhr)}}},f.noConflict=function(){return n.connection===f&&(n.connection=e),f},n.connection&&(e=n.connection),n.connection=n.signalR=f}(window.jQuery,window),function(n){function r(){var i=f(this);return isNaN(i.datetime)||n(this).text(t(i.datetime)),this}function f(t){if(t=n(t),!t.data("timeago")){t.data("timeago",{datetime:i.datetime(t)});var r=n.trim(t.text());r.length>0&&t.attr("title",r)}return t.data("timeago")}function t(n){return i.inWords(u(n))}function u(n){return+new Date-n.getTime()}n.timeago=function(i){return i instanceof Date?t(i):typeof i=="string"?t(n.timeago.parse(i)):t(n.timeago.datetime(i))};var i=n.timeago;n.extend(n.timeago,{settings:{refreshMillis:6e4,allowFuture:!1,strings:{prefixAgo:null,prefixFromNow:null,suffixAgo:"ago",suffixFromNow:"from now",seconds:"less than a minute",minute:"about a minute",minutes:"%d minutes",hour:"about an hour",hours:"about %d hours",day:"a day",days:"%d days",month:"about a month",months:"%d months",year:"about a year",years:"%d years",numbers:[]}},inWords:function(t){function r(r,u){var e=n.isFunction(r)?r(u,t):r,f=i.numbers&&i.numbers[u]||u;return e.replace(/%d/i,f)}var i=this.settings.strings,s=i.prefixAgo,c=i.suffixAgo,h;this.settings.allowFuture&&t<0&&(s=i.prefixFromNow,c=i.suffixFromNow);var o=Math.abs(t)/1e3,e=o/60,f=e/60,u=f/24,l=u/365;return h=o<45&&r(i.seconds,Math.round(o))||o<90&&r(i.minute,1)||e<45&&r(i.minutes,Math.round(e))||e<90&&r(i.hour,1)||f<24&&r(i.hours,Math.round(f))||f<48&&r(i.day,1)||u<30&&r(i.days,Math.floor(u))||u<60&&r(i.month,1)||u<365&&r(i.months,Math.floor(u/30))||l<2&&r(i.year,1)||r(i.years,Math.floor(l)),n.trim([s,h,c].join(" "))},parse:function(t){var i=n.trim(t);return i=i.replace(/\.\d\d\d+/,""),i=i.replace(/-/,"/").replace(/-/,"/"),i=i.replace(/T/," ").replace(/Z/," UTC"),i=i.replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2"),new Date(i)},datetime:function(t){var u=n(t).get(0).tagName.toLowerCase()==="time",r=u?n(t).attr("datetime"):n(t).attr("title");return i.parse(r)}}),n.fn.timeago=function(){var t=this,n;return t.each(r),n=i.settings,n.refreshMillis>0&&setInterval(function(){t.each(r)},n.refreshMillis),t},document.createElement("abbr"),document.createElement("time")}(jQuery),function(n){n.extend(n.fn,{validate:function(t){var i,r;if(!this.length){t&&t.debug&&window.console&&console.warn("nothing selected, can't validate, returning nothing");return}return(i=n.data(this[0],"validator"),i)?i:(this.attr("novalidate","novalidate"),i=new n.validator(t,this[0]),n.data(this[0],"validator",i),i.settings.onsubmit&&(r=this.find("input, button"),r.filter(".cancel").click(function(){i.cancelSubmit=!0}),i.settings.submitHandler&&r.filter(":submit").click(function(){i.submitButton=this}),this.submit(function(t){function r(){if(i.settings.submitHandler){if(i.submitButton)var t=n("<input type='hidden'/>").attr("name",i.submitButton.name).val(i.submitButton.value).appendTo(i.currentForm);return i.settings.submitHandler.call(i,i.currentForm),i.submitButton&&t.remove(),!1}return!0}return(i.settings.debug&&t.preventDefault(),i.cancelSubmit)?(i.cancelSubmit=!1,r()):i.form()?i.pendingRequest?(i.formSubmitted=!0,!1):r():(i.focusInvalid(),!1)})),i)},valid:function(){if(n(this[0]).is("form"))return this.validate().form();var t=!0,i=n(this[0].form).validate();return this.each(function(){t&=i.element(this)}),t},removeAttrs:function(t){var r={},i=this;return n.each(t.split(/\s/),function(n,t){r[t]=i.attr(t),i.removeAttr(t)}),r},rules:function(t,i){var r=this[0],e,u,s;if(t){var o=n.data(r.form,"validator").settings,h=o.rules,f=n.validator.staticRules(r);switch(t){case"add":n.extend(f,n.validator.normalizeRule(i)),h[r.name]=f,i.messages&&(o.messages[r.name]=n.extend(o.messages[r.name],i.messages));break;case"remove":return i?(e={},n.each(i.split(/\s/),function(n,t){e[t]=f[t],delete f[t]}),e):(delete h[r.name],f)}}return u=n.validator.normalizeRules(n.extend({},n.validator.metadataRules(r),n.validator.classRules(r),n.validator.attributeRules(r),n.validator.staticRules(r)),r),u.required&&(s=u.required,delete u.required,u=n.extend({required:s},u)),u}}),n.extend(n.expr[":"],{blank:function(t){return!n.trim(""+t.value)},filled:function(t){return!!n.trim(""+t.value)},unchecked:function(n){return!n.checked}}),n.validator=function(t,i){this.settings=n.extend(!0,{},n.validator.defaults,t),this.currentForm=i,this.init()},n.validator.format=function(t,i){return arguments.length==1?function(){var i=n.makeArray(arguments);return i.unshift(t),n.validator.format.apply(this,i)}:(arguments.length>2&&i.constructor!=Array&&(i=n.makeArray(arguments).slice(1)),i.constructor!=Array&&(i=[i]),n.each(i,function(n,i){t=t.replace(new RegExp("\\{"+n+"\\}","g"),i)}),t)},n.extend(n.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:!0,errorContainer:n([]),errorLabelContainer:n([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(n){this.lastActive=n,this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,n,this.settings.errorClass,this.settings.validClass),this.addWrapper(this.errorsFor(n)).hide())},onfocusout:function(n){!this.checkable(n)&&(n.name in this.submitted||!this.optional(n))&&this.element(n)},onkeyup:function(n){(n.name in this.submitted||n==this.lastElement)&&this.element(n)},onclick:function(n){n.name in this.submitted?this.element(n):n.parentNode.name in this.submitted&&this.element(n.parentNode)},highlight:function(t,i,r){t.type==="radio"?this.findByName(t.name).addClass(i).removeClass(r):n(t).addClass(i).removeClass(r)},unhighlight:function(t,i,r){t.type==="radio"?this.findByName(t.name).removeClass(i).addClass(r):n(t).removeClass(i).addClass(r)}},setDefaults:function(t){n.extend(n.validator.defaults,t)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",accept:"Please enter a value with a valid extension.",maxlength:n.validator.format("Please enter no more than {0} characters."),minlength:n.validator.format("Please enter at least {0} characters."),rangelength:n.validator.format("Please enter a value between {0} and {1} characters long."),range:n.validator.format("Please enter a value between {0} and {1}."),max:n.validator.format("Please enter a value less than or equal to {0}."),min:n.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function i(t){var i=n.data(this[0].form,"validator"),r="on"+t.type.replace(/^validate/,"");i.settings[r]&&i.settings[r].call(i,this[0],t)}var r,t;this.labelContainer=n(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||n(this.currentForm),this.containers=n(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset(),r=this.groups={},n.each(this.settings.groups,function(t,i){n.each(i.split(/\s/),function(n,i){r[i]=t})}),t=this.settings.rules,n.each(t,function(i,r){t[i]=n.validator.normalizeRule(r)}),n(this.currentForm).validateDelegate("[type='text'], [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ","focusin focusout keyup",i).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",i),this.settings.invalidHandler&&n(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),n.extend(this.submitted,this.errorMap),this.invalid=n.extend({},this.errorMap),this.valid()||n(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var n=0,t=this.currentElements=this.elements();t[n];n++)this.check(t[n]);return this.valid()},element:function(t){t=this.validationTargetFor(this.clean(t)),this.lastElement=t,this.prepareElement(t),this.currentElements=n(t);var i=this.check(t);return i?delete this.invalid[t.name]:this.invalid[t.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),i},showErrors:function(t){if(t){n.extend(this.errorMap,t),this.errorList=[];for(var i in t)this.errorList.push({message:t[i],element:this.findByName(i)[0]});this.successList=n.grep(this.successList,function(n){return!(n.name in t)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){n.fn.resetForm&&n(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(n){var t=0,i;for(i in n)t++;return t},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return this.size()==0},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{n(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(t){}},findLastActive:function(){var t=this.lastActive;return t&&n.grep(this.errorList,function(n){return n.element.name==t.name}).length==1&&t},elements:function(){var i=this,t={};return n(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){return(!this.name&&i.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.name in t||!i.objectLength(n(this).rules()))?!1:(t[this.name]=!0,!0)})},clean:function(t){return n(t)[0]},errors:function(){return n(this.settings.errorElement+"."+this.settings.errorClass,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=n([]),this.toHide=n([]),this.currentElements=n([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(n){this.reset(),this.toHide=this.errorsFor(n)},check:function(t){var f,e,u,i,r;t=this.validationTargetFor(this.clean(t)),f=n(t).rules(),e=!1;for(u in f){i={method:u,parameters:f[u]};try{if(r=n.validator.methods[u].call(this,t.value.replace(/\r/g,""),t,i.parameters),r=="dependency-mismatch"){e=!0;continue}if(e=!1,r=="pending"){this.toHide=this.toHide.not(this.errorsFor(t));return}if(!r)return this.formatAndAdd(t,i),!1}catch(o){this.settings.debug&&window.console&&console.log("exception occured when checking element "+t.id+", check the '"+i.method+"' method",o);throw o;}}if(!e)return this.objectLength(f)&&this.successList.push(t),!0},customMetaMessage:function(t,i){if(n.metadata){var r=this.settings.meta?n(t).metadata()[this.settings.meta]:n(t).metadata();return r&&r.messages&&r.messages[i]}},customMessage:function(n,t){var i=this.settings.messages[n];return i&&(i.constructor==String?i:i[t])},findDefined:function(){for(var n=0;n<arguments.length;n++)if(arguments[n]!==undefined)return arguments[n];return undefined},defaultMessage:function(t,i){return this.findDefined(this.customMessage(t.name,i),this.customMetaMessage(t,i),!this.settings.ignoreTitle&&t.title||undefined,n.validator.messages[i],"<strong>Warning: No message defined for "+t.name+"</strong>")},formatAndAdd:function(n,t){var i=this.defaultMessage(n,t.method),r=/\$?\{(\d+)\}/g;typeof i=="function"?i=i.call(this,t.parameters,n):r.test(i)&&(i=jQuery.format(i.replace(r,"{$1}"),t.parameters)),this.errorList.push({message:i,element:n}),this.errorMap[n.name]=i,this.submitted[n.name]=i},addWrapper:function(n){return this.settings.wrapper&&(n=n.add(n.parent(this.settings.wrapper))),n},defaultShowErrors:function(){for(var t,i,n=0;this.errorList[n];n++)t=this.errorList[n],this.settings.highlight&&this.settings.highlight.call(this,t.element,this.settings.errorClass,this.settings.validClass),this.showLabel(t.element,t.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(n=0;this.successList[n];n++)this.showLabel(this.successList[n]);if(this.settings.unhighlight)for(n=0,i=this.validElements();i[n];n++)this.settings.unhighlight.call(this,i[n],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return n(this.errorList).map(function(){return this.element})},showLabel:function(t,i){var r=this.errorsFor(t);r.length?(r.removeClass(this.settings.validClass).addClass(this.settings.errorClass),r.attr("generated")&&r.html(i)):(r=n("<"+this.settings.errorElement+"/>").attr({"for":this.idOrName(t),generated:!0}).addClass(this.settings.errorClass).html(i||""),this.settings.wrapper&&(r=r.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.append(r).length||(this.settings.errorPlacement?this.settings.errorPlacement(r,n(t)):r.insertAfter(t))),!i&&this.settings.success&&(r.text(""),typeof this.settings.success=="string"?r.addClass(this.settings.success):this.settings.success(r)),this.toShow=this.toShow.add(r)},errorsFor:function(t){var i=this.idOrName(t);return this.errors().filter(function(){return n(this).attr("for")==i})},idOrName:function(n){return this.groups[n.name]||(this.checkable(n)?n.name:n.id||n.name)},validationTargetFor:function(n){return this.checkable(n)&&(n=this.findByName(n.name).not(this.settings.ignore)[0]),n},checkable:function(n){return/radio|checkbox/i.test(n.type)},findByName:function(t){var i=this.currentForm;return n(document.getElementsByName(t)).map(function(n,r){return r.form==i&&r.name==t&&r||null})},getLength:function(t,i){switch(i.nodeName.toLowerCase()){case"select":return n("option:selected",i).length;case"input":if(this.checkable(i))return this.findByName(i.name).filter(":checked").length}return t.length},depend:function(n,t){return this.dependTypes[typeof n]?this.dependTypes[typeof n](n,t):!0},dependTypes:{boolean:function(n){return n},string:function(t,i){return!!n(t,i.form).length},"function":function(n,t){return n(t)}},optional:function(t){return!n.validator.methods.required.call(this,n.trim(t.value),t)&&"dependency-mismatch"},startRequest:function(n){this.pending[n.name]||(this.pendingRequest++,this.pending[n.name]=!0)},stopRequest:function(t,i){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[t.name],i&&this.pendingRequest==0&&this.formSubmitted&&this.form()?(n(this.currentForm).submit(),this.formSubmitted=!1):!i&&this.pendingRequest==0&&this.formSubmitted&&(n(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(t){return n.data(t,"previousValue")||n.data(t,"previousValue",{old:null,valid:!0,message:this.defaultMessage(t,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},dateDE:{dateDE:!0},number:{number:!0},numberDE:{numberDE:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(t,i){t.constructor==String?this.classRuleSettings[t]=i:n.extend(this.classRuleSettings,t)},classRules:function(t){var r={},i=n(t).attr("class");return i&&n.each(i.split(" "),function(){this in n.validator.classRuleSettings&&n.extend(r,n.validator.classRuleSettings[this])}),r},attributeRules:function(t){var r={},f=n(t),i,u;for(i in n.validator.methods)u=i==="required"&&typeof n.fn.prop=="function"?f.prop(i):f.attr(i),u?r[i]=u:f[0].getAttribute("type")===i&&(r[i]=!0);return r.maxlength&&/-1|2147483647|524288/.test(r.maxlength)&&delete r.maxlength,r},metadataRules:function(t){if(!n.metadata)return{};var i=n.data(t.form,"validator").settings.meta;return i?n(t).metadata()[i]:n(t).metadata()},staticRules:function(t){var r={},i=n.data(t.form,"validator");return i.settings.rules&&(r=n.validator.normalizeRule(i.settings.rules[t.name])||{}),r},normalizeRules:function(t,i){return n.each(t,function(r,u){if(u===!1){delete t[r];return}if(u.param||u.depends){var f=!0;switch(typeof u.depends){case"string":f=!!n(u.depends,i.form).length;break;case"function":f=u.depends.call(i,i)}f?t[r]=u.param!==undefined?u.param:!0:delete t[r]}}),n.each(t,function(r,u){t[r]=n.isFunction(u)?u(i):u}),n.each(["minlength","maxlength","min","max"],function(){t[this]&&(t[this]=Number(t[this]))}),n.each(["rangelength","range"],function(){t[this]&&(t[this]=[Number(t[this][0]),Number(t[this][1])])}),n.validator.autoCreateRanges&&(t.min&&t.max&&(t.range=[t.min,t.max],delete t.min,delete t.max),t.minlength&&t.maxlength&&(t.rangelength=[t.minlength,t.maxlength],delete t.minlength,delete t.maxlength)),t.messages&&delete t.messages,t},normalizeRule:function(t){if(typeof t=="string"){var i={};n.each(t.split(/\s/),function(){i[this]=!0}),t=i}return t},addMethod:function(t,i,r){n.validator.methods[t]=i,n.validator.messages[t]=r!=undefined?r:n.validator.messages[t],i.length<3&&n.validator.addClassRules(t,n.validator.normalizeRule(t))},methods:{required:function(t,i,r){if(!this.depend(r,i))return"dependency-mismatch";switch(i.nodeName.toLowerCase()){case"select":var u=n(i).val();return u&&u.length>0;case"input":if(this.checkable(i))return this.getLength(t,i)>0;default:return n.trim(t).length>0}},remote:function(t,i,r){var f,u,e;return this.optional(i)?"dependency-mismatch":(f=this.previousValue(i),this.settings.messages[i.name]||(this.settings.messages[i.name]={}),f.originalMessage=this.settings.messages[i.name].remote,this.settings.messages[i.name].remote=f.message,r=typeof r=="string"&&{url:r}||r,this.pending[i.name])?"pending":f.old===t?f.valid:(f.old=t,u=this,this.startRequest(i),e={},e[i.name]=t,n.ajax(n.extend(!0,{url:r,mode:"abort",port:"validate"+i.name,dataType:"json",data:e,success:function(r){var o,h,s,e;u.settings.messages[i.name].remote=f.originalMessage,o=r===!0,o?(h=u.formSubmitted,u.prepareElement(i),u.formSubmitted=h,u.successList.push(i),u.showErrors()):(s={},e=r||u.defaultMessage(i,"remote"),s[i.name]=f.message=n.isFunction(e)?e(t):e,u.showErrors(s)),f.valid=o,u.stopRequest(i,o)}},r)),"pending")},minlength:function(t,i,r){return this.optional(i)||this.getLength(n.trim(t),i)>=r},maxlength:function(t,i,r){return this.optional(i)||this.getLength(n.trim(t),i)<=r},rangelength:function(t,i,r){var u=this.getLength(n.trim(t),i);return this.optional(i)||u>=r[0]&&u<=r[1]},min:function(n,t,i){return this.optional(t)||n>=i},max:function(n,t,i){return this.optional(t)||n<=i},range:function(n,t,i){return this.optional(t)||n>=i[0]&&n<=i[1]},email:function(n,t){return this.optional(t)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(n)},url:function(n,t){return this.optional(t)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(n)},date:function(n,t){return this.optional(t)||!/Invalid|NaN/.test(new Date(n))},dateISO:function(n,t){return this.optional(t)||/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(n)},number:function(n,t){return this.optional(t)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/.test(n)},digits:function(n,t){return this.optional(t)||/^\d+$/.test(n)},creditcard:function(n,t){var i,f,r;if(this.optional(t))return"dependency-mismatch";if(/[^0-9 -]+/.test(n))return!1;var e=0,r=0,u=!1;for(n=n.replace(/\D/g,""),i=n.length-1;i>=0;i--)f=n.charAt(i),r=parseInt(f,10),u&&(r*=2)>9&&(r-=9),e+=r,u=!u;return e%10==0},accept:function(n,t,i){return i=typeof i=="string"?i.replace(/,/g,"|"):"png|jpe?g|gif",this.optional(t)||n.match(new RegExp(".("+i+")$","i"))},equalTo:function(t,i,r){var u=n(r).unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){n(i).valid()});return t==u.val()}}}),n.format=n.validator.format}(jQuery),function(n){var t={},i;n.ajaxPrefilter?n.ajaxPrefilter(function(n,i,r){var u=n.port;n.mode=="abort"&&(t[u]&&t[u].abort(),t[u]=r)}):(i=n.ajax,n.ajax=function(r){var f=("mode"in r?r:n.ajaxSettings).mode,u=("port"in r?r:n.ajaxSettings).port;return f=="abort"?(t[u]&&t[u].abort(),t[u]=i.apply(this,arguments)):i.apply(this,arguments)})}(jQuery),function(n){jQuery.event.special.focusin||jQuery.event.special.focusout||!document.addEventListener||n.each({focus:"focusin",blur:"focusout"},function(t,i){function r(t){return t=n.event.fix(t),t.type=i,n.event.handle.call(this,t)}n.event.special[i]={setup:function(){this.addEventListener(t,r,!0)},teardown:function(){this.removeEventListener(t,r,!0)},handler:function(t){return arguments[0]=n.event.fix(t),arguments[0].type=i,n.event.handle.apply(this,arguments)}}}),n.extend(n.fn,{validateDelegate:function(t,i,r){return this.bind(i,function(i){var u=n(i.target);if(u.is(t))return r.apply(u,arguments)})}})}(jQuery);
/*!
** Unobtrusive validation support library for jQuery and jQuery Validate
** Copyright (C) Microsoft Corporation. All rights reserved.
*/
(function(n){function i(n,t,i){n.rules[t]=i,n.message&&(n.messages[t]=n.message)}function h(n){return n.replace(/^\s+|\s+$/g,"").split(/\s*,\s*/g)}function u(n){return n.substr(0,n.lastIndexOf(".")+1)}function f(n,t){return n.indexOf("*.")===0&&(n=n.replace("*.",t)),n}function c(t,i){var r=n(this).find("[data-valmsg-for='"+i[0].name+"']"),f=n.parseJSON(r.attr("data-valmsg-replace"))!==!1,u=jQuery('<div class="alert alert-error"></div>');u.append(jQuery('<a class="close" data-dismiss="alert">').text("×")),t.data("unobtrusiveContainer",r),f?(r.empty(),t.appendTo(u),u.appendTo(r)):t.hide()}function l(t,i){var u=n(this).find("[data-valmsg-summary=true]"),r;i.errorList.length&&(u.empty(),r=jQuery('<div class="alert alert-error"></div>'),r.append(jQuery('<a class="close" data-dismiss="alert">').text("×")),n.each(i.errorList,function(){n("<div />").html(this.message).appendTo(r)}))}function s(t){var i=t.data("unobtrusiveContainer"),r=n.parseJSON(i.attr("data-valmsg-replace"));i&&(t.removeData("unobtrusiveContainer"),r&&i.empty())}function o(t){var i=n(t),r=i.data(e);return r||(r={options:{errorClass:"error",errorElement:"div",errorPlacement:n.proxy(c,t),invalidHandler:n.proxy(l,t),messages:{},rules:{},success:n.proxy(s,t)},attachValidation:function(){i.validate(this.options)},validate:function(){return i.validate(),i.valid()}},i.data(e,r)),r}var r=n.validator,t,e="unobtrusiveValidation";r.unobtrusive={adapters:[],parseElement:function(t,i){var f=n(t),e=f.parents("form")[0],r,u,s;e&&(r=o(e),r.options.rules[t.name]=u={},r.options.messages[t.name]=s={},n.each(this.adapters,function(){var i="data-val-"+this.name,o=f.attr(i),r={};o!==undefined&&(i+="-",n.each(this.params,function(){r[this]=f.attr(i+this)}),this.adapt({element:t,form:e,message:o,params:r,rules:u,messages:s}))}),jQuery.extend(u,{__dummy__:!0}),i||r.attachValidation())},parse:function(t){n(t).find(":input[data-val=true]").each(function(){r.unobtrusive.parseElement(this,!0)}),n("form").each(function(){var n=o(this);n&&n.attachValidation()})}},t=r.unobtrusive.adapters,t.add=function(n,t,i){return i||(i=t,t=[]),this.push({name:n,params:t,adapt:i}),this},t.addBool=function(n,t){return this.add(n,function(r){i(r,t||n,!0)})},t.addMinMax=function(n,t,r,u,f,e){return this.add(n,[f||"min",e||"max"],function(n){var e=n.params.min,f=n.params.max;e&&f?i(n,u,[e,f]):e?i(n,t,e):f&&i(n,r,f)})},t.addSingleVal=function(n,t,r){return this.add(n,[t||"val"],function(u){i(u,r||n,u.params[t])})},r.addMethod("__dummy__",function(){return!0}),r.addMethod("regex",function(n,t,i){var r;return this.optional(t)?!0:(r=new RegExp(i).exec(n),r&&r.index===0&&r[0].length===n.length)}),t.addSingleVal("accept","exts").addSingleVal("regex","pattern"),t.addBool("creditcard").addBool("date").addBool("digits").addBool("email").addBool("number").addBool("url"),t.addMinMax("length","minlength","maxlength","rangelength").addMinMax("range","min","max","range"),t.add("equalto",["other"],function(t){var o=u(t.element.name),s=t.params.other,r=f(s,o),e=n(t.form).find(":input[name="+r+"]")[0];i(t,"equalTo",e)}),t.add("required",function(n){(n.element.tagName.toUpperCase()!=="INPUT"||n.element.type.toUpperCase()!=="CHECKBOX")&&i(n,"required",!0)}),t.add("remote",["url","type","additionalfields"],function(t){var r={url:t.params.url,type:t.params.type||"GET",data:{}},e=u(t.element.name);n.each(h(t.params.additionalfields||t.element.name),function(i,u){var o=f(u,e);r.data[o]=function(){return n(t.form).find(":input[name='"+o+"']").val()}}),i(t,"remote",r)}),n(function(){r.unobtrusive.parse(document)})})(jQuery),dateFormat=function(){var t=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,r=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,i=/[^-+\dA-Z]/g,n=function(n,t){for(n=String(n),t=t||2;n.length<t;)n="0"+n;return n};return function(u,f,e){var h=dateFormat;if(arguments.length!=1||Object.prototype.toString.call(u)!="[object String]"||/\d/.test(u)||(f=u,u=undefined),u=u?new Date(u):new Date,isNaN(u))throw SyntaxError("invalid date");f=String(h.masks[f]||f||h.masks["default"]),f.slice(0,4)=="UTC:"&&(f=f.slice(4),e=!0);var o=e?"getUTC":"get",c=u[o+"Date"](),y=u[o+"Day"](),a=u[o+"Month"](),w=u[o+"FullYear"](),s=u[o+"Hours"](),b=u[o+"Minutes"](),k=u[o+"Seconds"](),l=u[o+"Milliseconds"](),v=e?0:u.getTimezoneOffset(),p={d:c,dd:n(c),ddd:h.i18n.dayNames[y],dddd:h.i18n.dayNames[y+7],m:a+1,mm:n(a+1),mmm:h.i18n.monthNames[a],mmmm:h.i18n.monthNames[a+12],yy:String(w).slice(2),yyyy:w,h:s%12||12,hh:n(s%12||12),H:s,HH:n(s),M:b,MM:n(b),s:k,ss:n(k),l:n(l,3),L:n(l>99?Math.round(l/10):l),t:s<12?"a":"p",tt:s<12?"am":"pm",T:s<12?"A":"P",TT:s<12?"AM":"PM",Z:e?"UTC":(String(u).match(r)||[""]).pop().replace(i,""),o:(v>0?"-":"+")+n(Math.floor(Math.abs(v)/60)*100+Math.abs(v)%60,4),S:["th","st","nd","rd"][c%10>3?0:(c%100-c%10!=10)*c%10]};return f.replace(t,function(n){return n in p?p[n]:n.slice(1,n.length-1)})}}(),dateFormat.masks={"default":"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"},dateFormat.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]},Date.prototype.format=function(n,t){return dateFormat(this,n,t)},function(n,t){function s(n){var u=this,r,t;if(n)for(r in n)t=i.extenders[r],typeof t=="function"&&(u=t(u,n[r]));return u}function o(n,t,i){if(n&&typeof n=="object"?i=n:(i=i||{},i.read=n||i.read),typeof i.read!="function")throw"Pass a function that returns the value of the dependentObservable";return i}function e(n,t,r){r&&t!==i.selectExtensions.readValue(n)&&i.selectExtensions.writeValue(n,t),t!==i.selectExtensions.readValue(n)&&i.utils.triggerEvent(n,"change")}var i=n.ko={},r,f,u;i.exportSymbol=function(t,i){for(var u=t.split("."),f=n,r=0;r<u.length-1;r++)f=f[u[r]];f[u[u.length-1]]=i},i.exportProperty=function(n,t,i){n[t]=i},i.utils=new function(){function c(n,t){if(n.tagName!="INPUT"||!n.type||t.toLowerCase()!="click")return!1;var i=n.type.toLowerCase();return i=="checkbox"||i=="radio"}var a=/^(\s|\u00A0)+|(\s|\u00A0)+$/g,e={},h={},v=/Firefox\/2/i.test(navigator.userAgent)?"KeyboardEvent":"UIEvents",o,f,u,s;e[v]=["keyup","keydown","keypress"],e.MouseEvents=["click","dblclick","mousedown","mouseup","mousemove","mouseover","mouseout","mouseenter","mouseleave"];for(o in e)if(f=e[o],f.length)for(u=0,s=f.length;u<s;u++)h[f[u]]=o;var r=function(){for(var n=3,i=document.createElement("div"),r=i.getElementsByTagName("i");i.innerHTML="<!--[if gt IE "+ ++n+"]><i></i><![endif]-->",r[0];);return n>4?n:t}(),y=r===6,l=r===7;return{fieldsIncludedWithJsonPost:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],arrayForEach:function(n,t){for(var i=0,r=n.length;i<r;i++)t(n[i])},arrayIndexOf:function(n,t){if(typeof Array.prototype.indexOf=="function")return Array.prototype.indexOf.call(n,t);for(var i=0,r=n.length;i<r;i++)if(n[i]===t)return i;return-1},arrayFirst:function(n,t,i){for(var r=0,u=n.length;r<u;r++)if(t.call(i,n[r]))return n[r];return null},arrayRemoveItem:function(n,t){var r=i.utils.arrayIndexOf(n,t);r>=0&&n.splice(r,1)},arrayGetDistinctValues:function(n){var r,t,u;for(n=n||[],r=[],t=0,u=n.length;t<u;t++)i.utils.arrayIndexOf(r,n[t])<0&&r.push(n[t]);return r},arrayMap:function(n,t){var r,i,u;for(n=n||[],r=[],i=0,u=n.length;i<u;i++)r.push(t(n[i]));return r},arrayFilter:function(n,t){var r,i,u;for(n=n||[],r=[],i=0,u=n.length;i<u;i++)t(n[i])&&r.push(n[i]);return r},arrayPushAll:function(n,t){for(var i=0,r=t.length;i<r;i++)n.push(t[i]);return n},extend:function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);return n},emptyDomNode:function(n){while(n.firstChild)i.removeNode(n.firstChild)},setDomNodeChildren:function(n,t){i.utils.emptyDomNode(n),t&&i.utils.arrayForEach(t,function(t){n.appendChild(t)})},replaceDomNodes:function(n,t){var f=n.nodeType?[n]:n,e,o,r,u;if(f.length>0){for(e=f[0],o=e.parentNode,r=0,u=t.length;r<u;r++)o.insertBefore(t[r],e);for(r=0,u=f.length;r<u;r++)i.removeNode(f[r])}},setOptionNodeSelectionState:function(n,t){navigator.userAgent.indexOf("MSIE 6")>=0?n.setAttribute("selected",t):n.selected=t},stringTrim:function(n){return(n||"").replace(a,"")},stringTokenize:function(n,t){for(var o=[],f=(n||"").split(t),u,r=0,e=f.length;r<e;r++)u=i.utils.stringTrim(f[r]),u!==""&&o.push(u);return o},stringStartsWith:function(n,t){return(n=n||"",t.length>n.length)?!1:n.substring(0,t.length)===t},evalWithinScope:function(n){for(var i=Array.prototype.slice.call(arguments,1),r="return ("+n+")",t=0;t<i.length;t++)i[t]&&typeof i[t]=="object"&&(r="with(sc["+t+"]) { "+r+" } ");return new Function("sc",r)(i)},domNodeIsContainedBy:function(n,t){if(t.compareDocumentPosition)return(t.compareDocumentPosition(n)&16)==16;while(n!=null){if(n==t)return!0;n=n.parentNode}return!1},domNodeIsAttachedToDocument:function(n){return i.utils.domNodeIsContainedBy(n,document)},registerEventHandler:function(n,t,i){if(typeof jQuery!="undefined"){if(c(n,t)){var r=i;i=function(n,t){var i=this.checked;t&&(this.checked=t.checkedStateBeforeEvent!==!0),r.call(this,n),this.checked=i}}jQuery(n).bind(t,i)}else if(typeof n.addEventListener=="function")n.addEventListener(t,i,!1);else if(typeof n.attachEvent!="undefined")n.attachEvent("on"+t,function(t){i.call(n,t)});else throw new Error("Browser doesn't support addEventListener or attachEvent");},triggerEvent:function(t,i){var u,f,r;if(!(t&&t.nodeType))throw new Error("element must be a DOM node when calling triggerEvent");if(typeof jQuery!="undefined")u=[],c(t,i)&&u.push({checkedStateBeforeEvent:t.checked}),jQuery(t).trigger(i,u);else if(typeof document.createEvent=="function")if(typeof t.dispatchEvent=="function")f=h[i]||"HTMLEvents",r=document.createEvent(f),r.initEvent(i,!0,!0,n,0,0,0,0,0,!1,!1,!1,!1,0,t),t.dispatchEvent(r);else throw new Error("The supplied element doesn't support dispatchEvent");else if(typeof t.fireEvent!="undefined")i=="click"&&t.tagName=="INPUT"&&(t.type.toLowerCase()=="checkbox"||t.type.toLowerCase()=="radio")&&(t.checked=t.checked!==!0),t.fireEvent("on"+i);else throw new Error("Browser doesn't support triggering events");},unwrapObservable:function(n){return i.isObservable(n)?n():n},domNodeHasCssClass:function(n,t){var r=(n.className||"").split(/\s+/);return i.utils.arrayIndexOf(r,t)>=0},toggleDomNodeCssClass:function(n,t,r){var o=i.utils.domNodeHasCssClass(n,t),f,e,u;if(r&&!o)n.className=(n.className||"")+" "+t;else if(o&&!r){for(f=(n.className||"").split(/\s+/),e="",u=0;u<f.length;u++)f[u]!=t&&(e+=f[u]+" ");n.className=i.utils.stringTrim(e)}},outerHTML:function(i){var f,u;return r===t&&(f=i.outerHTML,typeof f=="string")?f:(u=n.document.createElement("div"),u.appendChild(i.cloneNode(!0)),u.innerHTML)},setTextContent:function(n,u){var f=i.utils.unwrapObservable(u);(f===null||f===t)&&(f=""),"innerText"in n?n.innerText=f:n.textContent=f,r>=9&&(n.innerHTML=n.innerHTML)},range:function(n,t){var u,r;for(n=i.utils.unwrapObservable(n),t=i.utils.unwrapObservable(t),u=[],r=n;r<=t;r++)u.push(r);return u},makeArray:function(n){for(var r=[],t=0,i=n.length;t<i;t++)r.push(n[t]);return r},isIe6:y,isIe7:l,getFormFields:function(n,t){for(var u=i.utils.makeArray(n.getElementsByTagName("INPUT")).concat(i.utils.makeArray(n.getElementsByTagName("TEXTAREA"))),e=typeof t=="string"?function(n){return n.name===t}:function(n){return t.test(n.name)},f=[],r=u.length-1;r>=0;r--)e(u[r])&&f.push(u[r]);return f},parseJson:function(t){return typeof t=="string"&&(t=i.utils.stringTrim(t),t)?n.JSON&&n.JSON.parse?n.JSON.parse(t):new Function("return "+t)():null},stringifyJson:function(n){if(typeof JSON=="undefined"||typeof JSON.stringify=="undefined")throw new Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");return JSON.stringify(i.utils.unwrapObservable(n))},postJson:function(n,t,r){var l,h,s,o,u,e,f;r=r||{};var c=r.params||{},v=r.includeFields||this.fieldsIncludedWithJsonPost,a=n;if(typeof n=="object"&&n.tagName=="FORM")for(l=n,a=l.action,h=v.length-1;h>=0;h--)for(s=i.utils.getFormFields(l,v[h]),o=s.length-1;o>=0;o--)c[s[o].name]=s[o].value;t=i.utils.unwrapObservable(t),u=document.createElement("FORM"),u.style.display="none",u.action=a,u.method="post";for(e in t)f=document.createElement("INPUT"),f.name=e,f.value=i.utils.stringifyJson(i.utils.unwrapObservable(t[e])),u.appendChild(f);for(e in c)f=document.createElement("INPUT"),f.name=e,f.value=c[e],u.appendChild(f);document.body.appendChild(u),r.submitter?r.submitter(u):u.submit(),setTimeout(function(){u.parentNode.removeChild(u)},0)}}},i.exportSymbol("ko.utils",i.utils),i.utils.arrayForEach([["arrayForEach",i.utils.arrayForEach],["arrayFirst",i.utils.arrayFirst],["arrayFilter",i.utils.arrayFilter],["arrayGetDistinctValues",i.utils.arrayGetDistinctValues],["arrayIndexOf",i.utils.arrayIndexOf],["arrayMap",i.utils.arrayMap],["arrayPushAll",i.utils.arrayPushAll],["arrayRemoveItem",i.utils.arrayRemoveItem],["extend",i.utils.extend],["fieldsIncludedWithJsonPost",i.utils.fieldsIncludedWithJsonPost],["getFormFields",i.utils.getFormFields],["postJson",i.utils.postJson],["parseJson",i.utils.parseJson],["registerEventHandler",i.utils.registerEventHandler],["stringifyJson",i.utils.stringifyJson],["range",i.utils.range],["toggleDomNodeCssClass",i.utils.toggleDomNodeCssClass],["triggerEvent",i.utils.triggerEvent],["unwrapObservable",i.utils.unwrapObservable]],function(n){i.exportSymbol("ko.utils."+n[0],n[1])}),Function.prototype.bind||(Function.prototype.bind=function(n){var i=this,t=Array.prototype.slice.call(arguments),n=t.shift();return function(){return i.apply(n,t.concat(Array.prototype.slice.call(arguments)))}}),i.utils.domData=new function(){var u=0,n="__ko__"+ +new Date,r={};return{get:function(n,r){var u=i.utils.domData.getAll(n,!1);return u===t?t:u[r]},set:function(n,r,u){if(u!==t||i.utils.domData.getAll(n,!1)!==t){var f=i.utils.domData.getAll(n,!0);f[r]=u}},getAll:function(i,f){var e=i[n],o=e&&e!=="null";if(!o){if(!f)return t;e=i[n]="ko"+u++,r[e]={}}return r[e]},clear:function(t){var i=t[n];i&&(delete r[i],t[n]=null)}}},i.exportSymbol("ko.utils.domData",i.utils.domData),i.exportSymbol("ko.utils.domData.clear",i.utils.domData.clear),i.utils.domNodeDisposal=new function(){function n(n,u){var f=i.utils.domData.get(n,r);return f===t&&u&&(f=[],i.utils.domData.set(n,r,f)),f}function f(n){i.utils.domData.set(n,r,t)}function u(t){var r=n(t,!1),u;if(r)for(r=r.slice(0),u=0;u<r.length;u++)r[u](t);i.utils.domData.clear(t),typeof jQuery=="function"&&typeof jQuery.cleanData=="function"&&jQuery.cleanData([t])}var r="__ko_domNodeDisposal__"+ +new Date;return{addDisposeCallback:function(t,i){if(typeof i!="function")throw new Error("Callback must be a function");n(t,!0).push(i)},removeDisposeCallback:function(t,r){var u=n(t,!1);u&&(i.utils.arrayRemoveItem(u,r),u.length==0&&f(t))},cleanNode:function(n){var r,t,f;if(n.nodeType==1||n.nodeType==9)for(u(n),r=[],i.utils.arrayPushAll(r,n.getElementsByTagName("*")),t=0,f=r.length;t<f;t++)u(r[t])},removeNode:function(n){i.cleanNode(n),n.parentNode&&n.parentNode.removeChild(n)}}},i.cleanNode=i.utils.domNodeDisposal.cleanNode,i.removeNode=i.utils.domNodeDisposal.removeNode,i.exportSymbol("ko.cleanNode",i.cleanNode),i.exportSymbol("ko.removeNode",i.removeNode),i.exportSymbol("ko.utils.domNodeDisposal",i.utils.domNodeDisposal),i.exportSymbol("ko.utils.domNodeDisposal.addDisposeCallback",i.utils.domNodeDisposal.addDisposeCallback),i.exportSymbol("ko.utils.domNodeDisposal.removeDisposeCallback",i.utils.domNodeDisposal.removeDisposeCallback),function(){function u(t){var u=i.utils.stringTrim(t).toLowerCase(),r=document.createElement("div"),f=u.match(/^<(thead|tbody|tfoot)/)&&[1,"<table>","</table>"]||!u.indexOf("<tr")&&[2,"<table><tbody>","</tbody></table>"]||(!u.indexOf("<td")||!u.indexOf("<th"))&&[3,"<table><tbody><tr>","</tr></tbody></table>"]||[0,"",""],e="ignored<div>"+f[1]+t+f[2]+"</div>";for(typeof n.innerShiv=="function"?r.appendChild(n.innerShiv(e)):r.innerHTML=e;f[0]--;)r=r.lastChild;return i.utils.makeArray(r.lastChild.childNodes)}function r(n){var i=jQuery.clean([n]),t;if(i&&i[0]){for(t=i[0];t.parentNode&&t.parentNode.nodeType!==11;)t=t.parentNode;t.parentNode&&t.parentNode.removeChild(t)}return i}var f=/^(\s*)<!--(.*?)-->/;i.utils.parseHtmlFragment=function(n){return typeof jQuery!="undefined"?r(n):u(n)},i.utils.setHtml=function(n,r){var f,u;if(i.utils.emptyDomNode(n),r!==null&&r!==t)if(typeof r!="string"&&(r=r.toString()),typeof jQuery!="undefined")jQuery(n).html(r);else for(f=i.utils.parseHtmlFragment(r),u=0;u<f.length;u++)n.appendChild(f[u])}}(),i.exportSymbol("ko.utils.parseHtmlFragment",i.utils.parseHtmlFragment),i.exportSymbol("ko.utils.setHtml",i.utils.setHtml),i.memoization=function(){function u(){return((1+Math.random())*4294967296|0).toString(16).substring(1)}function f(){return u()+u()}function r(n,t){var f;if(n)if(n.nodeType==8)f=i.memoization.parseMemoText(n.nodeValue),f!=null&&t.push({domNode:n,memoId:f});else if(n.nodeType==1)for(var u=0,e=n.childNodes,o=e.length;u<o;u++)r(e[u],t)}var n={};return{memoize:function(t){if(typeof t!="function")throw new Error("You can only pass a function to ko.memoization.memoize()");var i=f();return n[i]=t,"<!--[ko_memo:"+i+"]-->"},unmemoize:function(i,r){var u=n[i];if(u===t)throw new Error("Couldn't find any memo with ID "+i+". Perhaps it's already been unmemoized.");try{return u.apply(null,r||[]),!0}finally{delete n[i]}},unmemoizeDomNodeAndDescendants:function(n,t){var e=[],f,s,u,o;for(r(n,e),f=0,s=e.length;f<s;f++)u=e[f].domNode,o=[u],t&&i.utils.arrayPushAll(o,t),i.memoization.unmemoize(e[f].memoId,o),u.nodeValue="",u.parentNode&&u.parentNode.removeChild(u)},parseMemoText:function(n){var t=n.match(/^\[ko_memo\:(.*?)\]$/);return t?t[1]:null}}}(),i.exportSymbol("ko.memoization",i.memoization),i.exportSymbol("ko.memoization.memoize",i.memoization.memoize),i.exportSymbol("ko.memoization.unmemoize",i.memoization.unmemoize),i.exportSymbol("ko.memoization.parseMemoText",i.memoization.parseMemoText),i.exportSymbol("ko.memoization.unmemoizeDomNodeAndDescendants",i.memoization.unmemoizeDomNodeAndDescendants),i.extenders={throttle:function(n,t){n.throttleEvaluation=t;var r=null;return i.dependentObservable({read:n,write:function(i){clearTimeout(r),r=setTimeout(function(){n(i)},t)}})},notify:function(n,t){return n.equalityComparer=t=="always"?function(){return!1}:i.observable.fn.equalityComparer,n}},i.exportSymbol("ko.extenders",i.extenders),i.subscription=function(n,t){this.callback=n,this.disposeCallback=t,i.exportProperty(this,"dispose",this.dispose)},i.subscription.prototype.dispose=function(){this.isDisposed=!0,this.disposeCallback()},i.subscribable=function(){this._subscriptions={},i.utils.extend(this,i.subscribable.fn),i.exportProperty(this,"subscribe",this.subscribe),i.exportProperty(this,"extend",this.extend),i.exportProperty(this,"getSubscriptionsCount",this.getSubscriptionsCount)},r="change",i.subscribable.fn={subscribe:function(n,t,u){u=u||r;var e=t?n.bind(t):n,f=new i.subscription(e,function(){i.utils.arrayRemoveItem(this._subscriptions[u],f)}.bind(this));return this._subscriptions[u]||(this._subscriptions[u]=[]),this._subscriptions[u].push(f),f},notifySubscribers:function(n,t){t=t||r,this._subscriptions[t]&&i.utils.arrayForEach(this._subscriptions[t].slice(0),function(t){t&&t.isDisposed!==!0&&t.callback(n)})},getSubscriptionsCount:function(){var t=0,n;for(n in this._subscriptions)this._subscriptions.hasOwnProperty(n)&&(t+=this._subscriptions[n].length);return t},extend:s},i.isSubscribable=function(n){return typeof n.subscribe=="function"&&typeof n.notifySubscribers=="function"},i.exportSymbol("ko.subscribable",i.subscribable),i.exportSymbol("ko.isSubscribable",i.isSubscribable),i.dependencyDetection=function(){var n=[];return{begin:function(t){n.push({callback:t,distinctDependencies:[]})},end:function(){n.pop()},registerDependency:function(t){if(!i.isSubscribable(t))throw"Only subscribable things can act as dependencies";if(n.length>0){var r=n[n.length-1];if(i.utils.arrayIndexOf(r.distinctDependencies,t)>=0)return;r.distinctDependencies.push(t),r.callback(t)}}}}(),f={undefined:!0,boolean:!0,number:!0,string:!0},i.observable=function(n){function t(){return arguments.length>0?(t.equalityComparer&&t.equalityComparer(r,arguments[0])||(t.valueWillMutate(),r=arguments[0],t.valueHasMutated()),this):(i.dependencyDetection.registerDependency(t),r)}var r=n;return i.subscribable.call(t),t.valueHasMutated=function(){t.notifySubscribers(r)},t.valueWillMutate=function(){t.notifySubscribers(r,"beforeChange")},i.utils.extend(t,i.observable.fn),i.exportProperty(t,"valueHasMutated",t.valueHasMutated),i.exportProperty(t,"valueWillMutate",t.valueWillMutate),t},i.observable.fn={__ko_proto__:i.observable,equalityComparer:function(n,t){var i=n===null||typeof n in f;return i?n===t:!1}},i.isObservable=function(n){return n===null||n===t||n.__ko_proto__===t?!1:n.__ko_proto__===i.observable?!0:i.isObservable(n.__ko_proto__)},i.isWriteableObservable=function(n){return typeof n=="function"&&n.__ko_proto__===i.observable?!0:typeof n=="function"&&n.__ko_proto__===i.dependentObservable&&n.hasWriteFunction?!0:!1},i.exportSymbol("ko.observable",i.observable),i.exportSymbol("ko.isObservable",i.isObservable),i.exportSymbol("ko.isWriteableObservable",i.isWriteableObservable),i.observableArray=function(n){if(arguments.length==0&&(n=[]),n!==null&&n!==t&&!("length"in n))throw new Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");var r=new i.observable(n);return i.utils.extend(r,i.observableArray.fn),i.exportProperty(r,"remove",r.remove),i.exportProperty(r,"removeAll",r.removeAll),i.exportProperty(r,"destroy",r.destroy),i.exportProperty(r,"destroyAll",r.destroyAll),i.exportProperty(r,"indexOf",r.indexOf),i.exportProperty(r,"replace",r.replace),r},i.observableArray.fn={remove:function(n){for(var u=this(),i=[],f=typeof n=="function"?n:function(t){return t===n},r,t=0;t<u.length;t++)r=u[t],f(r)&&(i.length===0&&this.valueWillMutate(),i.push(r),u.splice(t,1),t--);return i.length&&this.valueHasMutated(),i},removeAll:function(n){if(n===t){var r=this(),u=r.slice(0);return this.valueWillMutate(),r.splice(0,r.length),this.valueHasMutated(),u}return n?this.remove(function(t){return i.utils.arrayIndexOf(n,t)>=0}):[]},destroy:function(n){var i=this(),u=typeof n=="function"?n:function(t){return t===n},t,r;for(this.valueWillMutate(),t=i.length-1;t>=0;t--)r=i[t],u(r)&&(i[t]._destroy=!0);this.valueHasMutated()},destroyAll:function(n){return n===t?this.destroy(function(){return!0}):n?this.destroy(function(t){return i.utils.arrayIndexOf(n,t)>=0}):[]},indexOf:function(n){var t=this();return i.utils.arrayIndexOf(t,n)},replace:function(n,t){var i=this.indexOf(n);i>=0&&(this.valueWillMutate(),this()[i]=t,this.valueHasMutated())}},i.utils.arrayForEach(["pop","push","reverse","shift","sort","splice","unshift"],function(n){i.observableArray.fn[n]=function(){var i=this(),t;return this.valueWillMutate(),t=i[n].apply(i,arguments),this.valueHasMutated(),t}}),i.utils.arrayForEach(["slice"],function(n){i.observableArray.fn[n]=function(){var t=this();return t[n].apply(t,arguments)}}),i.exportSymbol("ko.observableArray",i.observableArray),i.dependentObservable=function(n,t,r){function y(){i.utils.arrayForEach(e,function(n){n.dispose()}),e=[]}function p(){var n=u.throttleEvaluation;n&&n>=0?(clearTimeout(c),c=setTimeout(s,n)):s()}function s(){if(a&&typeof r.disposeWhen=="function"&&r.disposeWhen()){u.dispose();return}try{y(),i.dependencyDetection.begin(function(n){e.push(n.subscribe(p))});var f=r.owner||t,n=r.read.call(f);u.notifySubscribers(h,"beforeChange"),h=n}finally{i.dependencyDetection.end()}u.notifySubscribers(h),a=!0}function u(){if(arguments.length>0)if(typeof r.write=="function"){var n=r.owner||t;r.write.apply(n,arguments)}else throw"Cannot write a value to a dependentObservable unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.";else return a||s(),i.dependencyDetection.registerDependency(u),h}var h,a=!1,r=o(n,t,r),f=typeof r.disposeWhenNodeIsRemoved=="object"?r.disposeWhenNodeIsRemoved:null,l=null,v,e,c;return f&&(l=function(){u.dispose()},i.utils.domNodeDisposal.addDisposeCallback(f,l),v=r.disposeWhen,r.disposeWhen=function(){return!i.utils.domNodeIsAttachedToDocument(f)||typeof v=="function"&&v()}),e=[],c=null,u.getDependenciesCount=function(){return e.length},u.hasWriteFunction=typeof r.write=="function",u.dispose=function(){f&&i.utils.domNodeDisposal.removeDisposeCallback(f,l),y()},i.subscribable.call(u),i.utils.extend(u,i.dependentObservable.fn),r.deferEvaluation!==!0&&s(),i.exportProperty(u,"dispose",u.dispose),i.exportProperty(u,"getDependenciesCount",u.getDependenciesCount),u},i.dependentObservable.fn={__ko_proto__:i.dependentObservable},i.dependentObservable.__ko_proto__=i.observable,i.exportSymbol("ko.dependentObservable",i.dependentObservable),i.exportSymbol("ko.computed",i.dependentObservable),function(){function n(i,f,e){var s,o;return(e=e||new r,i=f(i),s=typeof i=="object"&&i!==null&&i!==t&&!(i instanceof Date),!s)?i:(o=i instanceof Array?[]:{},e.save(i,o),u(i,function(r){var u=f(i[r]),s;switch(typeof u){case"boolean":case"number":case"string":case"function":o[r]=u;break;case"object":case"undefined":s=e.get(u),o[r]=s!==t?s:n(u,f,e)}}),o)}function u(n,t){var i,r;if(n instanceof Array)for(i=0;i<n.length;i++)t(i);else for(r in n)t(r)}function r(){var r=[],n=[];this.save=function(t,u){var f=i.utils.arrayIndexOf(r,t);f>=0?n[f]=u:(r.push(t),n.push(u))},this.get=function(u){var f=i.utils.arrayIndexOf(r,u);return f>=0?n[f]:t}}var f=10;i.toJS=function(t){if(arguments.length==0)throw new Error("When calling ko.toJS, pass the object you want to convert.");return n(t,function(n){for(var t=0;i.isObservable(n)&&t<f;t++)n=n();return n})},i.toJSON=function(n){var t=i.toJS(n);return i.utils.stringifyJson(t)}}(),i.exportSymbol("ko.toJS",i.toJS),i.exportSymbol("ko.toJSON",i.toJSON),function(){var n="__ko__hasDomDataOptionValue__";i.selectExtensions={readValue:function(r){return r.tagName=="OPTION"?r[n]===!0?i.utils.domData.get(r,i.bindingHandlers.options.optionValueDomDataKey):r.getAttribute("value"):r.tagName=="SELECT"?r.selectedIndex>=0?i.selectExtensions.readValue(r.options[r.selectedIndex]):t:r.value},writeValue:function(r,u){if(r.tagName=="OPTION")switch(typeof u){case"string":i.utils.domData.set(r,i.bindingHandlers.options.optionValueDomDataKey,t),n in r&&delete r[n],r.value=u;break;default:i.utils.domData.set(r,i.bindingHandlers.options.optionValueDomDataKey,u),r[n]=!0,r.value=typeof u=="number"?u:""}else if(r.tagName=="SELECT"){for(var f=r.options.length-1;f>=0;f--)if(i.selectExtensions.readValue(r.options[f])==u){r.selectedIndex=f;break}}else(u===null||u===t)&&(u=""),r.value=u}}}(),i.exportSymbol("ko.selectExtensions",i.selectExtensions),i.exportSymbol("ko.selectExtensions.readValue",i.selectExtensions.readValue),i.exportSymbol("ko.selectExtensions.writeValue",i.selectExtensions.writeValue),i.jsonExpressionRewriting=function(){function n(n,t){for(var i=null;n!=i;)i=n,n=n.replace(u,function(n,i){return t[i]});return n}function r(n){return i.utils.arrayIndexOf(e,i.utils.stringTrim(n).toLowerCase())>=0?!1:n.match(f)!==null}function t(n){var t=i.utils.stringTrim(n);switch(t.length&&t.charAt(0)){case"'":case'"':return n;default:return"'"+t+"'"}}var u=/\@ko_token_(\d+)\@/g,f=/^[\_$a-z][\_$a-z0-9]*(\[.*?\])*(\.[\_$a-z][\_$a-z0-9]*(\[.*?\])*)*$/i,e=["true","false"];return{bindingRewriteValidators:[],parseObjectLiteral:function(t){var u=i.utils.stringTrim(t),o,f,s,p,a,r,e,l,c,w,b,y,g,h,v,d,k;if(u.length<3)return[];for(u.charAt(0)==="{"&&(u=u.substring(1,u.length-1)),o=[],f=null,r=0;r<u.length;r++)if(e=u.charAt(r),f===null)switch(e){case'"':case"'":case"/":f=r,s=e}else e==s&&u.charAt(r-1)!=="\\"&&(l=u.substring(f,r+1),o.push(l),c="@ko_token_"+(o.length-1)+"@",u=u.substring(0,f)+c+u.substring(r+1),r-=l.length-c.length,f=null);for(f=null,s=null,p=0,a=null,r=0;r<u.length;r++){if(e=u.charAt(r),f===null)switch(e){case"{":f=r,a=e,s="}";break;case"(":f=r,a=e,s=")";break;case"[":f=r,a=e,s="]"}e===a?p++:e===s&&(p--,p===0&&(l=u.substring(f,r+1),o.push(l),c="@ko_token_"+(o.length-1)+"@",u=u.substring(0,f)+c+u.substring(r+1),r-=l.length-c.length,f=null))}for(w=[],b=u.split(","),y=0,g=b.length;y<g;y++)h=b[y],v=h.indexOf(":"),v>0&&v<h.length-1?(d=h.substring(0,v),k=h.substring(v+1),w.push({key:n(d,o),value:n(k,o)})):w.push({unknown:n(h,o)});return w},insertPropertyAccessorsIntoJson:function(n){for(var a=typeof n=="string"?i.jsonExpressionRewriting.parseObjectLiteral(n):n,u=[],e=[],f,h,o,s,l,c=0;f=a[c];c++)u.length>0&&u.push(","),f.key?(h=t(f.key),o=f.value,u.push(h),u.push(":"),u.push(o),r(i.utils.stringTrim(o))&&(e.length>0&&e.push(", "),e.push(h+" : function(__ko_value) { "+o+" = __ko_value; }"))):f.unknown&&u.push(f.unknown);return s=u.join(""),e.length>0&&(l=e.join(""),s=s+", '_ko_property_writers' : { "+l+" } "),s},keyValueArrayContainsKey:function(n,t){for(var r=0;r<n.length;r++)if(i.utils.stringTrim(n[r].key)==t)return!0;return!1}}}(),i.exportSymbol("ko.jsonExpressionRewriting",i.jsonExpressionRewriting),i.exportSymbol("ko.jsonExpressionRewriting.bindingRewriteValidators",i.jsonExpressionRewriting.bindingRewriteValidators),i.exportSymbol("ko.jsonExpressionRewriting.parseObjectLiteral",i.jsonExpressionRewriting.parseObjectLiteral),i.exportSymbol("ko.jsonExpressionRewriting.insertPropertyAccessorsIntoJson",i.jsonExpressionRewriting.insertPropertyAccessorsIntoJson),function(){function n(n){return n.nodeType==8&&(r?n.text:n.nodeValue).match(c)}function u(n){return n.nodeType==8&&(r?n.text:n.nodeValue).match(l)}function e(t,i){for(var r=t,f=1,e=[];r=r.nextSibling;){if(u(r)&&(f--,f===0))return e;e.push(r),n(r)&&f++}if(!i)throw new Error("Cannot find closing comment tag to match: "+t.nodeValue);return null}function f(n,t){var i=e(n,t);return i?i.length>0?i[i.length-1].nextSibling:n.nextSibling:null}function o(n,t){for(var f=[],r=0,u=n.length;r<u;r++)t&&i.utils.domNodeDisposal.cleanNode(n[r]),f.push(i.utils.outerHTML(n[r]));return String.prototype.concat.apply("",f)}function s(t){var i=t.firstChild,r=null,e;if(i)do r?r.push(i):n(i)?(e=f(i,!0),e?i=e:r=[i]):u(i)&&(r=[i]);while(i=i.nextSibling);return r}var r=document.createComment("test").text==="<!--test-->",c=r?/^<!--\s*ko\s+(.*\:.*)\s*-->$/:/^\s*ko\s+(.*\:.*)\s*$/,l=r?/^<!--\s*\/ko\s*-->$/:/^\s*\/ko\s*$/,h={ul:!0,ol:!0};i.virtualElements={allowedBindings:{},childNodes:function(t){return n(t)?e(t):t.childNodes},emptyNode:function(t){var u,r,f;if(n(t))for(u=i.virtualElements.childNodes(t),r=0,f=u.length;r<f;r++)i.removeNode(u[r]);else i.utils.emptyDomNode(t)},setDomNodeChildren:function(t,r){var f,u,e;if(n(t))for(i.virtualElements.emptyNode(t),f=t.nextSibling,u=0,e=r.length;u<e;u++)f.parentNode.insertBefore(r[u],f);else i.utils.setDomNodeChildren(t,r)},prepend:function(t,i){n(t)?t.parentNode.insertBefore(i,t.nextSibling):t.firstChild?t.insertBefore(i,t.firstChild):t.appendChild(i)},insertAfter:function(t,i,r){n(t)?t.parentNode.insertBefore(i,r.nextSibling):r.nextSibling?t.insertBefore(i,r.nextSibling):t.appendChild(i)},nextSibling:function(i){return n(i)?f(i).nextSibling:i.nextSibling&&u(i.nextSibling)?t:i.nextSibling},virtualNodeBindingValue:function(t){var i=n(t);return i?i[1]:null},extractAnonymousTemplateIfVirtualElement:function(n){if(i.virtualElements.virtualNodeBindingValue(n)){var r=i.virtualElements.childNodes(n),t=o(r,!0);i.virtualElements.emptyNode(n),new i.templateSources.anonymousTemplate(n).text(t)}},normaliseVirtualElementDomStructure:function(n){var t,r,u,i;if(h[n.tagName.toLowerCase()]&&(t=n.firstChild,t))do if(t.nodeType===1&&(r=s(t),r))for(u=t.nextSibling,i=0;i<r.length;i++)u?n.insertBefore(r[i],u):n.appendChild(r[i]);while(t=t.nextSibling)}}}(),function(){var t="data-bind";i.bindingProvider=function(){},i.utils.extend(i.bindingProvider.prototype,{nodeHasBindings:function(n){switch(n.nodeType){case 1:return n.getAttribute(t)!=null;case 8:return i.virtualElements.virtualNodeBindingValue(n)!=null;default:return!1}},getBindings:function(n,t){var i=this.getBindingsString(n,t);return i?this.parseBindingsString(i,t):null},getBindingsString:function(n){switch(n.nodeType){case 1:return n.getAttribute(t);case 8:return i.virtualElements.virtualNodeBindingValue(n);default:return null}},parseBindingsString:function(t,r){try{var u=r.$data,f=" { "+i.jsonExpressionRewriting.insertPropertyAccessorsIntoJson(t)+" } ";return i.utils.evalWithinScope(f,u===null?n:u,r)}catch(e){throw new Error("Unable to parse bindings.\nMessage: "+e+";\nBindings value: "+t);}}}),i.bindingProvider.instance=new i.bindingProvider}(),i.exportSymbol("ko.bindingProvider",i.bindingProvider),function(){function o(n){var t=i.virtualElements.allowedBindings[n];if(!t)throw new Error("The binding '"+n+"' cannot be used with virtual elements");}function e(n,t){for(var r,u=t.childNodes[0];r=u;)u=i.virtualElements.nextSibling(r),f(n,r,!1)}function f(n,t,r){var s=!0,f=t.nodeType==1,o;f&&i.virtualElements.normaliseVirtualElementDomStructure(t),o=f&&r||i.bindingProvider.instance.nodeHasBindings(t),o&&(s=u(t,null,n,r).shouldBindDescendants),f&&s&&e(n,t)}function u(n,r,u,f){function c(n){return function(){return e[n]}}function l(){return e}var h=0,e,s;return i.virtualElements.extractAnonymousTemplateIfVirtualElement(n),new i.dependentObservable(function(){var y=u&&u instanceof i.bindingContext?u:new i.bindingContext(i.utils.unwrapObservable(u)),d=y.$data,k,b,p,v,a,w;if(f&&i.storedBindingContextForNode(n,y),k=typeof r=="function"?r():r,e=k||i.bindingProvider.instance.getBindings(n,y),e){if(h===0){h=1;for(v in e)if(a=i.bindingHandlers[v],a&&n.nodeType===8&&o(v),a&&typeof a.init=="function"&&(b=a.init,p=b(n,c(v),l,d,y),p&&p.controlsDescendantBindings)){if(s!==t)throw new Error("Multiple bindings ("+s+" and "+v+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");s=v}h=2}if(h===2)for(v in e)a=i.bindingHandlers[v],a&&typeof a.update=="function"&&(w=a.update,w(n,c(v),l,d,y))}},null,{disposeWhenNodeIsRemoved:n}),{shouldBindDescendants:s===t}}i.bindingHandlers={},i.bindingContext=function(n,t){this.$data=n,t?(this.$parent=t.$data,this.$parents=(t.$parents||[]).slice(0),this.$parents.unshift(this.$parent),this.$root=t.$root):(this.$parents=[],this.$root=n)},i.bindingContext.prototype.createChildContext=function(n){return new i.bindingContext(n,this)};var r="__ko_bindingContext__";i.storedBindingContextForNode=function(n,t){if(arguments.length==2)i.utils.domData.set(n,r,t);else return i.utils.domData.get(n,r)},i.applyBindingsToNode=function(n,t,r){return n.nodeType===1&&i.virtualElements.normaliseVirtualElementDomStructure(n),u(n,t,r,!0)},i.applyBindingsToDescendants=function(n,t){t.nodeType===1&&e(n,t)},i.applyBindings=function(t,i){if(i&&i.nodeType!==1&&i.nodeType!==8)throw new Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");i=i||n.document.body,f(t,i,!0)},i.contextFor=function(n){switch(n.nodeType){case 1:case 8:var r=i.storedBindingContextForNode(n);if(r)return r;if(n.parentNode)return i.contextFor(n.parentNode)}return t},i.dataFor=function(n){var r=i.contextFor(n);return r?r.$data:t},i.exportSymbol("ko.bindingHandlers",i.bindingHandlers),i.exportSymbol("ko.applyBindings",i.applyBindings),i.exportSymbol("ko.applyBindingsToDescendants",i.applyBindingsToDescendants),i.exportSymbol("ko.applyBindingsToNode",i.applyBindingsToNode),i.exportSymbol("ko.contextFor",i.contextFor),i.exportSymbol("ko.dataFor",i.dataFor)}(),u=["click"],i.utils.arrayForEach(u,function(n){i.bindingHandlers[n]={init:function(t,r,u,f){var e=function(){var t={};return t[n]=r(),t};return i.bindingHandlers.event.init.call(this,t,e,u,f)}}}),i.bindingHandlers.event={init:function(n,t,r,u){var e=t()||{},f;for(f in e)(function(){var e=f;typeof e=="string"&&i.utils.registerEventHandler(n,e,function(n){var h,c=t()[e],s,f,o;if(c){s=r();try{f=i.utils.makeArray(arguments),f.unshift(u),h=c.apply(u,f)}finally{h!==!0&&(n.preventDefault?n.preventDefault():n.returnValue=!1)}o=s[e+"Bubble"]!==!1,o||(n.cancelBubble=!0,n.stopPropagation&&n.stopPropagation())}})})()}},i.bindingHandlers.submit={init:function(n,t,r,u){if(typeof t()!="function")throw new Error("The value for a submit binding must be a function");i.utils.registerEventHandler(n,"submit",function(i){var r,f=t();try{r=f.call(u,n)}finally{r!==!0&&(i.preventDefault?i.preventDefault():i.returnValue=!1)}})}},i.bindingHandlers.visible={update:function(n,t){var u=i.utils.unwrapObservable(t()),r=!(n.style.display=="none");u&&!r?n.style.display="":!u&&r&&(n.style.display="none")}},i.bindingHandlers.enable={update:function(n,t){var r=i.utils.unwrapObservable(t());r&&n.disabled?n.removeAttribute("disabled"):r||n.disabled||(n.disabled=!0)}},i.bindingHandlers.disable={update:function(n,t){i.bindingHandlers.enable.update(n,function(){return!i.utils.unwrapObservable(t())})}},i.bindingHandlers.value={init:function(n,t,r){var f=["change"],u=r().valueUpdate;u&&(typeof u=="string"&&(u=[u]),i.utils.arrayPushAll(f,u),f=i.utils.arrayGetDistinctValues(f)),i.utils.arrayForEach(f,function(u){var e=!1,f;i.utils.stringStartsWith(u,"after")&&(e=!0,u=u.substring("after".length)),f=e?function(n){setTimeout(n,0)}:function(n){n()},i.utils.registerEventHandler(n,u,function(){f(function(){var f=t(),e=i.selectExtensions.readValue(n),u;i.isWriteableObservable(f)?f(e):(u=r(),u._ko_property_writers&&u._ko_property_writers.value&&u._ko_property_writers.value(e))})})})},update:function(n,t){var r=i.utils.unwrapObservable(t()),f=i.selectExtensions.readValue(n),s=r!=f,u,o;r===0&&f!==0&&f!=="0"&&(s=!0),s&&(u=function(){i.selectExtensions.writeValue(n,r)},u(),o=n.tagName=="SELECT",o&&setTimeout(u,0)),n.tagName=="SELECT"&&n.length>0&&e(n,r,!1)}},i.bindingHandlers.options={update:function(n,r,u){var o,b,h,s,a,l,c,y,w,f,v;if(n.tagName!="SELECT")throw new Error("options binding applies only to SELECT elements");var k=n.length==0,d=i.utils.arrayMap(i.utils.arrayFilter(n.childNodes,function(n){return n.tagName&&n.tagName=="OPTION"&&n.selected}),function(n){return i.selectExtensions.readValue(n)||n.innerText||n.textContent}),p=n.scrollTop;for(n.scrollTop=0,o=i.utils.unwrapObservable(r()),b=n.value;n.length>0;)i.cleanNode(n.options[0]),n.remove(0);if(o){for(h=u(),typeof o.length!="number"&&(o=[o]),h.optionsCaption&&(s=document.createElement("OPTION"),i.utils.setHtml(s,h.optionsCaption),i.selectExtensions.writeValue(s,t),n.appendChild(s)),f=0,v=o.length;f<v;f++)s=document.createElement("OPTION"),a=typeof h.optionsValue=="string"?o[f][h.optionsValue]:o[f],a=i.utils.unwrapObservable(a),i.selectExtensions.writeValue(s,a),l=h.optionsText,c=typeof l=="function"?l(o[f]):typeof l=="string"?o[f][l]:a,(c===null||c===t)&&(c=""),i.utils.setTextContent(s,c),n.appendChild(s);for(y=n.getElementsByTagName("OPTION"),w=0,f=0,v=y.length;f<v;f++)i.utils.arrayIndexOf(d,i.selectExtensions.readValue(y[f]))>=0&&(i.utils.setOptionNodeSelectionState(y[f],!0),w++);p&&(n.scrollTop=p),k&&"value"in h&&e(n,i.utils.unwrapObservable(h.value),!0)}}},i.bindingHandlers.options.optionValueDomDataKey="__ko.optionValueDomData__",i.bindingHandlers.selectedOptions={getSelectedValuesFromSelectNode:function(n){for(var e=[],u=n.childNodes,r,t=0,f=u.length;t<f;t++)r=u[t],r.tagName=="OPTION"&&r.selected&&e.push(i.selectExtensions.readValue(r));return e},init:function(n,t,r){i.utils.registerEventHandler(n,"change",function(){var u=t(),n;i.isWriteableObservable(u)?u(i.bindingHandlers.selectedOptions.getSelectedValuesFromSelectNode(this)):(n=r(),n._ko_property_writers&&n._ko_property_writers.value&&n._ko_property_writers.value(i.bindingHandlers.selectedOptions.getSelectedValuesFromSelectNode(this)))})},update:function(n,t){var f,e,r,o,u;if(n.tagName!="SELECT")throw new Error("values binding applies only to SELECT elements");if(f=i.utils.unwrapObservable(t()),f&&typeof f.length=="number")for(e=n.childNodes,r=0,o=e.length;r<o;r++)u=e[r],u.tagName=="OPTION"&&i.utils.setOptionNodeSelectionState(u,i.utils.arrayIndexOf(f,i.selectExtensions.readValue(u))>=0)}},i.bindingHandlers.text={update:function(n,t){i.utils.setTextContent(n,t())}},i.bindingHandlers.html={init:function(){return{controlsDescendantBindings:!0}},update:function(n,t){var r=i.utils.unwrapObservable(t());i.utils.setHtml(n,r)}},i.bindingHandlers.css={update:function(n,t){var f=i.utils.unwrapObservable(t()||{}),r,u;for(r in f)typeof r=="string"&&(u=i.utils.unwrapObservable(f[r]),i.utils.toggleDomNodeCssClass(n,r,u))}},i.bindingHandlers.style={update:function(n,t){var f=i.utils.unwrapObservable(t()||{}),r,u;for(r in f)typeof r=="string"&&(u=i.utils.unwrapObservable(f[r]),n.style[r]=u||"")}},i.bindingHandlers.uniqueName={init:function(n,t){t()&&(n.name="ko_unique_"+ ++i.bindingHandlers.uniqueName.currentIndex,(i.utils.isIe6||i.utils.isIe7)&&n.mergeAttributes(document.createElement("<input name='"+n.name+"'/>"),!1))}},i.bindingHandlers.uniqueName.currentIndex=0,i.bindingHandlers.checked={init:function(n,t,r){var u=function(){var f,u,o,e;if(n.type=="checkbox")f=n.checked;else if(n.type=="radio"&&n.checked)f=n.value;else return;u=t(),n.type=="checkbox"&&i.utils.unwrapObservable(u)instanceof Array?(o=i.utils.arrayIndexOf(i.utils.unwrapObservable(u),n.value),n.checked&&o<0?u.push(n.value):!n.checked&&o>=0&&u.splice(o,1)):i.isWriteableObservable(u)?u()!==f&&u(f):(e=r(),e._ko_property_writers&&e._ko_property_writers.checked&&e._ko_property_writers.checked(f))};i.utils.registerEventHandler(n,"click",u),n.type!="radio"||n.name||i.bindingHandlers.uniqueName.init(n,function(){return!0})},update:function(n,t){var r=i.utils.unwrapObservable(t());n.type=="checkbox"?n.checked=r instanceof Array?i.utils.arrayIndexOf(r,n.value)>=0:r:n.type=="radio"&&(n.checked=n.value==r)}},i.bindingHandlers.attr={update:function(n,r){var o=i.utils.unwrapObservable(r())||{},e,f;for(e in o)typeof e=="string"&&(f=i.utils.unwrapObservable(o[e]),f===!1||f===null||f===t?n.removeAttribute(e):n.setAttribute(e,f.toString()))}},i.bindingHandlers.hasfocus={init:function(n,t,r){var u=function(n){var f=t(),u;n!=i.utils.unwrapObservable(f)&&(i.isWriteableObservable(f)?f(n):(u=r(),u._ko_property_writers&&u._ko_property_writers.hasfocus&&u._ko_property_writers.hasfocus(n)))};i.utils.registerEventHandler(n,"focus",function(){u(!0)}),i.utils.registerEventHandler(n,"focusin",function(){u(!0)}),i.utils.registerEventHandler(n,"blur",function(){u(!1)}),i.utils.registerEventHandler(n,"focusout",function(){u(!1)})},update:function(n,t){var r=i.utils.unwrapObservable(t());r?n.focus():n.blur(),i.utils.triggerEvent(n,r?"focusin":"focusout")}},i.bindingHandlers["with"]={makeTemplateValueAccessor:function(n){return function(){var t=n();return{"if":t,data:t,templateEngine:i.nativeTemplateEngine.instance}}},init:function(n,t){return i.bindingHandlers.template.init(n,i.bindingHandlers["with"].makeTemplateValueAccessor(t))},update:function(n,t,r,u,f){return i.bindingHandlers.template.update(n,i.bindingHandlers["with"].makeTemplateValueAccessor(t),r,u,f)}},i.jsonExpressionRewriting.bindingRewriteValidators["with"]=!1,i.virtualElements.allowedBindings["with"]=!0,i.bindingHandlers["if"]={makeTemplateValueAccessor:function(n){return function(){return{"if":n(),templateEngine:i.nativeTemplateEngine.instance}}},init:function(n,t){return i.bindingHandlers.template.init(n,i.bindingHandlers["if"].makeTemplateValueAccessor(t))},update:function(n,t,r,u,f){return i.bindingHandlers.template.update(n,i.bindingHandlers["if"].makeTemplateValueAccessor(t),r,u,f)}},i.jsonExpressionRewriting.bindingRewriteValidators["if"]=!1,i.virtualElements.allowedBindings["if"]=!0,i.bindingHandlers.ifnot={makeTemplateValueAccessor:function(n){return function(){return{ifnot:n(),templateEngine:i.nativeTemplateEngine.instance}}},init:function(n,t){return i.bindingHandlers.template.init(n,i.bindingHandlers.ifnot.makeTemplateValueAccessor(t))},update:function(n,t,r,u,f){return i.bindingHandlers.template.update(n,i.bindingHandlers.ifnot.makeTemplateValueAccessor(t),r,u,f)}},i.jsonExpressionRewriting.bindingRewriteValidators.ifnot=!1,i.virtualElements.allowedBindings.ifnot=!0,i.bindingHandlers.foreach={makeTemplateValueAccessor:function(n){return function(){var t=i.utils.unwrapObservable(n());return!t||typeof t.length=="number"?{foreach:t,templateEngine:i.nativeTemplateEngine.instance}:{foreach:t.data,includeDestroyed:t.includeDestroyed,afterAdd:t.afterAdd,beforeRemove:t.beforeRemove,afterRender:t.afterRender,templateEngine:i.nativeTemplateEngine.instance}}},init:function(n,t){return i.bindingHandlers.template.init(n,i.bindingHandlers.foreach.makeTemplateValueAccessor(t))},update:function(n,t,r,u,f){return i.bindingHandlers.template.update(n,i.bindingHandlers.foreach.makeTemplateValueAccessor(t),r,u,f)}},i.jsonExpressionRewriting.bindingRewriteValidators.foreach=!1,i.virtualElements.allowedBindings.foreach=!0,i.exportSymbol("ko.allowedVirtualElementBindings",i.virtualElements.allowedBindings),i.templateEngine=function(){},i.templateEngine.prototype.renderTemplateSource=function(){throw"Override renderTemplateSource";},i.templateEngine.prototype.createJavaScriptEvaluatorBlock=function(){throw"Override createJavaScriptEvaluatorBlock";},i.templateEngine.prototype.makeTemplateSource=function(n){if(typeof n=="string"){var t=document.getElementById(n);if(!t)throw new Error("Cannot find template with ID "+n);return new i.templateSources.domElement(t)}if(n.nodeType==1||n.nodeType==8)return new i.templateSources.anonymousTemplate(n);throw new Error("Unknown template type: "+n);},i.templateEngine.prototype.renderTemplate=function(n,t,i){var r=this.makeTemplateSource(n);return this.renderTemplateSource(r,t,i)},i.templateEngine.prototype.isTemplateRewritten=function(n){return this.allowTemplateRewriting===!1?!0:this.knownRewrittenTemplates&&this.knownRewrittenTemplates[n]?!0:this.makeTemplateSource(n).data("isRewritten")},i.templateEngine.prototype.rewriteTemplate=function(n,t){var i=this.makeTemplateSource(n),r=t(i.text());i.text(r),i.data("isRewritten",!0),typeof n=="string"&&(this.knownRewrittenTemplates=this.knownRewrittenTemplates||{},this.knownRewrittenTemplates[n]=!0)},i.exportSymbol("ko.templateEngine",i.templateEngine),i.templateRewriting=function(){function r(n){for(var e=i.jsonExpressionRewriting.bindingRewriteValidators,u,r,f,t=0;t<n.length;t++)if(u=n[t].key,e.hasOwnProperty(u))if(r=e[u],typeof r=="function"){if(f=r(n[t].value),f)throw new Error(f);}else if(!r)throw new Error("This template engine does not support the '"+u+"' binding within its templates");}function n(n,t,u){var o=i.jsonExpressionRewriting.parseObjectLiteral(n),e,f;return r(o),e=i.jsonExpressionRewriting.insertPropertyAccessorsIntoJson(o),f="ko.templateRewriting.applyMemoizedBindingsToNextSibling(function() {             return (function() { return { "+e+" } })()         })",u.createJavaScriptEvaluatorBlock(f)+t}var t=/(<[a-z]+\d*(\s+(?!data-bind=)[a-z0-9\-]+(=(\"[^\"]*\"|\'[^\']*\'))?)*\s+)data-bind=(["'])([\s\S]*?)\5/gi,u=/<!--\s*ko\b\s*([\s\S]*?)\s*-->/g;return{ensureTemplateIsRewritten:function(n,t){t.isTemplateRewritten(n)||t.rewriteTemplate(n,function(n){return i.templateRewriting.memoizeBindingAttributeSyntax(n,t)})},memoizeBindingAttributeSyntax:function(i,r){return i.replace(t,function(){return n(arguments[6],arguments[1],r)}).replace(u,function(){return n(arguments[1],"<!-- ko -->",r)})},applyMemoizedBindingsToNextSibling:function(n){return i.memoization.memoize(function(t,r){t.nextSibling&&i.applyBindingsToNode(t.nextSibling,n,r)})}}}(),i.exportSymbol("ko.templateRewriting",i.templateRewriting),i.exportSymbol("ko.templateRewriting.applyMemoizedBindingsToNextSibling",i.templateRewriting.applyMemoizedBindingsToNextSibling),function(){i.templateSources={},i.templateSources.domElement=function(n){this.domElement=n},i.templateSources.domElement.prototype.text=function(){if(arguments.length==0)return this.domElement.tagName.toLowerCase()=="script"?this.domElement.text:this.domElement.innerHTML;var n=arguments[0];this.domElement.tagName.toLowerCase()=="script"?this.domElement.text=n:i.utils.setHtml(this.domElement,n)},i.templateSources.domElement.prototype.data=function(n){if(arguments.length===1)return i.utils.domData.get(this.domElement,"templateSourceData_"+n);i.utils.domData.set(this.domElement,"templateSourceData_"+n,arguments[1])};var n="__ko_anon_template__";i.templateSources.anonymousTemplate=function(n){this.domElement=n},i.templateSources.anonymousTemplate.prototype=new i.templateSources.domElement,i.templateSources.anonymousTemplate.prototype.text=function(){if(arguments.length==0)return i.utils.domData.get(this.domElement,n);var t=arguments[0];i.utils.domData.set(this.domElement,n,t)},i.exportSymbol("ko.templateSources",i.templateSources),i.exportSymbol("ko.templateSources.domElement",i.templateSources.domElement),i.exportSymbol("ko.templateSources.anonymousTemplate",i.templateSources.anonymousTemplate)}(),function(){function f(n,t,i){for(var r=0;node=n[r];r++)node.parentNode===t&&(node.nodeType===1||node.nodeType===8)&&i(node)}function e(n){return n.nodeType?n:n.length>0?n[0]:null}function u(n,t,u,f,e){var h,o,s;if(e=e||{},h=e.templateEngine||r,i.templateRewriting.ensureTemplateIsRewritten(u,h),o=h.renderTemplate(u,f,e),typeof o.length!="number"||o.length>0&&typeof o[0].nodeType!="number")throw"Template engine must return an array of DOM nodes";s=!1;switch(t){case"replaceChildren":i.virtualElements.setDomNodeChildren(n,o),s=!0;break;case"replaceNode":i.utils.replaceDomNodes(n,o),s=!0;break;case"ignoreTargetNode":break;default:throw new Error("Unknown renderMode: "+t);}return s&&(i.activateBindingsOnTemplateRenderedNodes(o,f),e.afterRender&&e.afterRender(o,f.$data)),o}function o(t,r){var u=i.utils.domData.get(t,n);u&&typeof u.dispose=="function"&&u.dispose(),i.utils.domData.set(t,n,r)}var r,n;i.setTemplateEngine=function(n){if(n!=t&&!(n instanceof i.templateEngine))throw"templateEngine must inherit from ko.templateEngine";r=n},i.activateBindingsOnTemplateRenderedNodes=function(n,t){var u=i.utils.arrayPushAll([],n),r=n.length>0?n[0].parentNode:null;f(u,r,function(n){i.applyBindings(t,n)}),f(u,r,function(n){i.memoization.unmemoizeDomNodeAndDescendants(n,[t])})},i.renderTemplate=function(n,f,o,s,h){if(o=o||{},(o.templateEngine||r)==t)throw"Set a template engine before calling renderTemplate";if(h=h||"replaceChildren",s){var c=e(s),a=function(){return!c||!i.utils.domNodeIsAttachedToDocument(c)},l=c&&h=="replaceNode"?c.parentNode:c;return new i.dependentObservable(function(){var t=f&&f instanceof i.bindingContext?f:new i.bindingContext(i.utils.unwrapObservable(f)),l=typeof n=="function"?n(t.$data):n,r=u(s,h,l,t,o);h=="replaceNode"&&(s=r,c=e(s))},null,{disposeWhen:a,disposeWhenNodeIsRemoved:l})}return i.memoization.memoize(function(t){i.renderTemplate(n,f,o,t,"replaceNode")})},i.renderTemplateForEach=function(n,r,f,e,o){var s=function(n){return o.createChildContext(i.utils.unwrapObservable(n))},h=function(n,t){var r=s(n);i.activateBindingsOnTemplateRenderedNodes(t,r),f.afterRender&&f.afterRender(t,r.$data)};return new i.dependentObservable(function(){var o=i.utils.unwrapObservable(r)||[],c;typeof o.length=="undefined"&&(o=[o]),c=i.utils.arrayFilter(o,function(n){return f.includeDestroyed||n===t||n===null||!i.utils.unwrapObservable(n._destroy)}),i.utils.setDomNodeChildrenFromArrayMapping(e,c,function(t){var i=typeof n=="function"?n(t):n;return u(null,"ignoreTargetNode",i,s(t),f)},f,h)},null,{disposeWhenNodeIsRemoved:e})},n="__ko__templateSubscriptionDomDataKey__",i.bindingHandlers.template={init:function(n,t){var r=i.utils.unwrapObservable(t());return typeof r=="string"||r.name||n.nodeType!=1||(new i.templateSources.anonymousTemplate(n).text(n.innerHTML),i.utils.emptyDomNode(n)),{controlsDescendantBindings:!0}},update:function(n,t,r,u,f){var e=i.utils.unwrapObservable(t()),c,s=!0,h,a,l;typeof e=="string"?c=e:(c=e.name,"if"in e&&(s=s&&i.utils.unwrapObservable(e["if"])),"ifnot"in e&&(s=s&&!i.utils.unwrapObservable(e.ifnot))),h=null,typeof e=="object"&&"foreach"in e?(a=s&&e.foreach||[],h=i.renderTemplateForEach(c||n,a,e,n,f)):s?(l=typeof e=="object"&&"data"in e?f.createChildContext(i.utils.unwrapObservable(e.data)):f,h=i.renderTemplate(c||n,l,e,n)):i.virtualElements.emptyNode(n),o(n,h)}},i.jsonExpressionRewriting.bindingRewriteValidators.template=function(n){var t=i.jsonExpressionRewriting.parseObjectLiteral(n);return t.length==1&&t[0].unknown?null:i.jsonExpressionRewriting.keyValueArrayContainsKey(t,"name")?null:"This template engine does not support anonymous templates nested within its templates"},i.virtualElements.allowedBindings.template=!0}(),i.exportSymbol("ko.setTemplateEngine",i.setTemplateEngine),i.exportSymbol("ko.renderTemplate",i.renderTemplate),function(){function r(n,i,r){for(var e=[],s,f,y,o,v,w,p,c,h,a,l,u=0;u<=i.length;u++)e[u]=[];for(u=0,s=Math.min(n.length,r);u<=s;u++)e[0][u]=u;for(u=1,s=Math.min(i.length,r);u<=s;u++)e[u][0]=u;for(y=n.length,v=i.length,f=1;f<=y;f++)for(c=Math.max(1,f-r),h=Math.min(v,f+r),o=c;o<=h;o++)n[f-1]===i[o-1]?e[o][f]=e[o-1][f-1]:(a=e[o-1][f]===t?Number.MAX_VALUE:e[o-1][f]+1,l=e[o][f-1]===t?Number.MAX_VALUE:e[o][f-1]+1,e[o][f]=Math.min(a,l));return e}function n(n,i,r){var u=i.length,f=r.length,c=[],e=n[f][u];if(e===t)return null;while(u>0||f>0){var l=n[f][u],s=f>0?n[f-1][u]:e+1,o=u>0?n[f][u-1]:e+1,h=f>0&&u>0?n[f-1][u-1]:e+1;(s===t||s<l-1)&&(s=e+1),(o===t||o<l-1)&&(o=e+1),h<l-1&&(h=e+1),s<=o&&s<h?(c.push({status:"added",value:r[f-1]}),f--):o<s&&o<h?(c.push({status:"deleted",value:i[u-1]}),u--):(c.push({status:"retained",value:i[u-1]}),f--,u--)}return c.reverse()}i.utils.compareArrays=function(u,f,e){if(e===t)return i.utils.compareArrays(u,f,1)||i.utils.compareArrays(u,f,10)||i.utils.compareArrays(u,f,Number.MAX_VALUE);u=u||[],f=f||[];var o=r(u,f,e);return n(o,u,f)}}(),i.exportSymbol("ko.utils.compareArrays",i.utils.compareArrays),function(){function r(n){if(n.length>2){for(var t=n[0],r=n[n.length-1],i=[t];t!==r;){if(t=t.nextSibling,!t)return;i.push(t)}Array.prototype.splice.apply(n,[0,n.length].concat(i))}}function u(n,t,u,f){var e=[],o=i.dependentObservable(function(){var n=t(u)||[];e.length>0&&(r(e),i.utils.replaceDomNodes(e,n),f&&f(u,n)),e.splice(0,e.length),i.utils.arrayPushAll(e,n)},null,{disposeWhenNodeIsRemoved:n,disposeWhen:function(){return e.length==0||!i.utils.domNodeIsAttachedToDocument(e[0])}});return{mappedNodes:e,dependentObservable:o}}var n="setDomNodeChildrenFromArrayMapping_lastMappingResult";i.utils.setDomNodeChildrenFromArrayMapping=function(f,e,o,s,h){var rt,y,d,it,w,tt,c;e=e||[],s=s||{};var ot=i.utils.domData.get(f,n)===t,k=i.utils.domData.get(f,n)||[],et=i.utils.arrayMap(k,function(n){return n.arrayEntry}),a=i.utils.compareArrays(et,e),nt=[],v=0,l=[],b=[],p=null;for(c=0,rt=a.length;c<rt;c++)switch(a[c].status){case"retained":y=k[v],nt.push(y),y.domNodes.length>0&&(p=y.domNodes[y.domNodes.length-1]),v++;break;case"deleted":k[v].dependentObservable.dispose(),r(k[v].domNodes),i.utils.arrayForEach(k[v].domNodes,function(n){l.push({element:n,index:c,value:a[c].value}),p=n}),v++;break;case"added":var ut=a[c].value,ft=u(f,o,ut,h),g=ft.mappedNodes;for(nt.push({arrayEntry:a[c].value,domNodes:g,dependentObservable:ft.dependentObservable}),d=0,it=g.length;d<it;d++)w=g[d],b.push({element:w,index:c,value:a[c].value}),p==null?i.virtualElements.prepend(f,w):i.virtualElements.insertAfter(f,w,p),p=w;h&&h(ut,g)}if(i.utils.arrayForEach(l,function(n){i.cleanNode(n.element)}),tt=!1,!ot){if(s.afterAdd)for(c=0;c<b.length;c++)s.afterAdd(b[c].element,b[c].index,b[c].value);if(s.beforeRemove){for(c=0;c<l.length;c++)s.beforeRemove(l[c].element,l[c].index,l[c].value);tt=!0}}tt||i.utils.arrayForEach(l,function(n){i.removeNode(n.element)}),i.utils.domData.set(f,n,nt)}}(),i.exportSymbol("ko.utils.setDomNodeChildrenFromArrayMapping",i.utils.setDomNodeChildrenFromArrayMapping),i.nativeTemplateEngine=function(){this.allowTemplateRewriting=!1},i.nativeTemplateEngine.prototype=new i.templateEngine,i.nativeTemplateEngine.prototype.renderTemplateSource=function(n){var u=n.text();return i.utils.parseHtmlFragment(u)},i.nativeTemplateEngine.instance=new i.nativeTemplateEngine,i.setTemplateEngine(i.nativeTemplateEngine.instance),i.exportSymbol("ko.nativeTemplateEngine",i.nativeTemplateEngine),function(){i.jqueryTmplTemplateEngine=function(){function i(){if(n<2)throw new Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.");}function t(n,t,i){return jQuery.tmpl(n,t,i)}var n=this.jQueryTmplVersion=function(){if(typeof jQuery=="undefined"||!jQuery.tmpl)return 0;try{if(jQuery.tmpl.tag.tmpl.open.toString().indexOf("__")>=0)return 2}catch(n){}return 1}();this.renderTemplateSource=function(n,r,u){var f,e;u=u||{},i(),f=n.data("precompiled"),f||(e=n.text()||"",e="{{ko_with $item.koBindingContext}}"+e+"{{/ko_with}}",f=jQuery.template(null,e),n.data("precompiled",f));var s=[r.$data],h=jQuery.extend({koBindingContext:r},u.templateOptions),o=t(f,s,h);return o.appendTo(document.createElement("div")),jQuery.fragments={},o},this.createJavaScriptEvaluatorBlock=function(n){return"{{ko_code ((function() { return "+n+" })()) }}"},this.addTemplate=function(n,t){document.write("<script type='text/html' id='"+n+"'>"+t+"<\/script>")},n>0&&(jQuery.tmpl.tag.ko_code={open:"__.push($1 || '');"},jQuery.tmpl.tag.ko_with={open:"with($1) {",close:"} "})},i.jqueryTmplTemplateEngine.prototype=new i.templateEngine;var n=new i.jqueryTmplTemplateEngine;n.jQueryTmplVersion>0&&i.setTemplateEngine(n),i.exportSymbol("ko.jqueryTmplTemplateEngine",i.jqueryTmplTemplateEngine)}()}(window),ko.exportSymbol=function(n,t){for(var i=n.split("."),u=window,r=0;r<i.length-1;r++)u=u[i[r]];u[i[i.length-1]]=t},ko.exportProperty=function(n,t,i){n[t]=i},function(){function y(n,t){for(var i in t)t.hasOwnProperty(i)&&t[i]&&(n[i]&&!(n[i]instanceof Array)?y(n[i],t[i]):n[i]=t[i])}function c(n,t){var i={};return y(i,n),y(i,t),i}function i(n){return n&&typeof n=="object"&&n.constructor==(new Date).constructor?"date":typeof n}function p(n,i){return n=n||{},(n.create instanceof Function||n.update instanceof Function||n.key instanceof Function||n.arrayChanged instanceof Function)&&(n={"":n}),i&&(n.ignore=r(i.ignore,n.ignore),n.include=r(i.include,n.include),n.copy=r(i.copy,n.copy)),n.ignore=r(n.ignore,t.ignore),n.include=r(n.include,t.include),n.copy=r(n.copy,t.copy),n.mappedProperties=n.mappedProperties||{},n}function r(n,t){return n instanceof Array||(n=i(n)==="undefined"?[]:[n]),t instanceof Array||(t=i(t)==="undefined"?[]:[t]),n.concat(t)}function g(n,t){var r=ko.dependentObservable,i;return ko.dependentObservable=function(t,i,r){var r=r||{},o=r.deferEvaluation,u,f;return t&&typeof t=="object"&&(r=t),u=!1,f=function(t){var i=e({read:function(){return u||(ko.utils.arrayRemoveItem(n,t),u=!0),t.apply(t,arguments)},write:function(n){return t(n)},deferEvaluation:!0});return i.__ko_proto__=e,i},r.deferEvaluation=!0,t=new e(t,i,r),t.__ko_proto__=e,o||(n.push(t),t=f(t)),t},i=t(),ko.dependentObservable=r,i}function h(t,r,e,s,a,y){var st=ko.utils.unwrapObservable(r)instanceof Array,y=y||"",ft,e,b,et,tt,it,d,ut;ko.mapping.isMapped(t)&&(ft=ko.utils.unwrapObservable(t)[n],e=c(ft,e));var ct=function(){return e[s]&&e[s].create instanceof Function},ht=function(n){return g(l,function(){return e[s].create({data:n||r,parent:a})})},rt=function(){return e[s]&&e[s].update instanceof Function},nt=function(n,t){var i={data:t||r,parent:a,target:ko.utils.unwrapObservable(n)};return ko.isWriteableObservable(n)&&(i.observable=n),e[s].update(i)};if(o.get(r))return t;if(s=s||"",st){var st=[],ft=!1,p=function(n){return n};e[s]&&e[s].key&&(p=e[s].key,ft=!0),ko.isObservable(t)||(t=ko.observableArray([]),t.mappedRemove=function(n){var i=typeof n=="function"?n:function(t){return t===p(n)};return t.remove(function(n){return i(p(n))})},t.mappedRemoveAll=function(n){var i=u(n,p);return t.remove(function(n){return ko.utils.arrayIndexOf(i,p(n))!=-1})},t.mappedDestroy=function(n){var i=typeof n=="function"?n:function(t){return t===p(n)};return t.destroy(function(n){return i(p(n))})},t.mappedDestroyAll=function(n){var i=u(n,p);return t.destroy(function(n){return ko.utils.arrayIndexOf(i,p(n))!=-1})},t.mappedIndexOf=function(n){var i=u(t(),p),n=p(n);return ko.utils.arrayIndexOf(i,n)},t.mappedCreate=function(n){if(t.mappedIndexOf(n)!==-1)throw Error("There already is an object with the key that you specified.");var i=ct()?ht(n):n;return rt()&&(n=nt(i,n),ko.isWriteableObservable(i)?i(n):i=n),t.push(i),i}),b=u(ko.utils.unwrapObservable(t),p).sort(),et=u(r,p),ft&&et.sort();for(var ft=ko.utils.compareArrays(b,et),b={},et=[],ot=0,lt=ft.length;ot<lt;ot++){tt=ft[ot],d=y+"["+ot+"]";switch(tt.status){case"added":ut=f(ko.utils.unwrapObservable(r),tt.value,p),it=ko.utils.unwrapObservable(h(void 0,ut,e,s,t,d)),d=w(ko.utils.unwrapObservable(r),ut,b),et[d]=it,b[d]=!0;break;case"retained":ut=f(ko.utils.unwrapObservable(r),tt.value,p),it=f(t,tt.value,p),h(it,ut,e,s,t,d),d=w(ko.utils.unwrapObservable(r),ut,b),et[d]=it,b[d]=!0;break;case"deleted":it=f(t,tt.value,p)}st.push({event:tt.status,item:it})}t(et),e[s]&&e[s].arrayChanged&&ko.utils.arrayForEach(st,function(n){e[s].arrayChanged(n.event,n.item)})}else if(v(r)){if(t=ko.utils.unwrapObservable(t),!t){if(ct())return b=ht(),rt()&&(b=nt(b)),b;if(rt())return nt(b);t={}}rt()&&(t=nt(t)),o.save(r,t),k(r,function(n){var i=y.length?y+"."+n:n,u;ko.utils.arrayIndexOf(e.ignore,i)==-1&&(ko.utils.arrayIndexOf(e.copy,i)!=-1?t[n]=r[n]:(u=o.get(r[n])||h(t[n],r[n],e,n,t,i),ko.isWriteableObservable(t[n])?t[n](ko.utils.unwrapObservable(u)):t[n]=u,e.mappedProperties[i]=!0))})}else switch(i(r)){case"function":rt()?ko.isWriteableObservable(r)?(r(nt(r)),t=r):t=nt(r):t=r;break;default:ko.isWriteableObservable(t)?rt()?t(nt(t)):t(ko.utils.unwrapObservable(r)):(t=ct()?ht():ko.observable(ko.utils.unwrapObservable(r)),rt()&&t(nt(t)))}return t}function w(n,t,i){for(var r=0,u=n.length;r<u;r++)if(i[r]!==!0&&n[r]===t)return r;return null}function b(n,t){var r;return t&&(r=t(n)),i(r)==="undefined"&&(r=n),ko.utils.unwrapObservable(r)}function f(n,t,i){if(n=ko.utils.arrayFilter(ko.utils.unwrapObservable(n),function(n){return b(n,i)===t}),n.length==0)throw Error("When calling ko.update*, the key '"+t+"' was not found!");if(n.length>1&&v(n[0]))throw Error("When calling ko.update*, the key '"+t+"' was not unique!");return n[0]}function u(n,t){return ko.utils.arrayMap(ko.utils.unwrapObservable(n),function(n){return t?b(n,t):n})}function k(n,t){if(n instanceof Array)for(var i=0;i<n.length;i++)t(i);else for(i in n)t(i)}function v(n){var t=i(n);return t==="object"&&n!==null&&t!=="undefined"}function d(){var t=[],n=[];this.save=function(i,r){var u=ko.utils.arrayIndexOf(t,i);u>=0?n[u]=r:(t.push(i),n.push(r))},this.get=function(i){return i=ko.utils.arrayIndexOf(t,i),i>=0?n[i]:void 0}}ko.mapping={};var n="__ko_mapping__",e=ko.dependentObservable,a=0,l,o,s={include:["_destroy"],ignore:[],copy:[]},t=s;ko.mapping.isMapped=function(t){return(t=ko.utils.unwrapObservable(t))&&t[n]},ko.mapping.fromJS=function(t){var i,r,u;if(arguments.length==0)throw Error("When calling ko.fromJS, pass the object you want to convert.");return window.setTimeout(function(){a=0},0),a++||(l=[],o=new d),arguments.length==2&&(arguments[1][n]?r=arguments[1]:i=arguments[1]),arguments.length==3&&(i=arguments[1],r=arguments[2]),r&&(i=c(i,r[n])),i=p(i),u=h(r,t,i),r&&(u=r),--a||window.setTimeout(function(){ko.utils.arrayForEach(l,function(n){n&&n()})},0),u[n]=c(u[n],i),u},ko.mapping.fromJSON=function(n){var t=ko.utils.parseJson(n);return arguments[0]=t,ko.mapping.fromJS.apply(this,arguments)},ko.mapping.updateFromJS=function(){throw Error("ko.mapping.updateFromJS, use ko.mapping.fromJS instead. Please note that the order of parameters is different!");},ko.mapping.updateFromJSON=function(){throw Error("ko.mapping.updateFromJSON, use ko.mapping.fromJSON instead. Please note that the order of parameters is different!");},ko.mapping.toJS=function(i,r){if(t||ko.mapping.resetDefaultOptions(),arguments.length==0)throw Error("When calling ko.mapping.toJS, pass the object you want to convert.");if(!(t.ignore instanceof Array))throw Error("ko.mapping.defaultOptions().ignore should be an array.");if(!(t.include instanceof Array))throw Error("ko.mapping.defaultOptions().include should be an array.");if(!(t.copy instanceof Array))throw Error("ko.mapping.defaultOptions().copy should be an array.");return r=p(r,i[n]),ko.mapping.visitModel(i,function(n){return ko.utils.unwrapObservable(n)},r)},ko.mapping.toJSON=function(n,t){var i=ko.mapping.toJS(n,t);return ko.utils.stringifyJson(i)},ko.mapping.defaultOptions=function(){if(arguments.length>0)t=arguments[0];else return t},ko.mapping.resetDefaultOptions=function(){t={include:s.include.slice(0),ignore:s.ignore.slice(0),copy:s.copy.slice(0)}},ko.mapping.visitModel=function(t,r,u){var e,f,o;if(u=u||{},u.visitedObjects=u.visitedObjects||new d,u.parentName||(u=p(u)),f=ko.utils.unwrapObservable(t),v(f))r(t,u.parentName),e=f instanceof Array?[]:{};else return r(t,u.parentName);return u.visitedObjects.save(t,e),o=u.parentName,k(f,function(t){if(!(u.ignore&&ko.utils.arrayIndexOf(u.ignore,t)!=-1)){var c=f[t],h=u,s=o||"";if(f instanceof Array?o&&(s+="["+t+"]"):(o&&(s+="."),s+=t),h.parentName=s,!(ko.utils.arrayIndexOf(u.copy,t)===-1&&ko.utils.arrayIndexOf(u.include,t)===-1&&f[n]&&f[n].mappedProperties&&!f[n].mappedProperties[t]&&!(f instanceof Array)))switch(i(ko.utils.unwrapObservable(c))){case"object":case"undefined":h=u.visitedObjects.get(c),e[t]=i(h)!=="undefined"?h:ko.mapping.visitModel(c,r,u);break;default:e[t]=r(c,u.parentName)}}}),e},ko.exportSymbol("ko.mapping",ko.mapping),ko.exportSymbol("ko.mapping.fromJS",ko.mapping.fromJS),ko.exportSymbol("ko.mapping.fromJSON",ko.mapping.fromJSON),ko.exportSymbol("ko.mapping.isMapped",ko.mapping.isMapped),ko.exportSymbol("ko.mapping.defaultOptions",ko.mapping.defaultOptions),ko.exportSymbol("ko.mapping.toJS",ko.mapping.toJS),ko.exportSymbol("ko.mapping.toJSON",ko.mapping.toJSON),ko.exportSymbol("ko.mapping.updateFromJS",ko.mapping.updateFromJS),ko.exportSymbol("ko.mapping.updateFromJSON",ko.mapping.updateFromJSON),ko.exportSymbol("ko.mapping.visitModel",ko.mapping.visitModel)}(),SWFUpload==undefined&&(SWFUpload=function(n){this.initSWFUpload(n)}),SWFUpload.prototype.initSWFUpload=function(n){try{this.customSettings={},this.settings=n,this.eventQueue=[],this.movieName="SWFUpload_"+SWFUpload.movieCount++,this.movieElement=null,SWFUpload.instances[this.movieName]=this,this.initSettings(),this.loadFlash(),this.displayDebugInfo()}catch(t){delete SWFUpload.instances[this.movieName];throw t;}},SWFUpload.instances={},SWFUpload.movieCount=0,SWFUpload.version="2.2.0 Beta 2",SWFUpload.QUEUE_ERROR={QUEUE_LIMIT_EXCEEDED:-100,FILE_EXCEEDS_SIZE_LIMIT:-110,ZERO_BYTE_FILE:-120,INVALID_FILETYPE:-130},SWFUpload.UPLOAD_ERROR={HTTP_ERROR:-200,MISSING_UPLOAD_URL:-210,IO_ERROR:-220,SECURITY_ERROR:-230,UPLOAD_LIMIT_EXCEEDED:-240,UPLOAD_FAILED:-250,SPECIFIED_FILE_ID_NOT_FOUND:-260,FILE_VALIDATION_FAILED:-270,FILE_CANCELLED:-280,UPLOAD_STOPPED:-290},SWFUpload.FILE_STATUS={QUEUED:-1,IN_PROGRESS:-2,ERROR:-3,COMPLETE:-4,CANCELLED:-5},SWFUpload.BUTTON_ACTION={SELECT_FILE:-100,SELECT_FILES:-110,START_UPLOAD:-120},SWFUpload.CURSOR={ARROW:-1,HAND:-2},SWFUpload.WINDOW_MODE={WINDOW:"window",TRANSPARENT:"transparent",OPAQUE:"opaque"},SWFUpload.prototype.initSettings=function(){this.ensureDefault=function(n,t){this.settings[n]=this.settings[n]==undefined?t:this.settings[n]},this.ensureDefault("upload_url",""),this.ensureDefault("file_post_name","Filedata"),this.ensureDefault("post_params",{}),this.ensureDefault("use_query_string",!1),this.ensureDefault("requeue_on_error",!1),this.ensureDefault("http_success",[]),this.ensureDefault("file_types","*.*"),this.ensureDefault("file_types_description","All Files"),this.ensureDefault("file_size_limit",0),this.ensureDefault("file_upload_limit",0),this.ensureDefault("file_queue_limit",0),this.ensureDefault("flash_url","swfupload.swf"),this.ensureDefault("prevent_swf_caching",!0),this.ensureDefault("button_image_url",""),this.ensureDefault("button_width",1),this.ensureDefault("button_height",1),this.ensureDefault("button_text",""),this.ensureDefault("button_text_style","color: #000000; font-size: 16pt;"),this.ensureDefault("button_text_top_padding",0),this.ensureDefault("button_text_left_padding",0),this.ensureDefault("button_action",SWFUpload.BUTTON_ACTION.SELECT_FILES),this.ensureDefault("button_disabled",!1),this.ensureDefault("button_placeholder_id",null),this.ensureDefault("button_cursor",SWFUpload.CURSOR.ARROW),this.ensureDefault("button_window_mode",SWFUpload.WINDOW_MODE.WINDOW),this.ensureDefault("debug",!1),this.settings.debug_enabled=this.settings.debug,this.settings.return_upload_start_handler=this.returnUploadStart,this.ensureDefault("swfupload_loaded_handler",null),this.ensureDefault("file_dialog_start_handler",null),this.ensureDefault("file_queued_handler",null),this.ensureDefault("file_queue_error_handler",null),this.ensureDefault("file_dialog_complete_handler",null),this.ensureDefault("upload_start_handler",null),this.ensureDefault("upload_progress_handler",null),this.ensureDefault("upload_error_handler",null),this.ensureDefault("upload_success_handler",null),this.ensureDefault("upload_complete_handler",null),this.ensureDefault("debug_handler",this.debugMessage),this.ensureDefault("custom_settings",{}),this.customSettings=this.settings.custom_settings,this.settings.prevent_swf_caching&&(this.settings.flash_url=this.settings.flash_url+"?swfuploadrnd="+Math.floor(Math.random()*999999999)),delete this.ensureDefault},SWFUpload.prototype.loadFlash=function(){this.settings.button_placeholder_id!==""?this.replaceWithFlash():this.appendFlash()},SWFUpload.prototype.appendFlash=function(){var t,n;if(document.getElementById(this.movieName)!==null)throw"ID "+this.movieName+" is already in use. The Flash Object could not be added";if(t=document.getElementsByTagName("body")[0],t==undefined)throw"Could not find the 'body' element.";n=document.createElement("div"),n.style.width="1px",n.style.height="1px",n.style.overflow="hidden",t.appendChild(n),n.innerHTML=this.getFlashHTML()},SWFUpload.prototype.replaceWithFlash=function(){var n,t;if(document.getElementById(this.movieName)!==null)throw"ID "+this.movieName+" is already in use. The Flash Object could not be added";if(n=document.getElementById(this.settings.button_placeholder_id),n==undefined)throw"Could not find the placeholder element.";t=document.createElement("div"),t.innerHTML=this.getFlashHTML(),n.parentNode.replaceChild(t.firstChild,n)},SWFUpload.prototype.getFlashHTML=function(){return['<object id="',this.movieName,'" type="application/x-shockwave-flash" data="',this.settings.flash_url,'" width="',this.settings.button_width,'" height="',this.settings.button_height,'" class="swfupload">','<param name="wmode" value="',this.settings.button_window_mode,'" />','<param name="movie" value="',this.settings.flash_url,'" />','<param name="quality" value="high" />','<param name="menu" value="false" />','<param name="allowScriptAccess" value="always" />','<param name="flashvars" value="'+this.getFlashVars()+'" />',"</object>"].join("")},SWFUpload.prototype.getFlashVars=function(){var t=this.buildParamString(),n=this.settings.http_success.join(",");return["movieName=",encodeURIComponent(this.movieName),"&amp;uploadURL=",encodeURIComponent(this.settings.upload_url),"&amp;useQueryString=",encodeURIComponent(this.settings.use_query_string),"&amp;requeueOnError=",encodeURIComponent(this.settings.requeue_on_error),"&amp;httpSuccess=",encodeURIComponent(n),"&amp;params=",encodeURIComponent(t),"&amp;filePostName=",encodeURIComponent(this.settings.file_post_name),"&amp;fileTypes=",encodeURIComponent(this.settings.file_types),"&amp;fileTypesDescription=",encodeURIComponent(this.settings.file_types_description),"&amp;fileSizeLimit=",encodeURIComponent(this.settings.file_size_limit),"&amp;fileUploadLimit=",encodeURIComponent(this.settings.file_upload_limit),"&amp;fileQueueLimit=",encodeURIComponent(this.settings.file_queue_limit),"&amp;debugEnabled=",encodeURIComponent(this.settings.debug_enabled),"&amp;buttonImageURL=",encodeURIComponent(this.settings.button_image_url),"&amp;buttonWidth=",encodeURIComponent(this.settings.button_width),"&amp;buttonHeight=",encodeURIComponent(this.settings.button_height),"&amp;buttonText=",encodeURIComponent(this.settings.button_text),"&amp;buttonTextTopPadding=",encodeURIComponent(this.settings.button_text_top_padding),"&amp;buttonTextLeftPadding=",encodeURIComponent(this.settings.button_text_left_padding),"&amp;buttonTextStyle=",encodeURIComponent(this.settings.button_text_style),"&amp;buttonAction=",encodeURIComponent(this.settings.button_action),"&amp;buttonDisabled=",encodeURIComponent(this.settings.button_disabled),"&amp;buttonCursor=",encodeURIComponent(this.settings.button_cursor)].join("")},SWFUpload.prototype.getMovieElement=function(){if(this.movieElement==undefined&&(this.movieElement=document.getElementById(this.movieName)),this.movieElement===null)throw"Could not find Flash element";return this.movieElement},SWFUpload.prototype.buildParamString=function(){var t=this.settings.post_params,i=[],n;if(typeof t=="object")for(n in t)t.hasOwnProperty(n)&&i.push(encodeURIComponent(n.toString())+"="+encodeURIComponent(t[n].toString()));return i.join("&amp;")},SWFUpload.prototype.destroy=function(){var t,n;try{this.stopUpload(),t=null;try{t=this.getMovieElement()}catch(r){}return t!=undefined&&t.parentNode!=undefined&&typeof t.parentNode.removeChild=="function"&&(n=t.parentNode,n!=undefined&&(n.removeChild(t),n.parentNode!=undefined&&typeof n.parentNode.removeChild=="function"&&n.parentNode.removeChild(n))),SWFUpload.instances[this.movieName]=null,delete SWFUpload.instances[this.movieName],delete this.movieElement,delete this.settings,delete this.customSettings,delete this.eventQueue,delete this.movieName,delete window[this.movieName],!0}catch(i){return!1}},SWFUpload.prototype.displayDebugInfo=function(){this.debug(["---SWFUpload Instance Info---\n","Version: ",SWFUpload.version,"\n","Movie Name: ",this.movieName,"\n","Settings:\n","\t","upload_url:               ",this.settings.upload_url,"\n","\t","flash_url:                ",this.settings.flash_url,"\n","\t","use_query_string:         ",this.settings.use_query_string.toString(),"\n","\t","requeue_on_error:         ",this.settings.requeue_on_error.toString(),"\n","\t","http_success:             ",this.settings.http_success.join(", "),"\n","\t","file_post_name:           ",this.settings.file_post_name,"\n","\t","post_params:              ",this.settings.post_params.toString(),"\n","\t","file_types:               ",this.settings.file_types,"\n","\t","file_types_description:   ",this.settings.file_types_description,"\n","\t","file_size_limit:          ",this.settings.file_size_limit,"\n","\t","file_upload_limit:        ",this.settings.file_upload_limit,"\n","\t","file_queue_limit:         ",this.settings.file_queue_limit,"\n","\t","debug:                    ",this.settings.debug.toString(),"\n","\t","prevent_swf_caching:      ",this.settings.prevent_swf_caching.toString(),"\n","\t","button_placeholder_id:    ",this.settings.button_placeholder_id.toString(),"\n","\t","button_image_url:         ",this.settings.button_image_url.toString(),"\n","\t","button_width:             ",this.settings.button_width.toString(),"\n","\t","button_height:            ",this.settings.button_height.toString(),"\n","\t","button_text:              ",this.settings.button_text.toString(),"\n","\t","button_text_style:        ",this.settings.button_text_style.toString(),"\n","\t","button_text_top_padding:  ",this.settings.button_text_top_padding.toString(),"\n","\t","button_text_left_padding: ",this.settings.button_text_left_padding.toString(),"\n","\t","button_action:            ",this.settings.button_action.toString(),"\n","\t","button_disabled:          ",this.settings.button_disabled.toString(),"\n","\t","custom_settings:          ",this.settings.custom_settings.toString(),"\n","Event Handlers:\n","\t","swfupload_loaded_handler assigned:  ",(typeof this.settings.swfupload_loaded_handler=="function").toString(),"\n","\t","file_dialog_start_handler assigned: ",(typeof this.settings.file_dialog_start_handler=="function").toString(),"\n","\t","file_queued_handler assigned:       ",(typeof this.settings.file_queued_handler=="function").toString(),"\n","\t","file_queue_error_handler assigned:  ",(typeof this.settings.file_queue_error_handler=="function").toString(),"\n","\t","upload_start_handler assigned:      ",(typeof this.settings.upload_start_handler=="function").toString(),"\n","\t","upload_progress_handler assigned:   ",(typeof this.settings.upload_progress_handler=="function").toString(),"\n","\t","upload_error_handler assigned:      ",(typeof this.settings.upload_error_handler=="function").toString(),"\n","\t","upload_success_handler assigned:    ",(typeof this.settings.upload_success_handler=="function").toString(),"\n","\t","upload_complete_handler assigned:   ",(typeof this.settings.upload_complete_handler=="function").toString(),"\n","\t","debug_handler assigned:             ",(typeof this.settings.debug_handler=="function").toString(),"\n"].join(""))},SWFUpload.prototype.addSetting=function(n,t,i){return this.settings[n]=t==undefined?i:t},SWFUpload.prototype.getSetting=function(n){return this.settings[n]!=undefined?this.settings[n]:""},SWFUpload.prototype.callFlash=function(n,t){t=t||[];var r=this.getMovieElement(),i;if(typeof r[n]=="function"){if(t.length===0)i=r[n]();else if(t.length===1)i=r[n](t[0]);else if(t.length===2)i=r[n](t[0],t[1]);else if(t.length===3)i=r[n](t[0],t[1],t[2]);else throw"Too many arguments";return i!=undefined&&typeof i.post=="object"&&(i=this.unescapeFilePostParams(i)),i}throw"Invalid function name: "+n;},SWFUpload.prototype.selectFile=function(){this.callFlash("SelectFile")},SWFUpload.prototype.selectFiles=function(){this.callFlash("SelectFiles")},SWFUpload.prototype.startUpload=function(n){this.callFlash("StartUpload",[n])},SWFUpload.prototype.cancelUpload=function(n,t){t!==!1&&(t=!0),this.callFlash("CancelUpload",[n,t])},SWFUpload.prototype.stopUpload=function(){this.callFlash("StopUpload")},SWFUpload.prototype.getStats=function(){return this.callFlash("GetStats")},SWFUpload.prototype.setStats=function(n){this.callFlash("SetStats",[n])},SWFUpload.prototype.getFile=function(n){return typeof n=="number"?this.callFlash("GetFileByIndex",[n]):this.callFlash("GetFile",[n])},SWFUpload.prototype.addFileParam=function(n,t,i){return this.callFlash("AddFileParam",[n,t,i])},SWFUpload.prototype.removeFileParam=function(n,t){this.callFlash("RemoveFileParam",[n,t])},SWFUpload.prototype.setUploadURL=function(n){this.settings.upload_url=n.toString(),this.callFlash("SetUploadURL",[n])},SWFUpload.prototype.setPostParams=function(n){this.settings.post_params=n,this.callFlash("SetPostParams",[n])},SWFUpload.prototype.addPostParam=function(n,t){this.settings.post_params[n]=t,this.callFlash("SetPostParams",[this.settings.post_params])},SWFUpload.prototype.removePostParam=function(n){delete this.settings.post_params[n],this.callFlash("SetPostParams",[this.settings.post_params])},SWFUpload.prototype.setFileTypes=function(n,t){this.settings.file_types=n,this.settings.file_types_description=t,this.callFlash("SetFileTypes",[n,t])},SWFUpload.prototype.setFileSizeLimit=function(n){this.settings.file_size_limit=n,this.callFlash("SetFileSizeLimit",[n])},SWFUpload.prototype.setFileUploadLimit=function(n){this.settings.file_upload_limit=n,this.callFlash("SetFileUploadLimit",[n])},SWFUpload.prototype.setFileQueueLimit=function(n){this.settings.file_queue_limit=n,this.callFlash("SetFileQueueLimit",[n])},SWFUpload.prototype.setFilePostName=function(n){this.settings.file_post_name=n,this.callFlash("SetFilePostName",[n])},SWFUpload.prototype.setUseQueryString=function(n){this.settings.use_query_string=n,this.callFlash("SetUseQueryString",[n])},SWFUpload.prototype.setRequeueOnError=function(n){this.settings.requeue_on_error=n,this.callFlash("SetRequeueOnError",[n])},SWFUpload.prototype.setHTTPSuccess=function(n){typeof n=="string"&&(n=n.replace(" ","").split(",")),this.settings.http_success=n,this.callFlash("SetHTTPSuccess",[n])},SWFUpload.prototype.setDebugEnabled=function(n){this.settings.debug_enabled=n,this.callFlash("SetDebugEnabled",[n])},SWFUpload.prototype.setButtonImageURL=function(n){n==undefined&&(n=""),this.settings.button_image_url=n,this.callFlash("SetButtonImageURL",[n])},SWFUpload.prototype.setButtonDimensions=function(n,t){this.settings.button_width=n,this.settings.button_height=t;var i=this.getMovieElement();i!=undefined&&(i.style.width=n+"px",i.style.height=t+"px"),this.callFlash("SetButtonDimensions",[n,t])},SWFUpload.prototype.setButtonText=function(n){this.settings.button_text=n,this.callFlash("SetButtonText",[n])},SWFUpload.prototype.setButtonTextPadding=function(n,t){this.settings.button_text_top_padding=t,this.settings.button_text_left_padding=n,this.callFlash("SetButtonTextPadding",[n,t])},SWFUpload.prototype.setButtonTextStyle=function(n){this.settings.button_text_style=n,this.callFlash("SetButtonTextStyle",[n])},SWFUpload.prototype.setButtonDisabled=function(n){this.settings.button_disabled=n,this.callFlash("SetButtonDisabled",[n])},SWFUpload.prototype.setButtonAction=function(n){this.settings.button_action=n,this.callFlash("SetButtonAction",[n])},SWFUpload.prototype.setButtonCursor=function(n){this.settings.button_cursor=n,this.callFlash("SetButtonCursor",[n])},SWFUpload.prototype.queueEvent=function(n,t){t==undefined?t=[]:t instanceof Array||(t=[t]);var i=this;if(typeof this.settings[n]=="function")this.eventQueue.push(function(){this.settings[n].apply(this,t)}),setTimeout(function(){i.executeNextEvent()},0);else if(this.settings[n]!==null)throw"Event handler "+n+" is unknown or is not a function";},SWFUpload.prototype.executeNextEvent=function(){var n=this.eventQueue?this.eventQueue.shift():null;typeof n=="function"&&n.apply(this)},SWFUpload.prototype.unescapeFilePostParams=function(n){var f=/[$]([0-9a-f]{4})/i,u={},t,i,r;if(n!=undefined){for(i in n.post)if(n.post.hasOwnProperty(i)){for(t=i;(r=f.exec(t))!==null;)t=t.replace(r[0],String.fromCharCode(parseInt("0x"+r[1],16)));u[t]=n.post[i]}n.post=u}return n},SWFUpload.prototype.flashReady=function(){var n=this.getMovieElement();if(typeof n.StartUpload!="function")throw"ExternalInterface methods failed to initialize.";window[this.movieName]==undefined&&(window[this.movieName]=n),this.queueEvent("swfupload_loaded_handler")},SWFUpload.prototype.fileDialogStart=function(){this.queueEvent("file_dialog_start_handler")},SWFUpload.prototype.fileQueued=function(n){n=this.unescapeFilePostParams(n),this.queueEvent("file_queued_handler",n)},SWFUpload.prototype.fileQueueError=function(n,t,i){n=this.unescapeFilePostParams(n),this.queueEvent("file_queue_error_handler",[n,t,i])},SWFUpload.prototype.fileDialogComplete=function(n,t){this.queueEvent("file_dialog_complete_handler",[n,t])},SWFUpload.prototype.uploadStart=function(n){n=this.unescapeFilePostParams(n),this.queueEvent("return_upload_start_handler",n)},SWFUpload.prototype.returnUploadStart=function(n){var t;if(typeof this.settings.upload_start_handler=="function")n=this.unescapeFilePostParams(n),t=this.settings.upload_start_handler.call(this,n);else if(this.settings.upload_start_handler!=undefined)throw"upload_start_handler must be a function";t===undefined&&(t=!0),t=!!t,this.callFlash("ReturnUploadStart",[t])},SWFUpload.prototype.uploadProgress=function(n,t,i){n=this.unescapeFilePostParams(n),this.queueEvent("upload_progress_handler",[n,t,i])},SWFUpload.prototype.uploadError=function(n,t,i){n=this.unescapeFilePostParams(n),this.queueEvent("upload_error_handler",[n,t,i])},SWFUpload.prototype.uploadSuccess=function(n,t){n=this.unescapeFilePostParams(n),this.queueEvent("upload_success_handler",[n,t])},SWFUpload.prototype.uploadComplete=function(n){n=this.unescapeFilePostParams(n),this.queueEvent("upload_complete_handler",n)},SWFUpload.prototype.debug=function(n){this.queueEvent("debug_handler",n)},SWFUpload.prototype.debugMessage=function(n){var r,t,i;if(this.settings.debug)if(t=[],typeof n=="object"&&typeof n.name=="string"&&typeof n.message=="string"){for(i in n)n.hasOwnProperty(i)&&t.push(i+": "+n[i]);r=t.join("\n")||"",t=r.split("\n"),r="EXCEPTION: "+t.join("\nEXCEPTION: "),SWFUpload.Console.writeLine(r)}else SWFUpload.Console.writeLine(n)},SWFUpload.Console={},SWFUpload.Console.writeLine=function(n){var t,i;try{t=document.getElementById("SWFUpload_Console"),t||(i=document.createElement("form"),document.getElementsByTagName("body")[0].appendChild(i),t=document.createElement("textarea"),t.id="SWFUpload_Console",t.style.fontFamily="monospace",t.setAttribute("wrap","off"),t.wrap="off",t.style.overflow="auto",t.style.width="700px",t.style.height="350px",t.style.margin="5px",i.appendChild(t)),t.value+=n+"\n",t.scrollTop=t.scrollHeight-t.clientHeight}catch(r){alert("Exception: "+r.name+" Message: "+r.message)}},function(n){n.fn.makeAsyncUploader=function(t){return this.each(function(){var f=n(this).attr("id"),i=n("<span class='asyncUploader'/>"),e,r,u,o;i.append(n("<div class='ProgressBar'> <div>&nbsp;</div> </div>")),i.append(n("<span id='"+f+"_completedMessage'/>")),i.append(n("<span id='"+f+"_uploading'>Uploading... <input type='button' value='Cancel'/></span>")),i.append(n("<span id='"+f+"_swf'/>")),i.append(n("<input type='hidden' name='"+f+"_filename'/>")),i.append(n("<input type='hidden' name='"+f+"_guid'/>")),n(this).before(i).remove(),n("div.ProgressBar",i).hide(),n("span[id$=_uploading]",i).hide(),r=109,u=22,t&&(r=t.width||r,u=t.height||u),o={flash_url:"swfupload.swf",upload_url:"/Home/AsyncUpload",file_size_limit:"3 MB",file_types:"*.*",file_types_description:"All Files",debug:!1,button_image_url:"blankButton.png",button_width:r,button_height:u,button_placeholder_id:f+"_swf",button_text:"<font face='Arial' size='13pt'>Choose file</font>",button_text_left_padding:(r-70)/2,button_text_top_padding:1,file_queued_handler:function(){e.startUpload()},file_queue_error_handler:function(n,t,i){alert("Sorry, your file wasn't uploaded: "+i)},upload_error_handler:function(n,t,i){alert("Sorry, your file wasn't uploaded: "+i)},upload_start_handler:function(){e.setButtonDimensions(0,u),n("input[name$=_filename]",i).val(""),n("input[name$=_guid]",i).val(""),n("div.ProgressBar div",i).css("width","0px"),n("div.ProgressBar",i).show(),n("span[id$=_uploading]",i).show(),n("span[id$=_completedMessage]",i).html("").hide(),t.disableDuringUpload&&n(t.disableDuringUpload).attr("disabled","disabled")},upload_success_handler:function(t,r){n("input[name$=_filename]",i).val(t.name),n("input[name$=_guid]",i).val(r),n("span[id$=_completedMessage]",i).html("Uploaded <b>{0}</b> ({1} KB)".replace("{0}",t.name).replace("{1}",Math.round(t.size/1024)))},upload_complete_handler:function(){var f=function(){n("div.ProgressBar",i).hide(),n("span[id$=_completedMessage]",i).show(),n("span[id$=_uploading]",i).hide(),e.setButtonDimensions(r,u)};n("input[name$=_filename]",i).val()!=""?n("div.ProgressBar div",i).animate({width:"100%"},{duration:"fast",queue:!1,complete:f}):f(),t.disableDuringUpload&&n(t.disableDuringUpload).removeAttr("disabled")},upload_progress_handler:function(t,r,u){var f=100*r/u;n("div.ProgressBar div",i).animate({width:f+"%"},{duration:500,queue:!1})}},e=new SWFUpload(n.extend(o,t||{})),n("span[id$=_uploading] input[type='button']",i).click(function(){e.cancelUpload(null,!1)}),(t.existingFilename||!1)&&(n("span[id$=_completedMessage]",i).html("Uploaded <b>{0}</b> ({1} KB)".replace("{0}",t.existingFilename).replace("{1}",t.existingFileSize?Math.round(t.existingFileSize/1024):"?")).show(),n("input[name$=_filename]",i).val(t.existingFilename)),(t.existingGuid||!1)&&n("input[name$=_guid]",i).val(t.existingGuid)})}}(jQuery),ko.bindingHandlers.fadeInText={highlight:!1,update:function(n,t){jQuery(n).hide(),ko.bindingHandlers.text.update(n,t),ko.bindingHandlers.fadeInText.highlight?jQuery(n).effect("highlight",{mode:"show"},5e3):jQuery(n).show()}},function(){ko.setupValidation=function(n){return ko.bindingHandlers.error={init:function(n,t,i,r){ko.bindingHandlers.error.internalUpdate(n,t,i,r)},update:function(n,t,i,r){ko.bindingHandlers.error.internalUpdate(n,t,i,r)},internalUpdate:function(n,t){var o=jQuery(n),f=t()(),u,e;if(o.empty(),f!=null&&f.length>0){u=jQuery('<div class="alert alert-error"></div>'),u.append(jQuery('<a class="close" data-dismiss="alert">').text("×"));for(e in f)u.append(jQuery("<div>").text(f[e]));o.append(u)}}},{createErrorCollections:function(t,i,r){for(var u in t)i[u+"Errors"]=new ko.observableArray(typeof n[u]!="undefined"?n[u]:[]);i.hasErrors=!1,i.formIdentifier=r},clearValidations:function(n,t){for(var i in n)t[i+"Errors"].removeAll()},rebindValidations:function(n,t,i){for(var r in n)t[r+"Errors"].removeAll(),jQuery.each(i,function(n,i){i.PropertyName==r&&(t[r+"Errors"].push(i.ErrorMessage),t.hasErrors=!0)})}}}}(),function(){ko.utils.padzero=function(n){return n<10?"0"+n:n},ko.utils.pad2zeros=function(n){return n<100&&(n="0"+n),n<10&&(n="0"+n),n},ko.utils.toISOStringFromJson=function(n){var t=eval(n.replace(/\/Date\((\d+)\)\//gi,"new Date($1)"));return t.getUTCFullYear()+"-"+ko.utils.padzero(t.getUTCMonth()+1)+"-"+ko.utils.padzero(t.getUTCDate())+"T"+ko.utils.padzero(t.getUTCHours())+":"+ko.utils.padzero(t.getUTCMinutes())+":"+ko.utils.padzero(t.getUTCSeconds())+"."+ko.utils.pad2zeros(t.getUTCMilliseconds())+"Z"},ko.utils.getFormatedDateTimeNow=function(){var n=new Date;return dateFormat(n,"dd/mm/yyyy HH:MM:ss")},ko.utils.getDateFromJson=function(){return{create:function(n){if(n.data==null)return ko.observable("Not Set");var t=eval(n.data.replace(/\/Date\((\d+)\)\//gi,"new Date($1)"));return ko.observable(dateFormat(t,"dd/mm/yyyy HH:MM:ss"))}}},ko.utils.jsonToEscapedDateString=function(n){var u=eval(n.replace(/\/Date\((\d+)\)\//gi,"new Date($1)")),r=dateFormat(u,"dd/mm/yyyy HH:MM:ss"),t=escape(r),i;t=t.replace(/\+/g,"%2B"),i=t;do t=i,i=t.replace("/","%2F");while(t!=i);return t=i},ko.utils.getTimeAgoFromJson=function(){return{create:function(n){if(n.data==null)return"Not Set";var i=eval(n.data.replace(/\/Date\((\d+)\)\//gi,"new Date($1)")),t=dateFormat(i,"mm/dd/yyyy HH:MM:ss");return jQuery.timeago(t)}}},ko.utils.escapeDate=function(n){var t=escape(n),i;t=t.replace(/\+/g,"%2B"),i=t;do t=i,i=t.replace("/","%2F");while(t!=i);return t=i}}(),function(){function t(n){var i,t;if(typeof n.length!="number"||n.length===0)return[];i=[];for(t in n[0])i.push({headerText:t,rowText:t});return i}ko.pagedGrid={viewModel:function(n){this.items=n.data.Items,this.originalRequestDateTime=n.data.OriginalRequestDateTime,this.pageCount=n.data.PageCount,this.totalItemCount=n.data.TotalItemCount,this.pageNumber=n.data.PageNumber,this.pageSize=n.data.PageSize||5,this.hasPreviousPage=n.data.HasPreviousPage,this.hasNextPage=n.data.HasNextPage,this.isFirstPage=n.data.IsFirstPage,this.isLastPage=n.data.IsLastPage,this.additionalFunctions=n.additionalFunctions,this.orderBy=ko.observable("Name"),this.isAsc=ko.observable(!0),this.pagingComponentIdentfier=n.pagingComponentIdentifier,this.updateEvent=n.updateEvent||null,this.deleteEvent=n.deleteEvent||null,this.columns=n.columns||t(ko.utils.unwrapObservable(this.items)),this.plural=ko.dependentObservable(function(){return this.totalItemCount()==1?n.singular:n.plural},this),this.is_are=ko.dependentObservable(function(){return this.totalItemCount()==1?"is":"are"},this),this.navigate=function(t,i){t==="next"?this.pageNumber()<ko.utils.unwrapObservable(this.pageCount())&&this.pageNumber(this.pageNumber()+1):t==="prev"?this.pageNumber()>1&&this.pageNumber(this.pageNumber()-1):this.pageNumber(i);var r=this.isAsc()?"Asc":"Desc";jQuery.getJSON("/"+n.controller+"/"+n.action,{page:this.pageNumber(),datetime:ko.utils.toISOStringFromJson(this.originalRequestDateTime()),orderBy:this.orderBy(),sortBy:r},function(t){n.loadPageCallback(t)})},this.pageNavigation=ko.dependentObservable(function(){return ko.utils.range(1,this.pageCount())},this),this.setOrderBy=function(t){this.orderBy()==t?this.isAsc()?this.isAsc(!1):this.isAsc(!0):(this.orderBy(t),this.isAsc(!0));var i=this.isAsc()?"Asc":"Desc";jQuery.getJSON("/"+n.controller+"/"+n.action,{page:this.pageNumber(),datetime:ko.utils.toISOStringFromJson(this.originalRequestDateTime()),orderBy:this.orderBy(),sortBy:i},function(t){n.loadPageCallback(t)})};var i={};(function(t,i){t.execute=function(t,r){if(i.pagingComponentIdentfier==t){i.originalRequestDateTime(r);var u=i.isAsc()?"Asc":"Desc";jQuery.getJSON("/"+n.controller+"/"+n.action,{page:i.pageNumber(),datetime:ko.utils.toISOStringFromJson(i.originalRequestDateTime()),orderBy:i.orderBy(),sortBy:u},function(t){n.loadPageCallback(t)})}}})(i,this),jQuery(document).bind("resetPaging",function(n,t,r){i.execute(t,r)}),this.deleteEvent!=null&&jQuery(document).bind(this.deleteEvent,function(t,i){var r=ko.utils.arrayFirst(index.Items(),function(n){return n.Id()==i});r!=null&&r!=undefined&&(index.Items.remove(r),index.Items().length<10&&jQuery.getJSON("/"+n.controller+"/"+n.action,{page:model.PageNumber(),datetime:ko.utils.toISOStringFromJson(model.originalRequestDateTime()),orderBy:model.orderBy(),sortBy:sortBy},function(n){ko.mapping.fromJS(n,index)}))}),this.updateEvent!=null&&jQuery(document).bind(this.updateEvent,function(n,t){var i=ko.utils.arrayFirst(index.Items(),function(n){return n.Id()==id}),r;if(i!=null&&i!=undefined){i.Title(t.Title()),i.Content(t.Content());for(r in i[0])(t[r]!=null||t[r]!=undefined)&&i[r](t[r]())}})}};var n=new ko.nativeTemplateEngine;n.addTemplate=function(n,t){document.write("<script type='text/html' id='"+n+"'>"+t+"<\/script>")},n.addTemplate("ko_simpleGrid_grid",'                    <em>There&nbsp;<span data-bind="text:is_are"></span>&nbsp;<span data-bind="text:totalItemCount"></span>&nbsp;<span data-bind="text:plural"></span></em>                    <table class="ko-grid table table-striped table-bordered table-condensed">                        <thead>                            <tr data-bind="foreach: columns">                               <th data-bind="text: headerText" class="header"></th>                            </tr>                        </thead>                        <tbody data-bind="foreach: items">                           <tr data-bind="foreach: $parent.columns">                               <td data-bind="text: typeof rowText == \'function\' ? rowText($parent) : $parent[rowText] "></td>                            </tr>                        </tbody>                    </table>'),n.addTemplate("ko_simpleGrid_pageLinks",'                    <div class="pagination pull-right" data-bind="visible: items().length > 0">                        <ul>                            <li data-bind="css: { disabled: pageNumber() === 1 }" class="prev-container">                                <a data-bind="click: function (event) { navigate(\'prev\') }" href="#" class="prev">← Previous</a>                            </li>                            <li data-bind="css: { disabled: pageNumber() === 1 }" class="first-container">                                <a data-bind="click: function() { navigate(\'first\', 1); }" href="#" class="first">First</a>                            </li>                            <span data-bind="foreach: pageNavigation" id="pages-container">                                <li data-bind="css: { active: $parent.pageNumber() == $data }" class="first-container"><a href="#" title="View Page $data" data-bind="click: function() { $parent.navigate(\'page\', $data); }"><span data-bind="text: $data"></span></a></li>                            </span>                            <li data-bind="css: { disabled: pageNumber() === pageCount() }" class="last-container">                                <a data-bind="click: function() { navigate(\'last\', pageCount()); }" href="#" id="last">Last</a>                            </li>                            <li data-bind="css: { disabled: pageNumber() === pageCount() }" class="next-container">                                <a data-bind="click: function (event) { navigate(\'next\') }" href="#" class="next">Next →</a>                            </li>                        </ul>                    </div>'),n.addTemplate("ko_simpleGrid_basicPageLinks",'                    <div class="pagination pagination-centered">                        <ul>                            <li data-bind="css: { disabled: pageNumber() === 1 }" class="prev-container">                                <a data-bind="click: function (event) { navigate(\'prev\') }" href="#" class="prev">←</a>                            </li>                            <li data-bind="css: { disabled: pageNumber() === pageCount() }" class="next-container">                                <a data-bind="click: function (event) { navigate(\'next\') }" href="#" class="next">→</a>                            </li>                        </ul>                    </div>'),ko.bindingHandlers.pagedGrid={init:function(){return{controlsDescendantBindings:!0}},update:function(t,i,r){for(var e=i(),f=r(),u;t.firstChild;)ko.removeNode(t.firstChild);var o=f.pagedGridTemplate||"ko_simpleGrid_grid",h=f.pagedGridPagerTemplate||"ko_simpleGrid_pageLinks",s=t.appendChild(document.createElement("DIV"));ko.renderTemplate(o,e,{templateEngine:n},s,"replaceNode"),u=t.appendChild(document.createElement("DIV")),ko.renderTemplate(h,e,{templateEngine:n},u,"replaceNode")}}}(),function(){function t(n){var i,t;if(typeof n.length!="number"||n.length===0)return[];i=[];for(t in n[0])i.push({headerText:t,rowText:t});return i}ko.latestItems={viewModel:function(n){this.items=n.data.Items,this.originalRequestDateTime=n.data.OriginalRequestDateTime,this.requestDateTime=n.data.RequestDateTime,this.pagingComponentIdentfier=n.pagingComponentIdentifier,this.createdModal=!1,this.columns=n.columns||t(ko.utils.unwrapObservable(this.items)),this.plural=ko.dependentObservable(function(){return this.items()==1?n.singular:n.plural},this),this.is_are=ko.dependentObservable(function(){return this.items()==1?"is":"are"},this),this.raiseOpen=function(){this.createdModal==!1&&(this.detailModal=jQuery("#"+n.divIdentifier+" .modal").modal({backdrop:!0,closeOnEscape:!0,modal:!0}),this.createdModal=!0),this.detailModal.modal("show")},this.raiseClose=function(){this.detailModal.modal("hide")},this.resetPaging=function(){var i=this.pagingComponentIdentfier,t=this.requestDateTime(),n=this.items();jQuery(document).trigger("resetPaging",[i,t,n]),this.items.removeAll(),this.originalRequestDateTime(this.requestDateTime()),this.detailModal.modal("hide")},setInterval(function(){jQuery.getJSON("/"+n.controller+"/"+n.action,{datetime:ko.utils.toISOStringFromJson(n.data.OriginalRequestDateTime())},function(t){n.loadPageCallback(t)})},5e3)}};var n=new ko.nativeTemplateEngine;n.addTemplate=function(n,t){document.write("<script type='text/html' id='"+n+"'>"+t+"<\/script>")},n.addTemplate("ko_latest_items",'                    <div class="latest-items" data-bind="visible: items().length > 0">                        <div class="alert alert-info" data-bind="click: raiseOpen">                            <em>There&nbsp;<span data-bind="text:is_are"></span>&nbsp;<span data-bind="text:items().length"></span>&nbsp;New&nbsp;<span data-bind="text:plural"></span></em></p>                        </div>                        <div class="modal hide fade">                            <div class="modal-header">                                <a href="#" class="close" data-bind="click: raiseClose">×</a>                                <h3>Latest Items</h3>                            </div>                            <div class="modal-body modal-body-scrollable">                                <table class="ko-grid table table-striped table-bordered table-condensed">                                    <thead>                                        <tr data-bind="foreach: columns">                                            <th data-bind="text: headerText" class="header"></th>                                        </tr>                                    </thead>                                    <tbody data-bind="foreach: items">                                        <tr data-bind="foreach: $parent.columns">                                            <td data-bind="text: typeof rowText == \'function\' ? rowText($parent) : $parent[rowText] "></td>                                        </tr>                                    </tbody>                                </table>                            </div>                            <div class="modal-footer">                                <button class="btn btn-danger" data-bind="click: raiseClose">Close</button>                                <button class="btn btn-primary" data-bind="click: resetPaging">Reset Paging</button>                            </div>                        </div>                    </div>'),ko.bindingHandlers.latestItems={init:function(){return{controlsDescendantBindings:!0}},update:function(t,i,r){for(var e=i(),o=r(),u,f;t.firstChild;)ko.removeNode(t.firstChild);u=o.latestItemsTemplate||"ko_latest_items",f=t.appendChild(document.createElement("DIV")),ko.renderTemplate(u,e,{templateEngine:n},f,"replaceNode")}}}(),function(){ko.pagedList={viewModel:function(n){var u={CreationDateTime:ko.utils.getTimeAgoFromJson(),LastModifiedDateTime:ko.utils.getDateFromJson("dd/MMM HH:mm")},r=function(n){ko.mapping.fromJS(n,u,this)},f={Items:{create:function(n){return new r(n.data)}}},t,i;this.items=n.data.Items,this.originalRequestDateTime=n.data.OriginalRequestDateTime,this.pageCount=n.data.PageCount,this.totalItemCount=n.data.TotalItemCount,this.pageNumber=n.data.PageNumber,this.pageSize=n.data.PageSize||5,this.hasPreviousPage=n.data.HasPreviousPage,this.hasNextPage=n.data.HasNextPage,this.isFirstPage=n.data.IsFirstPage,this.isLastPage=n.data.IsLastPage,this.additionalFunctions=n.additionalFunctions,this.orderBy=ko.observable("Name"),this.isAsc=ko.observable(!0),this.pagingComponentIdentfier=n.pagingComponentIdentifier,this.updateEvent=n.updateEvent||null,this.deleteEvent=n.deleteEvent||null,this.plural=ko.dependentObservable(function(){return this.totalItemCount()==1?n.singular:n.plural},this),this.is_are=ko.dependentObservable(function(){return this.totalItemCount()==1?"is":"are"},this),t={},function(i,r){i.more=!0,i.execute=function(){t&&(r.pageNumber(r.pageNumber()+1),jQuery.getJSON("/"+n.controller+"/"+n.action,{page:r.pageNumber(),datetime:ko.utils.toISOStringFromJson(r.originalRequestDateTime())},function(n){if(n.Items.length==0){t=!1;return}var i=ko.mapping.fromJS(n,f);ko.utils.arrayForEach(i.Items(),function(n){r.items.push(n)})}))}}(t,this),jQuery(window).scroll(function(){$(window).scrollTop()==$(document).height()-$(window).height()&&t.execute()}),i={},function(n,t){n.execute=function(n,i,r){t.pagingComponentIdentfier==n&&ko.utils.arrayForEach(r,function(n){t.items.unshift(n),t.totalItemCount(t.totalItemCount()+1)})}}(i,this),jQuery(document).bind("resetPaging",function(n,t,r,u){i.execute(t,r,u)}),this.deleteEvent!=null&&jQuery(document).bind(this.deleteEvent,function(t,i){var r=ko.utils.arrayFirst(index.Items(),function(n){return n.Id()==i});r!=null&&r!=undefined&&(index.Items.remove(r),index.Items().length<10&&jQuery.getJSON("/"+n.controller+"/"+n.action,{page:model.PageNumber(),datetime:ko.utils.toISOStringFromJson(model.originalRequestDateTime()),orderBy:model.orderBy(),sortBy:sortBy},function(n){ko.mapping.fromJS(n,index)}))}),this.updateEvent!=null&&jQuery(document).bind(this.updateEvent,function(n,t){var i=ko.utils.arrayFirst(index.Items(),function(n){return n.Id()==id}),r;if(i!=null&&i!=undefined){i.Title(t.Title()),i.Content(t.Content());for(r in i[0])(t[r]!=null||t[r]!=undefined)&&i[r](t[r]())}})}};var n=new ko.nativeTemplateEngine;ko.bindingHandlers.pagedList={init:function(){return{controlsDescendantBindings:!0}},update:function(t,i,r){for(var e=i(),o=r(),u,f;t.firstChild;)ko.removeNode(t.firstChild);u=o.pagedListTemplate,f=t.appendChild(document.createElement("DIV")),ko.renderTemplate(u,e,{templateEngine:n},f,"replaceNode")}}}(),function(){function t(n,t){this.Username=n,this.Colour=t}ko.currentlyViewingComponent={viewModel:function(n){this.currentViewers=ko.observableArray([]);var i=this;this.initialiseCurrentViewers=function(n){i.currentViewers.removeAll(),ko.utils.arrayForEach(n,function(n){i.currentViewers.push(new t(n.Username,n.Colour))})},n.hub.handleImViewingMessage=function(r,u,f){if(n.id()==f){var e=ko.utils.arrayFirst(i.currentViewers(),function(n){return n.Username==r});e==null&&i.currentViewers.push(new t(r,u)),jQuery("a[rel=tooltip]").tooltip()}},n.hub.handleImLeavingMessage=function(t,r){n.id()==r&&i.currentViewers.remove(function(n){return n.Username==t})},jQuery(n.modalSelector).bind("show",function(){n.hub.imViewing(n.id())}),jQuery(n.modalSelector).bind("hide",function(){n.hub.imLeaving(n.id())})}};var n=new ko.nativeTemplateEngine;n.addTemplate=function(n,t){document.write("<script type='text/html' id='"+n+"'>"+t+"<\/script>")},n.addTemplate("ko_currentlyViewing",'<div data-bind="foreach: currentViewers" class="pull-left"><a data-bind="attr: { title: Username, \'class\': Colour }" rel=\'tooltip\'>&nbsp;</a></div>'),ko.bindingHandlers.currentlyViewingComponent={init:function(){return{controlsDescendantBindings:!0}},update:function(t,i,r){for(var e=i(),o=r(),u,f;t.firstChild;)ko.removeNode(t.firstChild);u=o.currentlyViewingTemplate||"ko_currentlyViewing",f=t.appendChild(document.createElement("DIV")),ko.renderTemplate(u,e,{templateEngine:n},f,"replaceNode")}}}(),jQuery(function(){jQuery("a[rel=tooltip]").tooltip(),jQuery(".carousel").carousel()}),!function(n){n(function(){"use strict";n.support.transition=function(){var r=document.body||document.documentElement,t=r.style,i=t.transition!==undefined||t.WebkitTransition!==undefined||t.MozTransition!==undefined||t.MsTransition!==undefined||t.OTransition!==undefined;return i&&{end:function(){var t="TransitionEnd";return n.browser.webkit?t="webkitTransitionEnd":n.browser.mozilla?t="transitionend":n.browser.opera&&(t="oTransitionEnd"),t}()}}()})}(window.jQuery),!function(n){"use strict";var i='[data-dismiss="alert"]',t=function(t){n(t).on("click",i,this.close)};t.prototype={constructor:t,close:function(t){function f(){i.trigger("closed").remove()}var u=n(this),r=u.attr("data-target"),i;r||(r=u.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,"")),i=n(r),i.trigger("close"),t&&t.preventDefault(),i.length||(i=u.hasClass("alert")?u:u.parent()),i.trigger("close").removeClass("in"),n.support.transition&&i.hasClass("fade")?i.on(n.support.transition.end,f):f()}},n.fn.alert=function(i){return this.each(function(){var u=n(this),r=u.data("alert");r||u.data("alert",r=new t(this)),typeof i=="string"&&r[i].call(u)})},n.fn.alert.Constructor=t,n(function(){n("body").on("click.alert.data-api",i,t.prototype.close)})}(window.jQuery),!function(n){"use strict";var t=function(t,i){this.$element=n(t),this.options=n.extend({},n.fn.button.defaults,i)};t.prototype={constructor:t,setState:function(n){var i="disabled",t=this.$element,u=t.data(),r=t.is("input")?"val":"html";n=n+"Text",u.resetText||t.data("resetText",t[r]()),t[r](u[n]||this.options[n]),setTimeout(function(){n=="loadingText"?t.addClass(i).attr(i,i):t.removeClass(i).removeAttr(i)},0)},toggle:function(){var n=this.$element.parent('[data-toggle="buttons-radio"]');n&&n.find(".active").removeClass("active"),this.$element.toggleClass("active")}},n.fn.button=function(i){return this.each(function(){var u=n(this),r=u.data("button"),f=typeof i=="object"&&i;r||u.data("button",r=new t(this,f)),i=="toggle"?r.toggle():i&&r.setState(i)})},n.fn.button.defaults={loadingText:"loading..."},n.fn.button.Constructor=t,n(function(){n("body").on("click.button.data-api","[data-toggle^=button]",function(t){var i=n(t.target);i.hasClass("btn")||(i=i.closest(".btn")),i.button("toggle")})})}(window.jQuery),!function(n){"use strict";var t=function(t,i){this.$element=n(t),this.options=n.extend({},n.fn.carousel.defaults,i),this.options.slide&&this.slide(this.options.slide),this.options.pause=="hover"&&this.$element.on("mouseenter",n.proxy(this.pause,this)).on("mouseleave",n.proxy(this.cycle,this))};t.prototype={cycle:function(){return this.interval=setInterval(n.proxy(this.next,this),this.options.interval),this},to:function(t){var u=this.$element.find(".active"),i=u.parent().children(),r=i.index(u),f=this;if(!(t>i.length-1)&&!(t<0))return this.sliding?this.$element.one("slid",function(){f.to(t)}):r==t?this.pause().cycle():this.slide(t>r?"next":"prev",n(i[t]))},pause:function(){return clearInterval(this.interval),this.interval=null,this},next:function(){if(!this.sliding)return this.slide("next")},prev:function(){if(!this.sliding)return this.slide("prev")},slide:function(t,i){var f=this.$element.find(".active"),r=i||f[t](),o=this.interval,u=t=="next"?"left":"right",s=t=="next"?"first":"last",e=this;if(this.sliding=!0,o&&this.pause(),r=r.length?r:this.$element.find(".item")[s](),!r.hasClass("active")){if(!n.support.transition&&this.$element.hasClass("slide"))this.$element.trigger("slide"),f.removeClass("active"),r.addClass("active"),this.sliding=!1,this.$element.trigger("slid");else{r.addClass(t),r[0].offsetWidth,f.addClass(u),r.addClass(u),this.$element.trigger("slide");this.$element.one(n.support.transition.end,function(){r.removeClass([t,u].join(" ")).addClass("active"),f.removeClass(["active",u].join(" ")),e.sliding=!1,setTimeout(function(){e.$element.trigger("slid")},0)})}return o&&this.cycle(),this}}},n.fn.carousel=function(i){return this.each(function(){var f=n(this),r=f.data("carousel"),u=typeof i=="object"&&i;r||f.data("carousel",r=new t(this,u)),typeof i=="number"?r.to(i):typeof i=="string"||(i=u.slide)?r[i]():r.cycle()})},n.fn.carousel.defaults={interval:5e3,pause:"hover"},n.fn.carousel.Constructor=t,n(function(){n("body").on("click.carousel.data-api","[data-slide]",function(t){var r=n(this),u,i=n(r.attr("data-target")||(u=r.attr("href"))&&u.replace(/.*(?=#[^\s]+$)/,"")),f=!i.data("modal")&&n.extend({},i.data(),r.data());i.carousel(f),t.preventDefault()})})}(window.jQuery),!function(n){"use strict";var t=function(t,i){this.$element=n(t),this.options=n.extend({},n.fn.collapse.defaults,i),this.options.parent&&(this.$parent=n(this.options.parent)),this.options.toggle&&this.toggle()};t.prototype={constructor:t,dimension:function(){var n=this.$element.hasClass("width");return n?"width":"height"},show:function(){var i=this.dimension(),u=n.camelCase(["scroll",i].join("-")),t=this.$parent&&this.$parent.find(".in"),r;t&&t.length&&(r=t.data("collapse"),t.collapse("hide"),r||t.data("collapse",null)),this.$element[i](0),this.transition("addClass","show","shown"),this.$element[i](this.$element[0][u])},hide:function(){var n=this.dimension();this.reset(this.$element[n]()),this.transition("removeClass","hide","hidden"),this.$element[n](0)},reset:function(n){var t=this.dimension();return this.$element.removeClass("collapse")[t](n||"auto")[0].offsetWidth,this.$element[n?"addClass":"removeClass"]("collapse"),this},transition:function(t,i,r){var f=this,u=function(){i=="show"&&f.reset(),f.$element.trigger(r)};this.$element.trigger(i)[t]("in"),n.support.transition&&this.$element.hasClass("collapse")?this.$element.one(n.support.transition.end,u):u()},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}},n.fn.collapse=function(i){return this.each(function(){var u=n(this),r=u.data("collapse"),f=typeof i=="object"&&i;r||u.data("collapse",r=new t(this,f)),typeof i=="string"&&r[i]()})},n.fn.collapse.defaults={toggle:!0},n.fn.collapse.Constructor=t,n(function(){n("body").on("click.collapse.data-api","[data-toggle=collapse]",function(t){var i=n(this),u,r=i.attr("data-target")||t.preventDefault()||(u=i.attr("href"))&&u.replace(/.*(?=#[^\s]+$)/,""),f=n(r).data("collapse")?"toggle":i.data();n(r).collapse(f)})})}(window.jQuery),!function(n){"use strict";function i(){n(r).parent().removeClass("open")}var r='[data-toggle="dropdown"]',t=function(t){var i=n(t).on("click.dropdown.data-api",this.toggle);n("html").on("click.dropdown.data-api",function(){i.parent().removeClass("open")})};t.prototype={constructor:t,toggle:function(){var f=n(this),r=f.attr("data-target"),u,e;return r||(r=f.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,"")),u=n(r),u.length||(u=f.parent()),e=u.hasClass("open"),i(),!e&&u.toggleClass("open"),!1}},n.fn.dropdown=function(i){return this.each(function(){var u=n(this),r=u.data("dropdown");r||u.data("dropdown",r=new t(this)),typeof i=="string"&&r[i].call(u)})},n.fn.dropdown.Constructor=t,n(function(){n("html").on("click.dropdown.data-api",i);n("body").on("click.dropdown.data-api",r,t.prototype.toggle)})}(window.jQuery),!function(n){"use strict";function e(){var t=this,r=setTimeout(function(){t.$element.off(n.support.transition.end),i.call(t)},500);this.$element.one(n.support.transition.end,function(){clearTimeout(r),i.call(t)})}function i(){this.$element.hide().trigger("hidden"),f.call(this)}function f(t){var f=this,u=this.$element.hasClass("fade")?"fade":"",i;this.isShown&&this.options.backdrop?(i=n.support.transition&&u,this.$backdrop=n('<div class="modal-backdrop '+u+'" />').appendTo(document.body),this.options.backdrop!="static"&&this.$backdrop.click(n.proxy(this.hide,this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),i?this.$backdrop.one(n.support.transition.end,t):t()):!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),n.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(n.support.transition.end,n.proxy(r,this)):r.call(this)):t&&t()}function r(){this.$backdrop.remove(),this.$backdrop=null}function u(){var t=this;if(this.isShown&&this.options.keyboard)n(document).on("keyup.dismiss.modal",function(n){n.which==27&&t.hide()});else this.isShown||n(document).off("keyup.dismiss.modal")}var t=function(t,i){this.options=i,this.$element=n(t).delegate('[data-dismiss="modal"]',"click.dismiss.modal",n.proxy(this.hide,this))};t.prototype={constructor:t,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var t=this;this.isShown||(n("body").addClass("modal-open"),this.isShown=!0,this.$element.trigger("show"),u.call(this),f.call(this,function(){var i=n.support.transition&&t.$element.hasClass("fade");!t.$element.parent().length&&t.$element.appendTo(document.body),t.$element.show(),i&&t.$element[0].offsetWidth,t.$element.addClass("in"),i?t.$element.one(n.support.transition.end,function(){t.$element.trigger("shown")}):t.$element.trigger("shown")}))},hide:function(t){if(t&&t.preventDefault(),this.isShown){var r=this;this.isShown=!1,n("body").removeClass("modal-open"),u.call(this),this.$element.trigger("hide").removeClass("in"),n.support.transition&&this.$element.hasClass("fade")?e.call(this):i.call(this)}}},n.fn.modal=function(i){return this.each(function(){var u=n(this),r=u.data("modal"),f=n.extend({},n.fn.modal.defaults,u.data(),typeof i=="object"&&i);r||u.data("modal",r=new t(this,f)),typeof i=="string"?r[i]():f.show&&r.show()})},n.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},n.fn.modal.Constructor=t,n(function(){n("body").on("click.modal.data-api",'[data-toggle="modal"]',function(t){var r=n(this),u,i=n(r.attr("data-target")||(u=r.attr("href"))&&u.replace(/.*(?=#[^\s]+$)/,"")),f=i.data("modal")?"toggle":n.extend({},i.data(),r.data());t.preventDefault(),i.modal(f)})})}(window.jQuery),!function(n){"use strict";var t=function(n,t){this.init("tooltip",n,t)};t.prototype={constructor:t,init:function(t,i,r){var f,u;if(this.type=t,this.$element=n(i),this.options=this.getOptions(r),this.enabled=!0,this.options.trigger!="manual"){f=this.options.trigger=="hover"?"mouseenter":"focus",u=this.options.trigger=="hover"?"mouseleave":"blur";this.$element.on(f,this.options.selector,n.proxy(this.enter,this));this.$element.on(u,this.options.selector,n.proxy(this.leave,this))}this.options.selector?this._options=n.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(t){return t=n.extend({},n.fn[this.type].defaults,t,this.$element.data()),t.delay&&typeof t.delay=="number"&&(t.delay={show:t.delay,hide:t.delay}),t},enter:function(t){var i=n(t.currentTarget)[this.type](this._options).data(this.type);i.options.delay&&i.options.delay.show?(i.hoverState="in",setTimeout(function(){i.hoverState=="in"&&i.show()},i.options.delay.show)):i.show()},leave:function(t){var i=n(t.currentTarget)[this.type](this._options).data(this.type);i.options.delay&&i.options.delay.hide?(i.hoverState="out",setTimeout(function(){i.hoverState=="out"&&i.hide()},i.options.delay.hide)):i.hide()},show:function(){var t,f,n,u,e,i,r;if(this.hasContent()&&this.enabled){t=this.tip(),this.setContent(),this.options.animation&&t.addClass("fade"),i=typeof this.options.placement=="function"?this.options.placement.call(this,t[0],this.$element[0]):this.options.placement,f=/in/.test(i),t.remove().css({top:0,left:0,display:"block"}).appendTo(f?this.$element:document.body),n=this.getPosition(f),u=t[0].offsetWidth,e=t[0].offsetHeight;switch(f?i.split(" ")[1]:i){case"bottom":r={top:n.top+n.height,left:n.left+n.width/2-u/2};break;case"top":r={top:n.top-e,left:n.left+n.width/2-u/2};break;case"left":r={top:n.top+n.height/2-e/2,left:n.left-u};break;case"right":r={top:n.top+n.height/2-e/2,left:n.left+n.width}}t.css(r).addClass(i).addClass("in")}},setContent:function(){var n=this.tip();n.find(".tooltip-inner").html(this.getTitle()),n.removeClass("fade in top bottom left right")},hide:function(){function i(){var i=setTimeout(function(){t.off(n.support.transition.end).remove()},500);t.one(n.support.transition.end,function(){clearTimeout(i),t.remove()})}var r=this,t=this.tip();t.removeClass("in"),n.support.transition&&this.$tip.hasClass("fade")?i():t.remove()},fixTitle:function(){var n=this.$element;(n.attr("title")||typeof n.attr("data-original-title")!="string")&&n.attr("data-original-title",n.attr("title")||"").removeAttr("title")},hasContent:function(){return this.getTitle()},getPosition:function(t){return n.extend({},t?{top:0,left:0}:this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight})},getTitle:function(){var n,i=this.$element,t=this.options;return n=i.attr("data-original-title")||(typeof t.title=="function"?t.title.call(i[0]):t.title),n=(n||"").toString().replace(/(^\s*|\s*$)/,"")},tip:function(){return this.$tip=this.$tip||n(this.options.template)},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(){this[this.tip().hasClass("in")?"hide":"show"]()}},n.fn.tooltip=function(i){return this.each(function(){var u=n(this),r=u.data("tooltip"),f=typeof i=="object"&&i;r||u.data("tooltip",r=new t(this,f)),typeof i=="string"&&r[i]()})},n.fn.tooltip.Constructor=t,n.fn.tooltip.defaults={animation:!0,delay:0,selector:!1,placement:"top",trigger:"hover",title:"",template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'}}(window.jQuery),!function(n){"use strict";var t=function(n,t){this.init("popover",n,t)};t.prototype=n.extend({},n.fn.tooltip.Constructor.prototype,{constructor:t,setContent:function(){var t=this.tip(),r=this.getTitle(),i=this.getContent();t.find(".popover-title")[n.type(r)=="object"?"append":"html"](r),t.find(".popover-content > *")[n.type(i)=="object"?"append":"html"](i),t.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var n,i=this.$element,t=this.options;return n=i.attr("data-content")||(typeof t.content=="function"?t.content.call(i[0]):t.content),n=n.toString().replace(/(^\s*|\s*$)/,"")},tip:function(){return this.$tip||(this.$tip=n(this.options.template)),this.$tip}}),n.fn.popover=function(i){return this.each(function(){var u=n(this),r=u.data("popover"),f=typeof i=="object"&&i;r||u.data("popover",r=new t(this,f)),typeof i=="string"&&r[i]()})},n.fn.popover.Constructor=t,n.fn.popover.defaults=n.extend({},n.fn.tooltip.defaults,{placement:"right",content:"",template:'<div class="popover"><div class="arrow"></div><div class="popover-inner"><h3 class="popover-title"></h3><div class="popover-content"><p></p></div></div></div>'})}(window.jQuery),!function(n){"use strict";function t(t,i){var u=n.proxy(this.process,this),f=n(t).is("body")?n(window):n(t),r;this.options=n.extend({},n.fn.scrollspy.defaults,i),this.$scrollElement=f.on("scroll.scroll.data-api",u),this.selector=(this.options.target||(r=n(t).attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.$body=n("body").on("click.scroll.data-api",this.selector,u),this.refresh(),this.process()}t.prototype={constructor:t,refresh:function(){this.targets=this.$body.find(this.selector).map(function(){var t=n(this).attr("href");return/^#\w/.test(t)&&n(t).length?t:null}),this.offsets=n.map(this.targets,function(t){return n(t).position().top})},process:function(){for(var i=this.$scrollElement.scrollTop()+this.options.offset,t=this.offsets,r=this.targets,u=this.activeTarget,n=t.length;n--;)u!=r[n]&&i>=t[n]&&(!t[n+1]||i<=t[n+1])&&this.activate(r[n])},activate:function(n){var t;this.activeTarget=n,this.$body.find(this.selector).parent(".active").removeClass("active"),t=this.$body.find(this.selector+'[href="'+n+'"]').parent("li").addClass("active"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active")}},n.fn.scrollspy=function(i){return this.each(function(){var u=n(this),r=u.data("scrollspy"),f=typeof i=="object"&&i;r||u.data("scrollspy",r=new t(this,f)),typeof i=="string"&&r[i]()})},n.fn.scrollspy.Constructor=t,n.fn.scrollspy.defaults={offset:10},n(function(){n('[data-spy="scroll"]').each(function(){var t=n(this);t.scrollspy(t.data())})})}(window.jQuery),!function(n){"use strict";var t=function(t){this.element=n(t)};t.prototype={constructor:t,show:function(){var t=this.element,f=t.closest("ul:not(.dropdown-menu)"),i=t.attr("data-target"),u,r;(i||(i=t.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,"")),t.parent("li").hasClass("active"))||(u=f.find(".active a").last()[0],t.trigger({type:"show",relatedTarget:u}),r=n(i),this.activate(t.parent("li"),f),this.activate(r,r.parent(),function(){t.trigger({type:"shown",relatedTarget:u})}))},activate:function(t,i,r){function f(){u.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),t.addClass("active"),e?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active"),r&&r()}var u=i.find("> .active"),e=r&&n.support.transition&&u.hasClass("fade");e?u.one(n.support.transition.end,f):f(),u.removeClass("in")}},n.fn.tab=function(i){return this.each(function(){var u=n(this),r=u.data("tab");r||u.data("tab",r=new t(this)),typeof i=="string"&&r[i]()})},n.fn.tab.Constructor=t,n(function(){n("body").on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(t){t.preventDefault(),n(this).tab("show")})})}(window.jQuery),!function(n){"use strict";var t=function(t,i){this.$element=n(t),this.options=n.extend({},n.fn.typeahead.defaults,i),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.$menu=n(this.options.menu).appendTo("body"),this.source=this.options.source,this.shown=!1,this.listen()};t.prototype={constructor:t,select:function(){var n=this.$menu.find(".active").attr("data-value");return this.$element.val(n),this.$element.change(),this.hide()},show:function(){var t=n.extend({},this.$element.offset(),{height:this.$element[0].offsetHeight});return this.$menu.css({top:t.top+t.height,left:t.left}),this.$menu.show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(){var r=this,i,u;return(this.query=this.$element.val(),!this.query)?this.shown?this.hide():this:(i=n.grep(this.source,function(n){if(r.matcher(n))return n}),i=this.sorter(i),!i.length)?this.shown?this.hide():this:this.render(i.slice(0,this.options.items)).show()},matcher:function(n){return~n.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(n){for(var u=[],i=[],r=[],t;t=n.shift();)t.toLowerCase().indexOf(this.query.toLowerCase())?~t.indexOf(this.query)?i.push(t):r.push(t):u.push(t);return u.concat(i,r)},highlighter:function(n){return n.replace(new RegExp("("+this.query+")","ig"),function(n,t){return"<strong>"+t+"</strong>"})},render:function(t){var i=this;return t=n(t).map(function(t,r){return t=n(i.options.item).attr("data-value",r),t.find("a").html(i.highlighter(r)),t[0]}),t.first().addClass("active"),this.$menu.html(t),this},next:function(){var r=this.$menu.find(".active").removeClass("active"),i=r.next();i.length||(i=n(this.$menu.find("li")[0])),i.addClass("active")},prev:function(){var i=this.$menu.find(".active").removeClass("active"),t=i.prev();t.length||(t=this.$menu.find("li").last()),t.addClass("active")},listen:function(){this.$element.on("blur",n.proxy(this.blur,this)).on("keypress",n.proxy(this.keypress,this)).on("keyup",n.proxy(this.keyup,this));if(n.browser.webkit||n.browser.msie)this.$element.on("keydown",n.proxy(this.keypress,this));this.$menu.on("click",n.proxy(this.click,this)).on("mouseenter","li",n.proxy(this.mouseenter,this))},keyup:function(n){switch(n.keyCode){case 40:case 38:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}n.stopPropagation(),n.preventDefault()},keypress:function(n){if(this.shown){switch(n.keyCode){case 9:case 13:case 27:n.preventDefault();break;case 38:n.preventDefault(),this.prev();break;case 40:n.preventDefault(),this.next()}n.stopPropagation()}},blur:function(){var t=this;setTimeout(function(){t.hide()},150)},click:function(n){n.stopPropagation(),n.preventDefault(),this.select()},mouseenter:function(t){this.$menu.find(".active").removeClass("active"),n(t.currentTarget).addClass("active")}},n.fn.typeahead=function(i){return this.each(function(){var u=n(this),r=u.data("typeahead"),f=typeof i=="object"&&i;r||u.data("typeahead",r=new t(this,f)),typeof i=="string"&&r[i]()})},n.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>'},n.fn.typeahead.Constructor=t,n(function(){n("body").on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(t){var i=n(this);i.data("typeahead")||(t.preventDefault(),i.typeahead(i.data()))})})}(window.jQuery),function(){function n(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32}n.prototype.diff_main=function(n,t,i,r){if(typeof r=="undefined"&&(r=this.Diff_Timeout<=0?Number.MAX_VALUE:+new Date+this.Diff_Timeout*1e3),n==null||t==null)throw Error("Null input. (diff_main)");if(n==t)return n?[[0,n]]:[];typeof i=="undefined"&&(i=!0);var e=i,u=this.diff_commonPrefix(n,t),i=n.substring(0,u),n=n.substring(u),t=t.substring(u),u=this.diff_commonSuffix(n,t),f=n.substring(n.length-u),n=n.substring(0,n.length-u),t=t.substring(0,t.length-u),n=this.diff_compute_(n,t,e,r);return i&&n.unshift([0,i]),f&&n.push([0,f]),this.diff_cleanupMerge(n),n},n.prototype.diff_compute_=function(n,t,i,r){if(!n)return[[1,t]];if(!t)return[[-1,n]];var u=n.length>t.length?n:t,f=n.length>t.length?t:n,e=u.indexOf(f);return e!=-1?(i=[[1,u.substring(0,e)],[0,f],[1,u.substring(e+f.length)]],n.length>t.length&&(i[0][0]=i[2][0]=-1),i):f.length==1?[[-1,n],[1,t]]:(u=this.diff_halfMatch_(n,t))?(f=u[0],n=u[1],e=u[2],t=u[3],u=u[4],f=this.diff_main(f,e,i,r),i=this.diff_main(n,t,i,r),f.concat([[0,u]],i)):i&&n.length>100&&t.length>100?this.diff_lineMode_(n,t,r):this.diff_bisect_(n,t,r)},n.prototype.diff_lineMode_=function(n,t,i){var r=this.diff_linesToChars_(n,t),n=r[0],t=r[1],r=r[2],n=this.diff_bisect_(n,t,i);this.diff_charsToLines_(n,r),this.diff_cleanupSemantic(n),n.push([0,""]);for(var u=t=0,f=0,e=r="";t<n.length;){switch(n[t][0]){case 1:f++,e+=n[t][1];break;case-1:u++,r+=n[t][1];break;case 0:if(u>=1&&f>=1){for(r=this.diff_main(r,e,!1,i),n.splice(t-u-f,u+f),t=t-u-f,u=r.length-1;u>=0;u--)n.splice(t,0,r[u]);t+=r.length}u=f=0,e=r=""}t++}return n.pop(),n},n.prototype.diff_bisect_=function(n,t,i){for(var f,r,u,l,e,s=n.length,v=t.length,w=Math.ceil((s+v)/2),y=w,p=2*w,c=Array(p),h=Array(p),a=0;a<p;a++)c[a]=-1,h[a]=-1;c[y+1]=0,h[y+1]=0;for(var a=s-v,b=a%2!=0,d=0,nt=0,k=0,g=0,o=0;o<w;o++){if(+new Date>i)break;for(f=-o+d;f<=o-nt;f+=2){for(r=y+f,u=f==-o||f!=o&&c[r-1]<c[r+1]?c[r+1]:c[r-1]+1,l=u-f;u<s&&l<v&&n.charAt(u)==t.charAt(l);)u++,l++;if(c[r]=u,u>s)nt+=2;else if(l>v)d+=2;else if(b&&(r=y+a-f,r>=0&&r<p&&h[r]!=-1)&&(e=s-h[r],u>=e))return this.diff_bisectSplit_(n,t,u,l,i)}for(f=-o+k;f<=o-g;f+=2){for(r=y+f,e=f==-o||f!=o&&h[r-1]<h[r+1]?h[r+1]:h[r-1]+1,u=e-f;e<s&&u<v&&n.charAt(s-e-1)==t.charAt(v-u-1);)e++,u++;if(h[r]=e,e>s)g+=2;else if(u>v)k+=2;else if(!b&&(r=y+a-f,r>=0&&r<p&&c[r]!=-1&&(u=c[r],l=y+u-r,e=s-e,u>=e)))return this.diff_bisectSplit_(n,t,u,l,i)}}return[[-1,n],[1,t]]},n.prototype.diff_bisectSplit_=function(n,t,i,r,u){var f=n.substring(0,i),e=t.substring(0,r),n=n.substring(i),t=t.substring(r),f=this.diff_main(f,e,!1,u),u=this.diff_main(n,t,!1,u);return f.concat(u)},n.prototype.diff_linesToChars_=function(n,t){function e(n){for(var u,o="",f=0,t=-1,e=r.length;t<n.length-1;)t=n.indexOf("\n",f),t==-1&&(t=n.length-1),u=n.substring(f,t+1),f=t+1,(i.hasOwnProperty?i.hasOwnProperty(u):i[u]!==void 0)?o+=String.fromCharCode(i[u]):(o+=String.fromCharCode(e),i[u]=e,r[e++]=u);return o}var r=[],i={},f,u;return r[0]="",f=e(n),u=e(t),[f,u,r]},n.prototype.diff_charsToLines_=function(n,t){for(var i=0;i<n.length;i++){for(var u=n[i][1],f=[],r=0;r<u.length;r++)f[r]=t[u.charCodeAt(r)];n[i][1]=f.join("")}},n.prototype.diff_commonPrefix=function(n,t){if(!n||!t||n.charAt(0)!=t.charAt(0))return 0;for(var r=0,f=Math.min(n.length,t.length),i=f,u=0;r<i;)n.substring(u,i)==t.substring(u,i)?u=r=i:f=i,i=Math.floor((f-r)/2+r);return i},n.prototype.diff_commonSuffix=function(n,t){if(!n||!t||n.charAt(n.length-1)!=t.charAt(t.length-1))return 0;for(var r=0,f=Math.min(n.length,t.length),i=f,u=0;r<i;)n.substring(n.length-i,n.length-u)==t.substring(t.length-i,t.length-u)?u=r=i:f=i,i=Math.floor((f-r)/2+r);return i},n.prototype.diff_commonOverlap_=function(n,t){var i=n.length,r=t.length,u,f;if(i==0||r==0)return 0;if(i>r?n=n.substring(i-r):i<r&&(t=t.substring(0,i)),i=Math.min(i,r),n==t)return i;for(r=0,u=1;;){if(f=n.substring(i-u),f=t.indexOf(f),f==-1)return r;u+=f,(f==0||n.substring(i-u)==t.substring(0,u))&&(r=u,u++)}},n.prototype.diff_halfMatch_=function(n,t){function s(n,t,i){for(var u,f,a=n.substring(i,i+Math.floor(n.length/4)),r=-1,e="",h,c,l,s;(r=t.indexOf(a,r+1))!=-1;)u=o.diff_commonPrefix(n.substring(i),t.substring(r)),f=o.diff_commonSuffix(n.substring(0,i),t.substring(0,r)),e.length<f+u&&(e=t.substring(r-f,r)+t.substring(r,r+u),h=n.substring(0,i-f),c=n.substring(i+u),l=t.substring(0,r-f),s=t.substring(r+u));return e.length*2>=n.length?[h,c,l,s,e]:null}var i,f,e;if(this.Diff_Timeout<=0||(i=n.length>t.length?n:t,f=n.length>t.length?t:n,i.length<4||f.length*2<i.length))return null;var o=this,u=s(i,f,Math.ceil(i.length/4)),i=s(i,f,Math.ceil(i.length/2)),r;if(u||i)r=i?u?u[4].length>i[4].length?u:i:i:u;else return null;return n.length>t.length?(u=r[0],i=r[1],f=r[2],e=r[3]):(f=r[0],e=r[1],u=r[2],i=r[3]),r=r[4],[u,i,f,e,r]},n.prototype.diff_cleanupSemantic=function(n){for(var f=!1,u=[],i=0,r=null,t=0,s=0,h=0,e=0,o=0;t<n.length;)n[t][0]==0?(u[i++]=t,s=e,h=o,o=e=0,r=n[t][1]):(n[t][0]==1?e+=n[t][1].length:o+=n[t][1].length,r!==null&&r.length<=Math.max(s,h)&&r.length<=Math.max(e,o)&&(n.splice(u[i-1],0,[-1,r]),n[u[i-1]+1][0]=1,i--,i--,t=i>0?u[i-1]:-1,o=e=h=s=0,r=null,f=!0)),t++;for(f&&this.diff_cleanupMerge(n),this.diff_cleanupSemanticLossless(n),t=1;t<n.length;)n[t-1][0]==-1&&n[t][0]==1&&(f=n[t-1][1],u=n[t][1],i=this.diff_commonOverlap_(f,u),r=this.diff_commonOverlap_(u,f),i>=r?(i>=f.length/2||i>=u.length/2)&&(n.splice(t,0,[0,u.substring(0,i)]),n[t-1][1]=f.substring(0,f.length-i),n[t+1][1]=u.substring(i),t++):(r>=f.length/2||r>=u.length/2)&&(n.splice(t,0,[0,f.substring(0,r)]),n[t-1]=[1,u.substring(0,u.length-r)],n[t+1]=[-1,f.substring(r)],t++),t++),t++},n.prototype.diff_cleanupSemanticLossless=function(t){function s(t,i){if(!t||!i)return 6;var u=t.charAt(t.length-1),r=i.charAt(0),o=u.match(n.nonAlphaNumericRegex_),s=r.match(n.nonAlphaNumericRegex_),f=o&&u.match(n.whitespaceRegex_),e=s&&r.match(n.whitespaceRegex_),u=f&&u.match(n.linebreakRegex_),r=e&&r.match(n.linebreakRegex_),c=u&&t.match(n.blanklineEndRegex_),h=r&&i.match(n.blanklineStartRegex_);return c||h?5:u||r?4:o&&!f&&e?3:f||e?2:o||s?1:0}for(var i=1;i<t.length-1;){if(t[i-1][0]==0&&t[i+1][0]==0){var e=t[i-1][1],r=t[i][1],f=t[i+1][1],u=this.diff_commonSuffix(e,r);if(u)var o=r.substring(r.length-u),e=e.substring(0,e.length-u),r=o+r.substring(0,r.length-u),f=o+f;for(var u=e,o=r,h=f,l=s(e,r)+s(r,f);r.charAt(0)===f.charAt(0);){e+=r.charAt(0);var r=r.substring(1)+f.charAt(0),f=f.substring(1),c=s(e,r)+s(r,f);c>=l&&(l=c,u=e,o=r,h=f)}t[i-1][1]!=u&&(u?t[i-1][1]=u:(t.splice(i-1,1),i--),t[i][1]=o,h?t[i+1][1]=h:(t.splice(i+1,1),i--))}i++}},n.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,n.whitespaceRegex_=/\s/,n.linebreakRegex_=/[\r\n]/,n.blanklineEndRegex_=/\n\r?\n$/,n.blanklineStartRegex_=/^\r?\n\r?\n/,n.prototype.diff_cleanupEfficiency=function(n){for(var h=!1,e=[],t=0,f="",r=0,s=!1,o=!1,i=!1,u=!1;r<n.length;)n[r][0]==0?(n[r][1].length<this.Diff_EditCost&&(i||u)?(e[t++]=r,s=i,o=u,f=n[r][1]):(t=0,f=""),i=u=!1):(n[r][0]==-1?u=!0:i=!0,f&&(s&&o&&i&&u||f.length<this.Diff_EditCost/2&&s+o+i+u==3))&&(n.splice(e[t-1],0,[-1,f]),n[e[t-1]+1][0]=1,t--,f="",s&&o?(i=u=!0,t=0):(t--,r=t>0?e[t-1]:-1,i=u=!1),h=!0),r++;h&&this.diff_cleanupMerge(n)},n.prototype.diff_cleanupMerge=function(n){n.push([0,""]);for(var t=0,i=0,r=0,e="",u="",f;t<n.length;)switch(n[t][0]){case 1:r++,u+=n[t][1],t++;break;case-1:i++,e+=n[t][1],t++;break;case 0:i+r>1?(i!==0&&r!==0&&(f=this.diff_commonPrefix(u,e),f!==0&&(t-i-r>0&&n[t-i-r-1][0]==0?n[t-i-r-1][1]+=u.substring(0,f):(n.splice(0,0,[0,u.substring(0,f)]),t++),u=u.substring(f),e=e.substring(f)),f=this.diff_commonSuffix(u,e),f!==0&&(n[t][1]=u.substring(u.length-f)+n[t][1],u=u.substring(0,u.length-f),e=e.substring(0,e.length-f))),i===0?n.splice(t-i-r,i+r,[1,u]):r===0?n.splice(t-i-r,i+r,[-1,e]):n.splice(t-i-r,i+r,[-1,e],[1,u]),t=t-i-r+(i?1:0)+(r?1:0)+1):t!==0&&n[t-1][0]==0?(n[t-1][1]+=n[t][1],n.splice(t,1)):t++,i=r=0,u=e=""}for(n[n.length-1][1]===""&&n.pop(),i=!1,t=1;t<n.length-1;)n[t-1][0]==0&&n[t+1][0]==0&&(n[t][1].substring(n[t][1].length-n[t-1][1].length)==n[t-1][1]?(n[t][1]=n[t-1][1]+n[t][1].substring(0,n[t][1].length-n[t-1][1].length),n[t+1][1]=n[t-1][1]+n[t+1][1],n.splice(t-1,1),i=!0):n[t][1].substring(0,n[t+1][1].length)==n[t+1][1]&&(n[t-1][1]+=n[t+1][1],n[t][1]=n[t][1].substring(n[t+1][1].length)+n[t+1][1],n.splice(t+1,1),i=!0)),t++;i&&this.diff_cleanupMerge(n)},n.prototype.diff_xIndex=function(n,t){for(var u=0,f=0,e=0,r=0,i=0;i<n.length;i++){if(n[i][0]!==1&&(u+=n[i][1].length),n[i][0]!==-1&&(f+=n[i][1].length),u>t)break;e=u,r=f}return n.length!=i&&n[i][0]===-1?r:r+(t-e)},n.prototype.diff_prettyHtml=function(n){for(var r=[],o=/&/g,e=/</g,u=/>/g,s=/\n/g,t=0;t<n.length;t++){var f=n[t][0],i=n[t][1],i=i.replace(o,"&amp;").replace(e,"&lt;").replace(u,"&gt;").replace(s,"&para;<br>");switch(f){case 1:r[t]='<ins style="background:#e6ffe6;">'+i+"</ins>";break;case-1:r[t]='<del style="background:#ffe6e6;">'+i+"</del>";break;case 0:r[t]="<span>"+i+"</span>"}}return r.join("")},n.prototype.diff_text1=function(n){for(var i=[],t=0;t<n.length;t++)n[t][0]!==1&&(i[t]=n[t][1]);return i.join("")},n.prototype.diff_text2=function(n){for(var i=[],t=0;t<n.length;t++)n[t][0]!==-1&&(i[t]=n[t][1]);return i.join("")},n.prototype.diff_levenshtein=function(n){for(var e,u,f=0,r=0,t=0,i=0;i<n.length;i++){e=n[i][0],u=n[i][1];switch(e){case 1:r+=u.length;break;case-1:t+=u.length;break;case 0:f+=Math.max(r,t),t=r=0}}return f+=Math.max(r,t)},n.prototype.diff_toDelta=function(n){for(var i=[],t=0;t<n.length;t++)switch(n[t][0]){case 1:i[t]="+"+encodeURI(n[t][1]);break;case-1:i[t]="-"+n[t][1].length;break;case 0:i[t]="="+n[t][1].length}return i.join("\t").replace(/%20/g," ")},n.prototype.diff_fromDelta=function(n,t){for(var i,f,e=[],s=0,o=0,u=t.split(/\t/g),r=0;r<u.length;r++){i=u[r].substring(1);switch(u[r].charAt(0)){case"+":try{e[s++]=[1,decodeURI(i)]}catch(h){throw Error("Illegal escape in diff_fromDelta: "+i);}break;case"-":case"=":if(f=parseInt(i,10),isNaN(f)||f<0)throw Error("Invalid number in diff_fromDelta: "+i);i=n.substring(o,o+=f),e[s++]=u[r].charAt(0)=="="?[0,i]:[-1,i];break;default:if(u[r])throw Error("Invalid diff operation in diff_fromDelta: "+u[r]);}}if(o!=n.length)throw Error("Delta length ("+o+") does not equal source text length ("+n.length+").");return e},n.prototype.match_main=function(n,t,i){if(n==null||t==null||i==null)throw Error("Null input. (match_main)");return i=Math.max(0,Math.min(i,n.length)),n==t?0:n.length?n.substring(i,i+t.length)==t?i:this.match_bitap_(n,t,i):-1},n.prototype.match_bitap_=function(n,t,i){function c(n,r){var f=n/t.length,u=Math.abs(i-r);return v.Match_Distance?f+u/v.Match_Distance:u?1:f}var u,h;if(t.length>this.Match_MaxBits)throw Error("Pattern too long for this browser.");var y=this.match_alphabet_(t),v=this,o=this.Match_Threshold,f=n.indexOf(t,i);f!=-1&&(o=Math.min(c(0,f),o),f=n.lastIndexOf(t,i+t.length),f!=-1&&(o=Math.min(c(0,f),o)));for(var p=1<<t.length-1,f=-1,e,r,a=t.length+n.length,l,s=0;s<t.length;s++){for(e=0,r=a;e<r;)c(s,i+r)<=o?e=r:a=r,r=Math.floor((a-e)/2+e);for(a=r,e=Math.max(1,i-r+1),u=Math.min(i+r,n.length)+t.length,r=Array(u+2),r[u+1]=(1<<s)-1;u>=e;u--)if(h=y[n.charAt(u-1)],r[u]=s===0?(r[u+1]<<1|1)&h:(r[u+1]<<1|1)&h|(l[u+1]|l[u])<<1|1|l[u+1],r[u]&p&&(h=c(s,u-1),h<=o))if(o=h,f=u-1,f>i)e=Math.max(1,2*i-f);else break;if(c(s+1,i)>o)break;l=r}return f},n.prototype.match_alphabet_=function(n){for(var i={},t=0;t<n.length;t++)i[n.charAt(t)]=0;for(t=0;t<n.length;t++)i[n.charAt(t)]|=1<<n.length-t-1;return i},n.prototype.patch_addContext_=function(n,t){if(t.length!=0){for(var r=t.substring(n.start2,n.start2+n.length1),i=0;t.indexOf(r)!=t.lastIndexOf(r)&&r.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)i+=this.Patch_Margin,r=t.substring(n.start2-i,n.start2+n.length1+i);i+=this.Patch_Margin,(r=t.substring(n.start2-i,n.start2))&&n.diffs.unshift([0,r]),(i=t.substring(n.start2+n.length1,n.start2+n.length1+i))&&n.diffs.push([0,i]),n.start1-=r.length,n.start2-=r.length,n.length1+=r.length+i.length,n.length2+=r.length+i.length}},n.prototype.patch_make=function(t,i,r){var u,h,f;if(typeof t=="string"&&typeof i=="string"&&typeof r=="undefined")u=t,i=this.diff_main(u,i,!0),i.length>2&&(this.diff_cleanupSemantic(i),this.diff_cleanupEfficiency(i));else if(t&&typeof t=="object"&&typeof i=="undefined"&&typeof r=="undefined")i=t,u=this.diff_text1(i);else if(typeof t=="string"&&i&&typeof i=="object"&&typeof r=="undefined")u=t;else if(typeof t=="string"&&typeof i=="string"&&r&&typeof r=="object")u=t,i=r;else throw Error("Unknown call format to patch_make.");if(i.length===0)return[];for(var r=[],t=new n.patch_obj,o=0,c=0,s=0,l=u,e=0;e<i.length;e++){h=i[e][0],f=i[e][1],o||h===0||(t.start1=c,t.start2=s);switch(h){case 1:t.diffs[o++]=i[e],t.length2+=f.length,u=u.substring(0,s)+f+u.substring(s);break;case-1:t.length1+=f.length,t.diffs[o++]=i[e],u=u.substring(0,s)+u.substring(s+f.length);break;case 0:f.length<=2*this.Patch_Margin&&o&&i.length!=e+1?(t.diffs[o++]=i[e],t.length1+=f.length,t.length2+=f.length):f.length>=2*this.Patch_Margin&&o&&(this.patch_addContext_(t,l),r.push(t),t=new n.patch_obj,o=0,l=u,c=s)}h!==1&&(c+=f.length),h!==-1&&(s+=f.length)}return o&&(this.patch_addContext_(t,l),r.push(t)),r},n.prototype.patch_deepCopy=function(t){for(var r,i,u,e=[],f=0;f<t.length;f++){for(r=t[f],i=new n.patch_obj,i.diffs=[],u=0;u<r.diffs.length;u++)i.diffs[u]=r.diffs[u].slice();i.start1=r.start1,i.start2=r.start2,i.length1=r.length1,i.length2=r.length2,e[f]=i}return e},n.prototype.patch_apply=function(n,t){var i,h,e,o;if(n.length==0)return[t,[]];var n=this.patch_deepCopy(n),c=this.patch_addPadding(n),t=c+t+c;this.patch_splitMax(n);for(var l=0,s=[],f=0;f<n.length;f++){var u=n[f].start2+l,i=this.diff_text1(n[f].diffs),r,e=-1;if(i.length>this.Match_MaxBits?(r=this.match_main(t,i.substring(0,this.Match_MaxBits),u),r!=-1&&(e=this.match_main(t,i.substring(i.length-this.Match_MaxBits),u+i.length-this.Match_MaxBits),e==-1||r>=e))&&(r=-1):r=this.match_main(t,i,u),r==-1)s[f]=!1,l-=n[f].length2-n[f].length1;else if(s[f]=!0,l=r-u,u=e==-1?t.substring(r,r+i.length):t.substring(r,e+this.Match_MaxBits),i==u)t=t.substring(0,r)+this.diff_text2(n[f].diffs)+t.substring(r+i.length);else if(u=this.diff_main(i,u,!1),i.length>this.Match_MaxBits&&this.diff_levenshtein(u)/i.length>this.Patch_DeleteThreshold)s[f]=!1;else for(this.diff_cleanupSemanticLossless(u),i=0,e=0;e<n[f].diffs.length;e++)o=n[f].diffs[e],o[0]!==0&&(h=this.diff_xIndex(u,i)),o[0]===1?t=t.substring(0,r+h)+o[1]+t.substring(r+h):o[0]===-1&&(t=t.substring(0,r+h)+t.substring(r+this.diff_xIndex(u,i+o[1].length))),o[0]!==-1&&(i+=o[1].length)}return t=t.substring(c.length,t.length-c.length),[t,s]},n.prototype.patch_addPadding=function(n){for(var i,u,r=this.Patch_Margin,f="",t=1;t<=r;t++)f+=String.fromCharCode(t);for(t=0;t<n.length;t++)n[t].start1+=r,n[t].start2+=r;return t=n[0],i=t.diffs,i.length==0||i[0][0]!=0?(i.unshift([0,f]),t.start1-=r,t.start2-=r,t.length1+=r,t.length2+=r):r>i[0][1].length&&(u=r-i[0][1].length,i[0][1]=f.substring(i[0][1].length)+i[0][1],t.start1-=u,t.start2-=u,t.length1+=u,t.length2+=u),t=n[n.length-1],i=t.diffs,i.length==0||i[i.length-1][0]!=0?(i.push([0,f]),t.length1+=r,t.length2+=r):r>i[i.length-1][1].length&&(u=r-i[i.length-1][1].length,i[i.length-1][1]+=f.substring(0,u),t.length1+=u,t.length2+=u),f},n.prototype.patch_splitMax=function(t){for(var f,i,o,u,r,s=this.Match_MaxBits,e=0;e<t.length;e++)if(t[e].length1>s){f=t[e],t.splice(e--,1);for(var h=f.start1,c=f.start2,u="";f.diffs.length!==0;){for(i=new n.patch_obj,o=!0,i.start1=h-u.length,i.start2=c-u.length,u!==""&&(i.length1=i.length2=u.length,i.diffs.push([0,u]));f.diffs.length!==0&&i.length1<s-this.Patch_Margin;)u=f.diffs[0][0],r=f.diffs[0][1],u===1?(i.length2+=r.length,c+=r.length,i.diffs.push(f.diffs.shift()),o=!1):u===-1&&i.diffs.length==1&&i.diffs[0][0]==0&&r.length>2*s?(i.length1+=r.length,h+=r.length,o=!1,i.diffs.push([u,r]),f.diffs.shift()):(r=r.substring(0,s-i.length1-this.Patch_Margin),i.length1+=r.length,h+=r.length,u===0?(i.length2+=r.length,c+=r.length):o=!1,i.diffs.push([u,r]),r==f.diffs[0][1]?f.diffs.shift():f.diffs[0][1]=f.diffs[0][1].substring(r.length));u=this.diff_text2(i.diffs),u=u.substring(u.length-this.Patch_Margin),r=this.diff_text1(f.diffs).substring(0,this.Patch_Margin),r!==""&&(i.length1+=r.length,i.length2+=r.length,i.diffs.length!==0&&i.diffs[i.diffs.length-1][0]===0?i.diffs[i.diffs.length-1][1]+=r:i.diffs.push([0,r])),o||t.splice(++e,0,i)}}},n.prototype.patch_toText=function(n){for(var i=[],t=0;t<n.length;t++)i[t]=n[t];return i.join("")},n.prototype.patch_fromText=function(t){var e=[],i,r,f;if(!t)return e;for(var t=t.split("\n"),u=0,o=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;u<t.length;){if(i=t[u].match(o),!i)throw Error("Invalid patch string: "+t[u]);for(r=new n.patch_obj,e.push(r),r.start1=parseInt(i[1],10),i[2]===""?(r.start1--,r.length1=1):i[2]=="0"?r.length1=0:(r.start1--,r.length1=parseInt(i[2],10)),r.start2=parseInt(i[3],10),i[4]===""?(r.start2--,r.length2=1):i[4]=="0"?r.length2=0:(r.start2--,r.length2=parseInt(i[4],10)),u++;u<t.length;){i=t[u].charAt(0);try{f=decodeURI(t[u].substring(1))}catch(s){throw Error("Illegal escape in patch_fromText: "+f);}if(i=="-")r.diffs.push([-1,f]);else if(i=="+")r.diffs.push([1,f]);else if(i==" ")r.diffs.push([0,f]);else if(i=="@")break;else if(i!=="")throw Error('Invalid patch mode "'+i+'" in: '+f);u++}}return e},n.patch_obj=function(){this.diffs=[],this.start2=this.start1=null,this.length2=this.length1=0},n.patch_obj.prototype.toString=function(){for(var i,t=this.length1===0?this.start1+",0":this.length1==1?this.start1+1:this.start1+1+","+this.length1,n=this.length2===0?this.start2+",0":this.length2==1?this.start2+1:this.start2+1+","+this.length2,t=["@@ -"+t+" +"+n+" @@\n"],n=0;n<this.diffs.length;n++){switch(this.diffs[n][0]){case 1:i="+";break;case-1:i="-";break;case 0:i=" "}t[n+1]=i+encodeURI(this.diffs[n][1])+"\n"}return t.join("").replace(/%20/g," ")},this.diff_match_patch=n,this.DIFF_DELETE=-1,this.DIFF_INSERT=1,this.DIFF_EQUAL=0}()