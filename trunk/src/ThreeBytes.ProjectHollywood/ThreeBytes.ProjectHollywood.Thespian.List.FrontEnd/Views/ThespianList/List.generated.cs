#pragma warning disable 1591
//------------------------------------------------------------------------------
// <auto-generated>
//     This code was generated by a tool.
//     Runtime Version:4.0.30319.269
//
//     Changes to this file may cause incorrect behavior and will be lost if
//     the code is regenerated.
// </auto-generated>
//------------------------------------------------------------------------------

namespace ThreeBytes.ProjectHollywood.Thespian.List.Frontend.Views.ThespianList
{
    using System;
    using System.Collections.Generic;
    using System.Globalization;
    using System.IO;
    using System.Linq;
    using System.Net;
    using System.Text;
    using System.Web;
    using System.Web.Helpers;
    using System.Web.Mvc;
    using System.Web.Mvc.Ajax;
    using System.Web.Mvc.Html;
    using System.Web.Routing;
    using System.Web.Script.Serialization;
    using System.Web.Security;
    using System.Web.UI;
    using System.Web.WebPages;
    using MvcContrib;
    using ThreeBytes.Core.Extensions.Mvc;
    using ThreeBytes.Core.Security.Concrete;
    using ThreeBytes.ProjectHollywood.Thespian.List.Frontend.Models;
    using ThreeBytes.ProjectHollywood.Thespian.List.Resources;
    
    [System.CodeDom.Compiler.GeneratedCodeAttribute("RazorGenerator", "1.2.0.0")]
    [System.Web.WebPages.PageVirtualPathAttribute("~/Views/ThespianList/List.cshtml")]
    public class List : System.Web.Mvc.WebViewPage<dynamic>
    {
        public List()
        {
        }
        public override void Execute()
        {
WriteLiteral("<div id=\"thespian-list-container\">\r\n    <div class=\"row\">\r\n        <div class=\"sp" +
"an12\">\r\n            <div id=\"thespian-options-container\" class=\"btn-toolbar\">\r\n " +
"               <div class=\"btn-group inline\" data-toggle=\"buttons-radio\" style=\"" +
"margin: 9px 0;\">\r\n                    <button class=\"btn btn-primary\" data-bind=" +
"\"click: function() { setThespianTypeFilter(\'Artist\') }, css: { active: ThespianT" +
"ypeFilter() == \'Artist\' }\">\r\n                        Artists</button>\r\n         " +
"           <button class=\"btn btn-primary\" data-bind=\"click: function() { setThe" +
"spianTypeFilter(\'Creative\') }, css: { active: ThespianTypeFilter() == \'Creative\'" +
" }\">\r\n                        Creatives</button>\r\n                </div>\r\n      " +
"          <div class=\"btn-group inline\" data-toggle=\"buttons-radio\" style=\"margi" +
"n: 9px 0;\">\r\n                    <button class=\"btn btn-primary\" data-bind=\"clic" +
"k: function() { setGenderFilter(\'Male\') }, css: { active: GenderFilter() == \'Mal" +
"e\' }\">\r\n                        Male</button>\r\n                    <button class" +
"=\"btn btn-primary\" data-bind=\"click: function() { setGenderFilter(\'Female\') }, c" +
"ss: { active: GenderFilter() == \'Female\' }\">\r\n                        Female</bu" +
"tton>\r\n                </div>\r\n                <div class=\"btn-group inline\" dat" +
"a-toggle=\"buttons-radio\" style=\"margin: 9px 0;\">\r\n                    <button cl" +
"ass=\"btn btn-primary\" data-bind=\"click: setAKFilter, css: { active: AToKFilter }" +
"\">\r\n                        A-K</button>\r\n                    <button class=\"btn" +
" btn-primary\" data-bind=\"click: setLZFilter, css: { active: LToKFilter }\">\r\n    " +
"                    L-Z</button>\r\n                </div>\r\n            </div>\r\n  " +
"      </div>\r\n    </div>\r\n    <div class=\"row\">\r\n        <div class=\"span12\">\r\n " +
"           <div id=\"thespian-filtered-list-container\" data-bind=\"visible: Items(" +
").length > 0\">\r\n                <ul id=\"thespian-list\" class=\"thumbnails\" data-b" +
"ind=\"foreach: Items\">\r\n                    <li class=\"span3\">\r\n                 " +
"       <div class=\"thumbnail\">\r\n                            <img data-bind=\"attr" +
": { src: ProfileImageUrl() }\" />\r\n                            <div class=\"captio" +
"n\">\r\n                                <h5>\r\n                                    <" +
"span data-bind=\"fadeInText: FirstName\"></span> <span data-bind=\"fadeInText: Last" +
"Name\"></span>\r\n                                </h5>\r\n                          " +
"      <p>\r\n                                    Add a trunced Client Summary here" +
"?\r\n                                </p>\r\n");


            
            #line 40 "..\..\Views\ThespianList\List.cshtml"
                                 if (Context.User.Identity.IsAuthenticated && ((ThreeBytesPrincipal)Context.User).IsInAnyRoles(new[] { "Creator", "Admin", "ThespianManager" }))
                                {

            
            #line default
            #line hidden
WriteLiteral(@"                                    <div class=""btn-group open"">
                                        <button class=""btn btn-primary dropdown-toggle"" data-toggle=""dropdown"">
                                            Select <span class=""caret""></span>
                                        </button>
                                        <ul class=""dropdown-menu"">
                                            <li><a href=""#"" data-bind=""click: $parent.raiseDetails"">More</a></li>
                                            <li class=""divider""></li>
                                            <li><a href=""#"" data-bind=""click: $parent.raiseEdit"">");


            
            #line 49 "..\..\Views\ThespianList\List.cshtml"
                                                                                            Write(Resources.Edit);

            
            #line default
            #line hidden
WriteLiteral("</a></li>\r\n                                            <li><a href=\"#\" data-bind=" +
"\"click: $parent.raiseDelete\">");


            
            #line 50 "..\..\Views\ThespianList\List.cshtml"
                                                                                              Write(Resources.Delete);

            
            #line default
            #line hidden
WriteLiteral("</a></li>\r\n                                        </ul>\r\n                       " +
"             </div>\r\n");


            
            #line 53 "..\..\Views\ThespianList\List.cshtml"
                                }
                                else
                                {

            
            #line default
            #line hidden
WriteLiteral("                                    <button class=\"btn btn-info\" data-bind=\"click" +
": $parent.raiseDetails\">More</button>\r\n");


            
            #line 57 "..\..\Views\ThespianList\List.cshtml"
                                }

            
            #line default
            #line hidden
WriteLiteral("                            </div>\r\n                        </div>\r\n             " +
"       </li>\r\n                </ul>\r\n            </div>\r\n        </div>\r\n    </d" +
"iv>\r\n</div>\r\n");


            
            #line 66 "..\..\Views\ThespianList\List.cshtml"
   
    using (Html.BeginScriptContext())
    {
        Html.AddScriptBlock(@"

        var thespian_list  = {};

        (function (index) {

            var mapping = {
			    create: function(options) {
                    var item = ko.mapping.fromJS(options.data);

                    item.ProfileImageUrl = ko.computed(function() {
                        if(item.ProfileThumbnailImageLocation() != '' && item.ProfileThumbnailImageLocation() != null && item.ProfileThumbnailImageLocation() != typeof('undefined'))
                            return '" + @Url.Action("GetProfileImage", "OurClients") + @"' + '/' + item.ProfileThumbnailImageLocation();

                        return '" + @Url.Content("img/placeholder260x180.gif") + @"';
                    });

                    return item;
                }
		    };

            var hub = jQuery.connection.thespianListHub;
        
            thespian_list = index;

            index.ThespianTypeFilter = ko.observable('Artist');
            index.GenderFilter = ko.observable('Male');
            index.AToKFilter = ko.observable(true);
            index.LToKFilter = ko.observable(false);
            index.Items = ko.observableArray();
            index.GetItems = ko.computed(function() {         
                jQuery.getJSON('/OurClients/GetArtists', { 'type': index.ThespianTypeFilter(), 'gender': index.GenderFilter(), 'aToKFilter': index.AToKFilter(), 'lToKFilter': index.LToKFilter() }, function(data) {
                    
                    index.Items.removeAll();

                    jQuery.each(data.Thespians, function() {
                        index.Items.push(ko.mapping.fromJS(this, mapping));
                    });
                });
            }, index);

            index.setGenderFilter = function(gender) {
                index.GenderFilter(gender);
            };

            index.setThespianTypeFilter = function(type) {
                index.ThespianTypeFilter(type);
            };

            index.setAKFilter = function() {
                index.AToKFilter(true);
                index.LToKFilter(false);
            };

            index.setLZFilter = function() {
                index.AToKFilter(false);
                index.LToKFilter(true);
            };

            index.raiseEdit = function (obj) {
                jQuery(document).trigger('thespianEdit', [obj.Id()]);
            };
        
            index.raiseDetails = function (obj) {
                jQuery(document).trigger('thespianDetails', [obj]);
            };
        
            index.raiseDelete = function (obj) {
                jQuery(document).trigger('thespianDelete', [obj.Id()]);
            };

            hub.handleCreatedThespianEventMessage = function(message) {
                var exists = ko.utils.arrayFirst(index.Items(), function(item) {
                    return item.Id() == message.Id;
                });

                if (exists != null)
                    return;

                jQuery.getJSON('/OurClients/GetArtists', { 'type': index.ThespianTypeFilter(), 'gender': index.GenderFilter(), 'aToKFilter': index.AToKFilter(), 'lToKFilter': index.LToKFilter() }, function(data) {
                    
                    index.Items.removeAll();

                    jQuery.each(data.Thespians, function() {
                        index.Items.push(ko.mapping.fromJS(this, mapping));
                    });
                });
            };

            hub.handleRenamedThespianEventMessage = function(id, newFirstName, newLastName) {
                var update = ko.utils.arrayFirst(index.Items(), function(item) {
                    return item.Id() == id;
                });

                if (update == null)
                    return;

                ko.bindingHandlers.fadeInText.highlight = true;

                if (update.FirstName() != newFirstName)
                    update.FirstName(newFirstName);

                if (update.LastName() != newLastName)
                    update.LastName(newLastName);

                ko.bindingHandlers.fadeInText.highlight = false;
            };

            hub.handleThespianProfileImageUpdatedEventMessage = function(id, newProfileImageLocation, newProfileThumbnailImageLocation) {
                var update = ko.utils.arrayFirst(index.Items(), function(item) {
                    return item.Id() == id;
                });

                if (update == null)
                    return;

                if (update.ProfileImageLocation() != newProfileImageLocation)
                    update.ProfileImageLocation(newProfileImageLocation);

                if (update.ProfileThumbnailImageLocation() != newProfileThumbnailImageLocation)
                    update.ProfileThumbnailImageLocation(newProfileThumbnailImageLocation);
            };

            hub.handleDeletedThespianEventMessage = function(id) {
                var toDelete = ko.utils.arrayFirst(index.Items(), function(item) {
                    return item.Id() == id;
                });

                if (toDelete == null)
                    return;

                index.Items.remove(toDelete);
            };

            jQuery(function() {
                ko.applyBindings(index, jQuery('#thespian-list-container')[0]);
            });

        } (thespian_list));");
    }


            
            #line default
            #line hidden

        }
    }
}
#pragma warning restore 1591
