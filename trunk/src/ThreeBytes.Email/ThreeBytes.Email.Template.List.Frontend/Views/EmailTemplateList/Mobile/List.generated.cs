#pragma warning disable 1591
//------------------------------------------------------------------------------
// <auto-generated>
//     This code was generated by a tool.
//     Runtime Version:4.0.30319.239
//
//     Changes to this file may cause incorrect behavior and will be lost if
//     the code is regenerated.
// </auto-generated>
//------------------------------------------------------------------------------

namespace ThreeBytes.Email.Template.List.Frontend.Views.EmailTemplateList.Mobile
{
    using System;
    using System.Collections.Generic;
    using System.Globalization;
    using System.IO;
    using System.Linq;
    using System.Net;
    using System.Text;
    using System.Web;
    using System.Web.Helpers;
    using System.Web.Mvc;
    using System.Web.Mvc.Ajax;
    using System.Web.Mvc.Html;
    using System.Web.Routing;
    using System.Web.Script.Serialization;
    using System.Web.Security;
    using System.Web.UI;
    using System.Web.WebPages;
    using ThreeBytes.Core.Extensions.Mvc;
    
    [System.CodeDom.Compiler.GeneratedCodeAttribute("RazorGenerator", "1.2.0.0")]
    [System.Web.WebPages.PageVirtualPathAttribute("~/Views/EmailTemplateList/Mobile/List.cshtml")]
    public class List : System.Web.Mvc.WebViewPage<ThreeBytes.Email.Template.List.Frontend.Models.PagedEmailTemplateEmailViewModel>
    {
        public List()
        {
        }
        public override void Execute()
        {

WriteLiteral("<div id=\"paged-templates-container\">\r\n    <ul data-role=\"listview\" data-inset=\"tr" +
"ue\" data-bind=\"template: { name: \'email-template-list-grid-tmpl\', foreach: showC" +
"urrentPage }\"\r\n        class=\"ui-listview ui-listview-inset ui-corner-all ui-sha" +
"dow\">\r\n    </ul>\r\n</div>\r\n<script type=\"text/javascript\">\r\n\r\n    var email_templ" +
"ate_paged_list = {};\r\n\r\n    (function (index) {\r\n        jQuery.getJSON(\"/EmailT" +
"emplateList/List\", function (data) {\r\n\r\n            email_template_paged_list = " +
"index = ko.mapping.fromJS(data);\r\n\r\n            index.requestedPages = ko.observ" +
"ableArray([]);\r\n            index.requestedPages.push(data.PageNumber);\r\n\r\n     " +
"       index.plural = ko.dependentObservable(function () {\r\n                retu" +
"rn this.TotalItemCount() == 1 ? \'template\' : \'templates\';\r\n            }, index)" +
";\r\n\r\n            index.is_are = ko.dependentObservable(function () {\r\n          " +
"      return this.TotalItemCount() == 1 ? \'is\' : \'are\';\r\n            }, index);\r" +
"\n\r\n            index.navigate = function (obj) {\r\n\r\n                var el = obj" +
".target;\r\n\r\n                if (el.id === \"next\") {\r\n                    if (ind" +
"ex.PageNumber() < ko.utils.unwrapObservable(index.PageCount())) {\r\n             " +
"           index.PageNumber(index.PageNumber() + 1);\r\n                    }\r\n   " +
"             }\r\n                else if (el.id === \"prev\") {\r\n                  " +
"  if (index.PageNumber() > 1) {\r\n                        index.PageNumber(index." +
"PageNumber() - 1);\r\n                    }\r\n                }\r\n                el" +
"se {\r\n                    index.PageNumber(parseInt(el.innerText));\r\n           " +
"     }\r\n\r\n                var makeRequest = true;\r\n\r\n                jQuery.each" +
"(index.requestedPages(), function () {\r\n                    if (this == index.Pa" +
"geNumber()) {\r\n                        makeRequest = false;\r\n                   " +
" }\r\n                });\r\n\r\n                if (makeRequest) {\r\n                 " +
"   jQuery.getJSON(\"/EmailTemplateList/List\", { \'page\': index.PageNumber(), \'date" +
"time\': GetDotNetDate(index.OriginalRequestDateTime()) }, function (data) {\r\n    " +
"                    jQuery.each(data.Items, function () {\r\n                     " +
"       index.Items.push(ko.mapping.fromJS(this));\r\n                        });\r\n" +
"\r\n                        index.requestedPages.push(index.PageNumber());\r\n      " +
"              });\r\n                }\r\n            };\r\n\r\n            index.showCu" +
"rrentPage = ko.dependentObservable(function () {\r\n                var startIndex" +
" = 10 * (index.PageNumber() - 1);\r\n                return index.Items.slice(star" +
"tIndex, startIndex + 10);\r\n            });\r\n\r\n            index.raiseEdit = func" +
"tion (obj) {\r\n                jQuery(document).trigger(\'emailTemplateEdit\', [obj" +
".Id()]);\r\n            };\r\n\r\n            index.raiseDetails = function (obj) {\r\n " +
"               jQuery(document).trigger(\'emailTemplateDetails\', [obj, \'list\']);\r" +
"\n            };\r\n\r\n            index.raiseDelete = function (obj) {\r\n           " +
"     jQuery(document).trigger(\'emailTemplateDelete\', [obj.Id()]);\r\n            }" +
";\r\n\r\n            jQuery(function () {\r\n                ko.applyBindings(index, j" +
"Query(\'#paged-templates-container\')[0]);\r\n            });\r\n\r\n            jQuery(" +
"document).bind(\'newEmailTemplates\', function (event, items) {\r\n                j" +
"Query.each(items, function (i, item) {\r\n                    index.Items.unshift(" +
"item);\r\n                });\r\n            });\r\n\r\n            jQuery(document).bin" +
"d(\'emailTemplateUpdated\', function (event, id) {\r\n                setTimeout(fun" +
"ction () {\r\n                    jQuery.getJSON(\"/EmailTemplateList/Get\", { \'id\':" +
" id }, function (data) {\r\n                        var replacement = ko.mapping.f" +
"romJS(data);\r\n\r\n                        jQuery.each(index.Items(), function (i, " +
"item) {\r\n                            if (item.Id() == id) {\r\n                   " +
"             index.Items.splice(i, 1, replacement);\r\n                           " +
"     return false;\r\n                            }\r\n                        });\r\n" +
"                    });\r\n                }, 200);\r\n            });\r\n\r\n          " +
"  jQuery(document).bind(\'emailTemplateDeleted\', function (event, id) {\r\n        " +
"        jQuery.each(index.Items(), function (i, item) {\r\n                    if " +
"(item.Id() == id) {\r\n                        index.Items.splice(i, 1);\r\n        " +
"                return false;\r\n                    }\r\n                });\r\n\r\n   " +
"             if (index.Items().length < 10) {\r\n                    jQuery.getJSO" +
"N(\"/EmailTemplateList/List\", { \'page\': index.PageNumber(), \'datetime\': GetDotNet" +
"Date(index.OriginalRequestDateTime()) }, function (data) {\r\n                    " +
"    ko.mapping.fromJS(data, index);\r\n                    });\r\n                }\r" +
"\n            });\r\n        }, email_template_paged_list);\r\n    } (email_template_" +
"paged_list));\r\n</script>\r\n\r\n<script id=\"email-template-list-grid-tmpl\" type=\"tex" +
"t/x-jquery-tmpl\">    \r\n    <li data-theme=\"c\" class=\"ui-btn ui-btn-icon-right ui" +
"-li-has-arrow ui-li ui-btn-up-c\">\r\n        <div class=\"ui-btn-inner ui-li\" aria-" +
"hidden=\"true\">\r\n            <div class=\"ui-btn-text\">\r\n                <a href=\"" +
"#\" data-bind=\"click: function() { email_template_paged_list.raiseDetails($data) " +
"}\" class=\"ui-link-inherit\">\r\n                <p class=\"ui-li-aside ui-li-desc\"><" +
"strong>${GetDate(CreationDateTime())}</strong></p>\r\n                    <h3 clas" +
"s=\"ui-li-heading\">${Name}</h3>\r\n                    <p class=\"ui-li-desc\">${Appl" +
"icationName}</p>\r\n                </a>\r\n            </div>\r\n            <span cl" +
"ass=\"ui-icon ui-icon-arrow-r ui-icon-shadow\"></span>\r\n        </div>\r\n    </li>\r" +
"\n</script>");


        }
    }
}
#pragma warning restore 1591
